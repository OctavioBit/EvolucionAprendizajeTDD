

----STARTUP---- (9 November 2020 00:03:55) as /Users/ilanolkies/uba/ingsoft1/macos64/CuisUniversity-4384.image!


----End fileIn of /Users/ilanolkies/uba/ingsoft1/ingeSoft-2020-2c/18-Portfolio/Portfolio-Ejercicio.st----!
!Body methodsFor: 'adding' stamp: 'IO 11/9/2020 00:10:41' prior: 50868794 overrides: 50868725!
addAsParent: aPortfolio

	"see superclass"
	
	parentPortfolios add: aPortfolio.
	^self.
! !
!Body methodsFor: 'adding' stamp: 'IO 11/9/2020 00:10:44' prior: 50869135 overrides: 50868725!
addAsParent: aPortfolio

	"see superclass"

	parentPortfolios add: aPortfolio.
	^self.
! !
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 00:20:35'!
parentPortfoliosSend: aMessage with: aTransactionContainer

	"perform an action over all the parent portfolios of this parent portfolio"
	
	parentPortfolios do: [ :aParentPortfolio |   aMessage sendTo: aParentPortfolio with: aTransactionContainer].
! !
!Body methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:20:35' prior: 50868777 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"see superclass"
	
	self parentPortfoliosSend: #validatePortfolioBeforeAdding: with: aPortfolioToAdd. 
	! !
!Body methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:20:35' prior: 50868770 overrides: 50868707!
validateAccountBeforeAdding: anAccount

	"see superclass"
	
	self parentPortfoliosSend: #validateAccountBeforeAdding: with: anAccount. 
	
! !

!methodRemoval: Body #parentPortfoliosDo:with: stamp: 'IO 11/9/2020 00:20:35'!
parentPortfoliosDo: aMessage with: aTransactionContainer

	"perform an action over all the parent portfolios of this parent portfolio"
	
	parentPortfolios do: [ :aParentPortfolio |   aMessage sendTo: aParentPortfolio with: aTransactionContainer].
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:20:38'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 00:21:38' prior: 50869146!
parentPortfoliosSend: aMessage with: aTransactionContainer

	"send a given message to all the parent portfolios with a transaction container as unique parameter"
	
	parentPortfolios do: [ :parentPortfolio | aMessage sendTo: parentPortfolio with: aTransactionContainer].
! !
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 00:28:00' prior: 50869350!
parentPortfoliosSend: aMessage with: aTransactionContainer

	"send a given message to all the parent portfolios with a transaction container as unique parameter"

	parentPortfolios do: [ :parentPortfolio | aMessage sendTo: parentPortfolio with: aTransactionContainer].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:32:05' prior: 50868832 overrides: 50868707!
validateAccountBeforeAdding: anAccount

	"
		see superclass
		implementation details: this method will lookup the account in all the children portfolio's account. if the account
			is found in one of the chidlren, the given account cannot be added to the portfolio
	"
	
	self validatePortfoliosBeforeAdding: anAccount.

	"(childPortfolio includes: anAccount) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]."
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:32:45' prior: 50868847 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:32:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:32:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:33:17'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 00:35:40' prior: 50869024!
addAccount: anAccount

	"add anAccount to this Portfolio"

	self validatePortfolioBeforeAdding: anAccount.
	children add: anAccount.
! !
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 00:35:45' prior: 50869583!
addAccount: anAccount

	"add anAccount to this Portfolio"

	self validateAccountBeforeAdding: anAccount.
	children add: anAccount.
! !
!TransactionContainer methodsFor: 'nil' stamp: 'IO 11/9/2020 00:36:26'!
errorAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
! !
!TransactionContainer class methodsFor: 'no messages' stamp: 'IO 11/9/2020 00:36:58'!
errorAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
! !

!methodRemoval: TransactionContainer #errorAlreadyAdded stamp: 'IO 11/9/2020 00:37:02'!
errorAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
!
!Portfolio class methodsFor: 'error messages' stamp: 'IO 11/9/2020 00:37:25' overrides: 50869604!
errorAlreadyAdded

	Portfolio errorMessagePortfolioAlreadyAdded.
! !
!ReceptiveAccount class methodsFor: 'no messages' stamp: 'IO 11/9/2020 00:37:48' overrides: 50869604!
errorAlreadyAdded

	Portfolio errorMessageAccountAlreadyAdded.
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:38:16' prior: 50869391 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorMessagePortfolioAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:38:20'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:38:20'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:39:02'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:39:02'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:05'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:05'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:39'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:39'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:39:45'!
FAILURE!

----QUIT----(9 November 2020 00:40:44) CuisUniversity-4384.image priorSource: 17155564!

----STARTUP---- (9 November 2020 00:40:48) as /Users/ilanolkies/uba/ingsoft1/macos64/CuisUniversity-4384.image!


!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:41:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:41:15'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:41:22'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:41:22'!
FAILURE!

aPortfolioToAdd!

self errorAlreadyAdded!
!TransactionContainer methodsFor: 'nil' stamp: 'IO 11/9/2020 00:43:38'!
errorMessageAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:44:12' prior: 50869631 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:44:18'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:44:18'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:44:34' prior: 50870195 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd errorAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:44:50' prior: 50870384 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd errorMessageAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !
!Portfolio class methodsFor: 'error messages' stamp: 'IO 11/9/2020 00:45:32' prior: 50869619 overrides: 50869604!
errorAlreadyAdded

	^Portfolio errorMessagePortfolioAlreadyAdded.
! !
!ReceptiveAccount class methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:45:38' prior: 50869625 overrides: 50869604!
errorAlreadyAdded

	^Portfolio errorMessageAccountAlreadyAdded.
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:45:51' prior: 50870407 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:45:54'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:45:54'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:45:54'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:45:54'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:47:39'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:47:39'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:47:39'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:47:39'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:47:45'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:47:45'!
FAILURE!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:48:50'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:48:50'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:48:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:48:50'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:48:53'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:48:53'!
FAILURE!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:50:07' prior: 50870444 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	(childPortfolio accounts includes: aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessageAccountAlreadyAdded].
	"aPortfolioToAdd accounts do: [ :anAccount | childPortfolio validateAccountBeforeAdding: anAccount]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:50:10'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:50:10'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:50:10'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:50:10'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:52:33' prior: 50870981 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	aPortfolioToAdd accounts do: [ :anAccount | (childPortfolio includes: anAccount) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]]
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:52:34' prior: 50871173 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	aPortfolioToAdd accounts do: [ :anAccount | (childPortfolio includes: anAccount) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:52:37'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:53:13' prior: 50871198 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorAlreadyAdded].
	aPortfolioToAdd accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 00:55:08' prior: 50869119 overrides: 50868920!
includes: aTransactionOperation
	"see superclass"
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:55:14'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:55:14'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:55:14'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:14'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:14'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:55:14'!
PASSED!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 00:55:27' prior: 50871413 overrides: 50868920!
includes: aTransactionOperation
	"see superclass"
	^self = aTransactionOperation! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:55:36'!
PASSED!

!methodRemoval: TransactionContainer #errorMessageAlreadyAdded stamp: 'IO 11/9/2020 00:55:52'!
errorMessageAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
!
!ReceptiveAccount class methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:56:12'!
errorMessageAlreadyAdded

	^Portfolio errorMessageAccountAlreadyAdded.
! !
!TransactionContainer class methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:56:12'!
errorMessageAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
! !
!Portfolio class methodsFor: 'error messages' stamp: 'IO 11/9/2020 00:56:12' overrides: 50871769!
errorMessageAlreadyAdded

	^Portfolio errorMessagePortfolioAlreadyAdded.
! !
!Root methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:56:12' prior: 50871388 overrides: 50868716!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorMessageAlreadyAdded].
	aPortfolioToAdd accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !

!methodRemoval: ReceptiveAccount class #errorAlreadyAdded stamp: 'IO 11/9/2020 00:56:12'!
errorAlreadyAdded

	^Portfolio errorMessageAccountAlreadyAdded.
!

!methodRemoval: TransactionContainer class #errorAlreadyAdded stamp: 'IO 11/9/2020 00:56:12'!
errorAlreadyAdded

	"return the error message when the transaction container was already added"
	
	self subclassResponsibility.
!

!methodRemoval: Portfolio class #errorAlreadyAdded stamp: 'IO 11/9/2020 00:56:12'!
errorAlreadyAdded

	^Portfolio errorMessagePortfolioAlreadyAdded.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:56:17'!
PASSED!

!methodRemoval: Portfolio class #errorMessageAccountInPortfolioAlreadyAdded stamp: 'IO 11/9/2020 00:56:29'!
errorMessageAccountInPortfolioAlreadyAdded
	^'An account in the protfolio to be added is already included in this portfolio.'!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:56:33'!
PASSED!
!TransactionContainer class methodsFor: 'error messages' stamp: 'IO 11/9/2020 00:57:36'!
errorMessageAccountAlreadyAdded
	^'This protfolio already includes this account.'! !

!methodRemoval: Portfolio class #errorMessageAccountAlreadyAdded stamp: 'IO 11/9/2020 00:57:36'!
errorMessageAccountAlreadyAdded
	^'This protfolio already includes this account.'!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:57:42'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:57:42'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:57:42'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:57:43'!
PASSED!
!TransactionContainer class methodsFor: 'error messages' stamp: 'IO 11/9/2020 00:57:56'!
errorMessagePortfolioAlreadyAdded
	^'This protfolio already includes the given portfolio.'! !

!methodRemoval: Portfolio class #errorMessagePortfolioAlreadyAdded stamp: 'IO 11/9/2020 00:57:56'!
errorMessagePortfolioAlreadyAdded
	^'This protfolio already includes the given portfolio.'!
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 00:59:03' prior: 50869590!
addAccount: anAccount

	"add anAccount to this Portfolio"

	self validatePortfolioBeforeAdding: anAccount.
	children add: anAccount.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:59:08'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 00:59:28'!
validateBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorMessageAlreadyAdded].
	aPortfolioToAdd accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 00:59:29'!
validateBeforeAdding: anAccount

	"validate that the given portfolio is not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility ! !
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 00:59:29' overrides: 50872547!
validateBeforeAdding: aPortfolioToAdd

	"see superclass"
	
	self parentPortfoliosSend: #validatePortfolioBeforeAdding: with: aPortfolioToAdd. 
	! !
!Root methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:59:29' prior: 50869374 overrides: 50868707!
validateAccountBeforeAdding: anAccount

	"
		see superclass
		implementation details: this method will lookup the account in all the children portfolio's account. if the account
			is found in one of the chidlren, the given account cannot be added to the portfolio
	"
	
	self validateBeforeAdding: anAccount.

	"(childPortfolio includes: anAccount) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]."
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 00:59:29' prior: 50868958!
validatePortfolioBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	parentPortfolios validateBeforeAdding: aPortfolio.
! !

!methodRemoval: Root #validatePortfoliosBeforeAdding: stamp: 'IO 11/9/2020 00:59:29'!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aPortfolioToAdd) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aPortfolioToAdd) ifTrue: [self error: aPortfolioToAdd class errorMessageAlreadyAdded].
	aPortfolioToAdd accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
!

!methodRemoval: ParentPortfolios #validatePortfoliosBeforeAdding: stamp: 'IO 11/9/2020 00:59:29'!
validatePortfoliosBeforeAdding: anAccount

	"validate that the given portfolio is not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility !

!methodRemoval: Body #validatePortfoliosBeforeAdding: stamp: 'IO 11/9/2020 00:59:29'!
validatePortfoliosBeforeAdding: aPortfolioToAdd

	"see superclass"
	
	self parentPortfoliosSend: #validatePortfolioBeforeAdding: with: aPortfolioToAdd. 
	!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 00:59:34'!
PASSED!

!methodRemoval: Portfolio #validateAccountBeforeAdding: stamp: 'IO 11/9/2020 01:01:35'!
validateAccountBeforeAdding: anAccount

	"validate an account before adding it to this portfolio"

	parentPortfolios validateAccountBeforeAdding: anAccount.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:01:37'!
PASSED!
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:02:03'!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	parentPortfolios validateBeforeAdding: aPortfolio.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 01:02:03' prior: 50869031!
addPortfolio: aPortfolio

	"add aPortfolio to this Portfolio"

	self validateBeforeAdding: aPortfolio.
	children add: aPortfolio.
	aPortfolio addAsParent: self.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 01:02:03' prior: 50872351!
addAccount: anAccount

	"add anAccount to this Portfolio"

	self validateBeforeAdding: anAccount.
	children add: anAccount.
! !

!methodRemoval: Portfolio #validatePortfolioBeforeAdding: stamp: 'IO 11/9/2020 01:02:03'!
validatePortfolioBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	parentPortfolios validateBeforeAdding: aPortfolio.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:02:06'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:02:06'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:02:06'!
FAILURE!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:02:06'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:02:06'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:02:06'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:03:08' prior: 50872556 overrides: 50872547!
validateBeforeAdding: aPortfolioToAdd

	"see superclass"
	
	self parentPortfoliosSend: #validateBeforeAdding: with: aPortfolioToAdd. 
	! !

!methodRemoval: Body #validateAccountBeforeAdding: stamp: 'IO 11/9/2020 01:03:10'!
validateAccountBeforeAdding: anAccount

	"see superclass"
	
	self parentPortfoliosSend: #validateAccountBeforeAdding: with: anAccount. 
	
!

!methodRemoval: Root #validateAccountBeforeAdding: stamp: 'IO 11/9/2020 01:03:24'!
validateAccountBeforeAdding: anAccount

	"
		see superclass
		implementation details: this method will lookup the account in all the children portfolio's account. if the account
			is found in one of the chidlren, the given account cannot be added to the portfolio
	"
	
	self validateBeforeAdding: anAccount.

	"(childPortfolio includes: anAccount) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]."
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:03:43'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:04:31' prior: 50873166 overrides: 50872547!
validateBeforeAdding: aPortfolioToAdd

	"see superclass"
	
	parentPortfolios validateBeforeAdding: aPortfolioToAdd.

	! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:04:36'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:04:36'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:04:36'!
FAILURE!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:04:36'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:04:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:04:36'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:05:42' prior: 50873362 overrides: 50872547!
validateBeforeAdding: aTransactionContainer

	"see superclass"
	
	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateBeforeAdding: aTransactionContainer].


	! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:05:47'!
PASSED!

!methodRemoval: ParentPortfolios #validateAccountBeforeAdding: stamp: 'IO 11/9/2020 01:05:53'!
validateAccountBeforeAdding: anAccount

	"validate that the given account is not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility !
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:06:04' prior: 50873535 overrides: 50872547!
validateBeforeAdding: aTransactionContainer

	"see superclass"
	
	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateBeforeAdding: aTransactionContainer].
! !

!methodRemoval: Body #parentPortfoliosSend:with: stamp: 'IO 11/9/2020 01:06:29'!
parentPortfoliosSend: aMessage with: aTransactionContainer

	"send a given message to all the parent portfolios with a transaction container as unique parameter"

	parentPortfolios do: [ :parentPortfolio | aMessage sendTo: parentPortfolio with: aTransactionContainer].
!
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 01:07:10' prior: 50872547!
validateBeforeAdding: aTransactionContainer

	"validate that the given portfolio is not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility ! !
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 01:07:28' prior: 50873739!
validateBeforeAdding: aTransactionContainer

	"validate that the given portfolio and its accounts is not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility ! !
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 01:07:35' prior: 50873749!
validateBeforeAdding: aTransactionContainer

	"validate that the given portfolio and its accounts are not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility ! !
!Portfolio class methodsFor: 'error messages' stamp: 'IO 11/9/2020 01:09:34' prior: 50871777 overrides: 50871769!
errorMessageAlreadyAdded

	^TransactionContainer errorMessagePortfolioAlreadyAdded.
! !
!ReceptiveAccount class methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 01:09:50' prior: 50871763 overrides: 50871769!
errorMessageAlreadyAdded

	^TransactionContainer errorMessageAccountAlreadyAdded.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:09:53'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:09:54'!
PASSED!
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 01:10:55'!
add: aTransactionContainer

	"add aPortfolio to this Portfolio"

	self validateBeforeAdding: aTransactionContainer.
	children add: aTransactionContainer.

! !
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 01:11:05' prior: 50872985!
addAccount: anAccount

	"add anAccount to this Portfolio"

	self add: anAccount.

! !
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 01:11:12' prior: 50872976!
addPortfolio: aPortfolio

	"add aPortfolio to this Portfolio"

	self add: aPortfolio.
	aPortfolio addAsParent: self.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:11:18'!
PASSED!
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 01:11:33' prior: 50873948!
add: aTransactionContainer

	"add a transaction container to this Portfolio"

	self validateBeforeAdding: aTransactionContainer.
	children add: aTransactionContainer.

! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 01:13:23' prior: 50868966 overrides: 50868895!
accounts

	"see superclass"

	| allAccounts |

	allAccounts := OrderedCollection new.
	self childrenDo: [ :aTransactionContainer | allAccounts addAll: aTransactionContainer accounts].

	^allAccounts.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:31' prior: 50868895!
accounts

	"returns all the accounts asociated with this container"
	
	self subclassResponsibility ! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:34' prior: 50874153!
accounts

	"returns all the accounts asociated with this container"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:39' prior: 50868901!
balance

	"returns the balance of all transactions included in this entity"
	
	^self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:41' prior: 50874167!
balance

	"return the balance of all transactions included in this entity"
	
	^self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:44' prior: 50874160!
accounts

	"return all the accounts asociated with this container"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:51' prior: 50874174!
balance

	"return the balance of all transactions included in this container"
	
	^self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:13:57' prior: 50868907!
transactions

	"return all transactions registered in this container"

	^self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 01:14:11' prior: 50868913!
hasRegistered: aTransaction

	"return true if a given transaction is registered in this container"

	^self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 01:14:31' prior: 50868920!
includes: aTransactionContainer

	"return true if this container is parent of a given transaction container"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 01:14:41' prior: 50874210!
includes: aTransactionContainer

	"return true if this container includes a given transaction container"
	
	self subclassResponsibility.
! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'IO 11/9/2020 01:15:07' prior: 50869087 overrides: 16896425!
initialize

	"initialize an account with no transactions regitered"

	transactions := OrderedCollection new.
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 01:15:38' prior: 50871584 overrides: 50874218!
includes: aTransactionOperation

	"see superclass"

	^self = aTransactionOperation.
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 01:16:20' prior: 50874233 overrides: 50874218!
includes: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer.
! !
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:17:01' prior: 50869125 overrides: 50874181!
accounts

	"
		see superclass
		implementation details: returns the account asociated with this account: itself
	"

	^OrderedCollection with: self.! !
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 01:17:08' prior: 50874247 overrides: 50874181!
accounts

	"
		see superclass
		implementation details: returns the accounts asociated with this account: itself
	"

	^OrderedCollection with: self.! !
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 01:17:37' prior: 50869006 overrides: 50874218!
includes: aTransactionContainer

	"see superclass"

	self childrenDo: [ :aChildOfThisPortfolio | (aChildOfThisPortfolio includes: aTransactionContainer) ifTrue: [^true]].
	^self = aTransactionContainer.
! !
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 01:17:55' prior: 50874264 overrides: 50874218!
includes: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includes: aTransactionContainer) ifTrue: [^true]].
	^self = aTransactionContainer.
! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 01:22:25'!
childrenAddAllResultsOfMessage: aMessage

	"add all the results of sending a message to a transaction container"

	| resultsOfMessage |

	resultsOfMessage := OrderedCollection new.
	self childrenDo: [ :child | resultsOfMessage addAll: (aMessage sendTo: child )].

	^resultsOfMessage.
! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 01:23:16' prior: 50874143 overrides: 50874181!
accounts

	"see superclass"
	^self childrenAddAllResultsOfMessage: #accounts
	"
	| allAccounts |

	allAccounts := OrderedCollection new.
	self childrenDo: [ :aTransactionContainer | allAccounts addAll: aTransactionContainer accounts].

	^allAccounts.
"! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:23:18'!
PASSED!
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 01:24:27' prior: 50874295 overrides: 50874181!
accounts

	"see superclass"

	^self childrenAddAllResultsOfMessage: #accounts.
! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 01:24:59' prior: 50868990 overrides: 50874195!
transactions

	"see superclass"
	
	^self childrenAddAllResultsOfMessage: #transactions.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:01'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:01'!
PASSED!
!Portfolio methodsFor: 'iterating' stamp: 'IO 11/9/2020 01:25:41'!
childrenCollectResultsOfMessage: aMessage

	"add all the results of sending a message to a transaction container"

	| resultsOfMessage |

	resultsOfMessage := OrderedCollection new.
	self childrenDo: [ :child | resultsOfMessage addAll: (aMessage sendTo: child )].

	^resultsOfMessage.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 01:25:41' prior: 50874478 overrides: 50874195!
transactions

	"see superclass"
	
	^self childrenCollectResultsOfMessage: #transactions.
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 01:25:41' prior: 50874472 overrides: 50874181!
accounts

	"see superclass"

	^self childrenCollectResultsOfMessage: #accounts.
! !

!methodRemoval: Portfolio #childrenAddAllResultsOfMessage: stamp: 'IO 11/9/2020 01:25:41'!
childrenAddAllResultsOfMessage: aMessage

	"add all the results of sending a message to a transaction container"

	| resultsOfMessage |

	resultsOfMessage := OrderedCollection new.
	self childrenDo: [ :child | resultsOfMessage addAll: (aMessage sendTo: child )].

	^resultsOfMessage.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:25:53'!
PASSED!
!Body methodsFor: 'intiliazing' stamp: 'IO 11/9/2020 01:28:17'!
initializeFor: aPortfolio With: aParentPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	parentPortfolios := OrderedCollection with: aParentPortfolio.
	childPortfolio := aPortfolio.
! !
!Body methodsFor: 'intiliazing' stamp: 'IO 11/9/2020 01:28:39' prior: 50868784!
initializeWith: aParentPortfolio for: aPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	self initializeFor: aPortfolio With: aParentPortfolio."
	parentPortfolios := OrderedCollection with: aParentPortfolio.
	childPortfolio := aPortfolio."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:28:41'!
PASSED!
!Body class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 01:29:57'!
newFor: aPortfolio with: aParentPortfolio

	^self basicNew initializeFor: aPortfolio With: aParentPortfolio.
! !
!Root methodsFor: 'adding' stamp: 'IO 11/9/2020 01:30:15' prior: 50868870 overrides: 50868725!
addAsParent: aPortfolio

	"
		see superclass
		implementation details: this parent portfolio has no parent portfolios. when the portfolio of this parent portfolios is
			added as a child of another portfolio, it will have parent portfolios. it is not a root anymore.
	"

	^Body newFor: childPortfolio with: aPortfolio.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:30:18'!
PASSED!

!methodRemoval: Body class #newWith:for: stamp: 'IO 11/9/2020 01:30:38'!
newWith: aParentPortfolio for: aPortfolio

	^self basicNew initializeWith: aParentPortfolio for: aPortfolio.!
!Body methodsFor: 'intiliazing' stamp: 'IO 11/9/2020 01:30:47' prior: 50874835!
initializeWith: aParentPortfolio for: aPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	self initializeFor: aPortfolio With: aParentPortfolio.
! !
!ParentPortfolios class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 01:31:36' prior: 50868740!
forPortfolio: aPortfolio

	"create a parent portfolio of a given portfolio"

	^Root new initializeFor: aPortfolio! !
!Root methodsFor: 'initialization' stamp: 'IO 11/9/2020 01:31:48'!
initializeFor: aPortfolio

	"initialize the parent portfolios of a given portfolio"

	childPortfolio := aPortfolio.
! !

!methodRemoval: Root #initialize: stamp: 'IO 11/9/2020 01:32:10'!
initialize: aPortfolio

	"initialize the parent portfolios of a given portfolio"

	childPortfolio := aPortfolio.
!
!ParentPortfolios class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 01:32:24'!
newFor: aPortfolio

	"create a parent portfolio of a given portfolio"

	^Root new initializeFor: aPortfolio! !
!ParentPortfolios class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 01:32:35' prior: 50875231!
newFor: aPortfolio

	"create a parent portfolio for a given portfolio"

	^Root new initializeFor: aPortfolio! !
!Portfolio methodsFor: 'initialization' stamp: 'IO 11/9/2020 01:32:51' prior: 50868942 overrides: 16896425!
initialize

	"create a portfolio with no accounts and no sub-portfolios"

	children := OrderedCollection new.
	parentPortfolios := ParentPortfolios newFor: self.
! !

!methodRemoval: ParentPortfolios class #forPortfolio: stamp: 'IO 11/9/2020 01:32:59'!
forPortfolio: aPortfolio

	"create a parent portfolio of a given portfolio"

	^Root new initializeFor: aPortfolio!

!methodRemoval: Body #initializeWith:for: stamp: 'IO 11/9/2020 01:33:25'!
initializeWith: aParentPortfolio for: aPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	self initializeFor: aPortfolio With: aParentPortfolio.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:33:28'!
PASSED!
!ParentPortfolios methodsFor: 'adding' stamp: 'IO 11/9/2020 01:33:48' prior: 50868725!
addAsParent: aPortfolio

	"add a portfolio as parent of this parent portfolio"

	^self subclassResponsibility.
! !
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 01:33:59' prior: 50873759!
validateBeforeAdding: aTransactionContainer

	"validate that the given portfolio and its accounts are not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility.
! !
!ParentPortfolios methodsFor: 'validations' stamp: 'IO 11/9/2020 01:34:17' prior: 50875440!
validateBeforeAdding: aTransactionContainer

	"validate that the given transaction container and its accounts are not in this portfolio, neither in children's portfolios, nor in parents' portfolios"

	^self subclassResponsibility.
! !
!Body methodsFor: 'intiliazing' stamp: 'IO 11/9/2020 01:34:55'!
initializeFor: aPortfolio with: aParentPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	parentPortfolios := OrderedCollection with: aParentPortfolio.
	childPortfolio := aPortfolio.
! !
!Body class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 01:35:03' prior: 50875012!
newFor: aPortfolio with: aParentPortfolio

	^self basicNew initializeFor: aPortfolio with: aParentPortfolio.
! !

!methodRemoval: Body #initializeFor:With: stamp: 'IO 11/9/2020 01:35:07'!
initializeFor: aPortfolio With: aParentPortfolio

	"initialize the parents of a portfolio with a given parent portfolio"

	parentPortfolios := OrderedCollection with: aParentPortfolio.
	childPortfolio := aPortfolio.
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:35:10'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:36:27' prior: 50872523 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio = aTransactionContainer) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	aTransactionContainer accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:37:22' prior: 50872968!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios validateBeforeAdding: aPortfolio.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:37:24'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:37:30' prior: 50875652 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	aTransactionContainer accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: Portfolio errorMessageAccountAlreadyAdded]].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:37:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:37:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:37:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:37:33'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:38:41' prior: 50875853 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	aTransactionContainer accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: account class errorMessageAccountAlreadyAdded]].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:38:49' prior: 50876040 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	aTransactionContainer accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: account class errorMessageAlreadyAdded]].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:38:51'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:41:57'!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:42:10' prior: 50876062 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | (childPortfolio includes: account) ifTrue: [^self error: account class errorMessageAlreadyAdded]].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:42:14'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:42:15'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:42:35' prior: 50876261 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:42:42'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:42:52'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:42:55' prior: 50876446 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:42:56'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:42:56'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:42:56'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:43:09'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:43:09'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:43:09'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:44:47' prior: 50876795 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:44:50'!
PASSED!
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:46:31' prior: 50875677!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios validateTransactionContainerNotIncluded: aPortfolio.
	parentPortfolios validateBeforeAdding: aPortfolio.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:46:32'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:46:32'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:46:32'!
FAILURE!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:46:32'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:46:32'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:32'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:33'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:33'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:46:33'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:46:46'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:46:46'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:46:46'!
FAILURE!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:46:46'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:46:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:46:46'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:50'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:46:50'!
ERROR!
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:47:14' prior: 50877329!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios validateBeforeAdding: aPortfolio.
! !
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:48:21' prior: 50877679!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateTransactionContainerNotIncluded: aPortfolio].
	parentPortfolios validateBeforeAdding: aPortfolio.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:23'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:48:23'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:38'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:48:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:48:38'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:48:54' prior: 50877145 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:48:55'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:48:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:48:55'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:48:58' prior: 50878033 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 01:49:15' prior: 50877690!
validateBeforeAdding: aPortfolio

	"validate a portfolio before adding it to this portfolio"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios validateBeforeAdding: aPortfolio.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:49:16'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:49:33'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:50:50' prior: 50878216 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:50:51'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:50:51'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:50:51'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:50:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:50:52'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:53:46' prior: 50873719 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"see superclass"
	
	(self = aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateBeforeAdding: aTransactionContainer].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:53:47'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:53:47'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:53:48'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:53:48'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:53:48'!
PASSED!
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:54:45' prior: 50878760 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"see superclass"
	
	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateBeforeAdding: aTransactionContainer].
! !
!Body methodsFor: 'validations' stamp: 'IO 11/9/2020 01:54:46' prior: 50878938 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"see superclass"

	parentPortfolios do: [ :parentPortfolio | parentPortfolio validateBeforeAdding: aTransactionContainer].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:54:48'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:54:48'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:54:48'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:55:00' prior: 50876248!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(self = aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:55:02'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:55:02'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:55:02'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:55:17' prior: 50879121!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:55:29' prior: 50878576 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	(self = aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:55:32'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:55:32'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:55:32'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:55:40' prior: 50879315 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:55:42'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:55:42'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:55:42'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:56:36'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:56:36'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:56:36'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:56:37'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:56:37'!
FAILURE!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 01:59:23' prior: 50879503 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	"aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:59:26'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:59:26'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:59:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 01:59:26'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:59:42'!
FAILURE!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 01:59:42'!
FAILURE!

!methodRemoval: PortfolioTest #test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:00:12'!
test35CanNotAddAPortfolioWithAccountsAlredyInTheParentsOfTheReceiver
	
	"
		no se pueden agregar un portfolio cuando tiene cuentas repetidas en los padres del receptor 
		p1 ->	p2 -> p4 -x p5 -> a3,a2,a1|
		     -> a1| -> a2|
			 p3 -> p3|
			      -> a3|
	"
	
	| portfolio1 portfolio2 portfolio3 portfolio4 portfolio5 portfolio6 account1 account2 account3 |
	
	portfolio1 := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio4 := Portfolio new.
	portfolio5 := Portfolio new.
	portfolio6 := Portfolio new.
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.	
	
	"
		p1 [a1] x> p4 [a1]
		p1 [a1] x> p3 -> p4 [a1]
		
	"

	portfolio1 addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio4.
	portfolio3 addPortfolio: portfolio4.
	portfolio6 addPortfolio: portfolio5.
	portfolio1 addAccount: account1.
	portfolio2 addAccount: account2.
	portfolio3 addAccount: account3.
	portfolio5 addAccount: account1.
	portfolio5 addAccount: account2.
	portfolio5 addAccount: account3.

	self should: [	portfolio4 addPortfolio: portfolio6.] raise: Error withMessageText: Portfolio errorMessageAccountAlreadyAdded.
!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:00:15'!
FAILURE!

| a |

a := OrderedCollection new.
!

| a |

a := OrderedCollection new.
!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:04:34'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 02:04:58'!
children

	"see superclass"

	^children copy.

! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:05:25' prior: 50879860 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:05:34' prior: 50879302!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includesAnyChildOf: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:05:35'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:05:35'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:05:35'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:05:40'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:05:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:05:40'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:46'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:05:46'!
ERROR!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:06:42'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:06:45'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:06:45'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:06:45'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:06:55'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:06:55'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:06:55'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:06:56'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:06:56'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:06:56'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:06:56'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:57'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:06:57'!
ERROR!
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:07:40'!
children

	"
		see superclass
		implementation details: returns the accounts asociated with this account: itself
	"

	^OrderedCollection with: self.! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:07:41'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:07:41'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:07:41'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:52'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:52'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:07:52'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:07:52'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:07:52'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:07:52'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:07:52'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:07:52'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:07:53'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:07:53'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:07:53'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:07:53'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:07:53'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:07:53'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:57'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:07:57'!
ERROR!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:08:18'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:18'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:18'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:08:19'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:20'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:20'!
ERROR!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:34'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:34'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:08:34'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:58'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:08:58'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:08:58'!
PASSED!
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:09:13' prior: 50880808!
children

	"
		see superclass
		implementation details: returns the accounts asociated with this account: itself
	"

	^OrderedCollection new.! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:09:14'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:09:14'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:09:14'!
PASSED!

	^false.!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:09:35' prior: 50880473!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^false.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:09:37'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:09:37'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:09:37'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:10:29'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:10:29'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:10:29'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:31'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:10:31'!
ERROR!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:10:58' prior: 50880100!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:00'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:11:00'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:03'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:03'!
FAILURE!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:11:31' prior: 50881804!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:33'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:11:33'!
PASSED!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:11:39' prior: 50882317!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self children = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:40'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:11:40'!
PASSED!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:11:47' prior: 50882485!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self children includesAllOf: aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:11:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:11:48'!
PASSED!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:11:58' prior: 50882653!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^false.
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:12:10' prior: 50882821!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:12:11'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:12:11'!
PASSED!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:12:17' prior: 50882827!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer children.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:12:19'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:12:19'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:12:22'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:12:22'!
FAILURE!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:13:28' prior: 50882138!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:13:29'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:29'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:29'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:13:30'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:13:30'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:13:30'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:13:30'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:13:30'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:13:30'!
ERROR!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:13:35' prior: 50883171!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyOf: aTransactionContainer) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:13:37'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:13:37'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:13:37'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:13:48' prior: 50883315!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:14:10' prior: 50880132!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:14:16'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:14:16'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:14:16'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:14:20' prior: 50880114 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:14:21'!
PASSED!

!methodRemoval: ReceptiveAccount #includesAnyChildOf: stamp: 'IO 11/9/2020 02:14:27'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^self = aTransactionContainer children.
!

!methodRemoval: Portfolio #includesAnyChildOf: stamp: 'IO 11/9/2020 02:14:41'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
!

!methodRemoval: Portfolio #children stamp: 'IO 11/9/2020 02:14:57'!
children

	"see superclass"

	^children copy.

!

!methodRemoval: ReceptiveAccount #children stamp: 'IO 11/9/2020 02:15:00'!
children

	"
		see superclass
		implementation details: returns the accounts asociated with this account: itself
	"

	^OrderedCollection new.!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:15:02'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:15:59' prior: 50883668 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:16:01'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:16:01'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:16:01'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:16:29' prior: 50883494!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includesAnyChildOf: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:17:38'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^aTransactionContainer children includes: self.
! !
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:17:53'!
children

	"
		see superclass
	"

	^OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:17:58' prior: 50884231!
children

	"see superclass"

	^OrderedCollection new.! !
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:18:35'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !
!Portfolio methodsFor: 'accessing' stamp: 'IO 11/9/2020 02:19:02'!
children

	"see superclass"

	^children copy.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:03'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:03'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:19:03'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:06'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:06'!
ERROR!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:17'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:19:17'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:21'!
ERROR!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:21'!
ERROR!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:19:52' prior: 50884240!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:19:54'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:19:54'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:19:55'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:19:55'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:19:55'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:55'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:19:55'!
FAILURE!
!ReceptiveAccount methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:20:15' prior: 50884236!
children

	"see superclass"

	^OrderedCollection with: self.! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:20:16'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:20:16'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:20:16'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:20:16'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:20:27'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:20:27'!
FAILURE!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:21:11'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:21:11'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:21:11'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:21:11'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:21:16'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:21:16'!
FAILURE!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:21:20'!
FAILURE!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:21:20'!
FAILURE!
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 02:23:08'!
includesAnyChildOf: aTransactionContainer

	"return true if this container includes any child of a given transaction container"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:23:33'!
children

	"return all the children asociated with this container"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'accesing' stamp: 'IO 11/9/2020 02:23:48' prior: 50885093!
children

	"return all the children transaction containers asociated with this container, including itself"
	
	self subclassResponsibility.
! !
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 02:25:01'!
validateNotChildOf: aTransactionContainer

	""
	
	^(self includesAnyChildOf: aTransactionContainer) ifTrue: [self error: self class errorMessageAlreadyAdded].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:25:19' prior: 50884213!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	childPortfolio validateNotChildOf: aTransactionContainer

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:21'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:25:21'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:25:26'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:25:49' prior: 50885115!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	aTransactionContainer validateNotChildOf: childPortfolio.

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:25:50'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:25:50'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:25:50'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:25:50'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:25:50'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:25:50'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:25:53'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:25:53'!
FAILURE!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:26:27' prior: 50884034 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	"self validateTransactionContainerNotIncluded: aTransactionContainer."
	aTransactionContainer validateNotChildOf: childPortfolio.
	"aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account]."
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:26:29'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:26:29'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:26:46'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:26:46'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:26:54'!
FAILURE!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:26:54'!
FAILURE!
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 02:27:46' prior: 50885107!
validateNotChildOf: aTransactionContainer

	""
	
	^(self includesAnyChildOf: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:27:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:27:48'!
PASSED!
!TransactionContainer methodsFor: 'testing' stamp: 'IO 11/9/2020 02:27:51' prior: 50885979!
validateNotChildOf: aTransactionContainer

	""
	
	^(self includesAnyChildOf: aTransactionContainer) ifTrue: [self error: self class errorMessageAlreadyAdded].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:27:52'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:27:52'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:29:34' prior: 50884590 overrides: 50885085!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includesAnyOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:29:36'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:29:36'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:29:36'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:29:36'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:29:36'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:29:36'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:29:36'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:29:36'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:29:36'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:29:36'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:29:46' prior: 50886319 overrides: 50885085!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child includesAnyChildOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:29:47'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:29:47'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:29:47'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:29:47'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:29:47'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:29:48'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:29:48'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:29:48'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:29:48'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:29:48'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:29:48'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:30:19' prior: 50886490 overrides: 50885085!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyChildOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:30:22'!
ERROR!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:30:22'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:30:22'!
FAILURE!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:30:22'!
FAILURE!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:30:22'!
FAILURE!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:30:22'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:30:22'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:30:22'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:30:22'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:30:22'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:30:37' prior: 50885628 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:30:59' prior: 50885448!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includesAnyChildOf: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:31:06' prior: 50886850!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:31:07'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:31:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:31:08'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'IO 11/9/2020 02:32:45'!
validateNotChildChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyChildOf: aTransactionContainer children) ifTrue: [
			self error: child class errorMessageAlreadyAdded]].
	^self = aTransactionContainer.
! !

!methodRemoval: Portfolio #includesAnyChildOf: stamp: 'IO 11/9/2020 02:32:52'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyChildOf: aTransactionContainer children) ifTrue: [^true]].
	^self = aTransactionContainer.
!
!ReceptiveAccount methodsFor: 'testing' stamp: 'IO 11/9/2020 02:34:01' overrides: 50886149!
validateNotChildOf: aTransactionContainer

	"see superclass"

	^(aTransactionContainer children includes: self) ifTure: [self error: self class errorMessageAlreadyAdded].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:35:19' prior: 50886832 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"
	childPortfolio validateNotChildChildOf: aTransactionContainer.
"
	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
"! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:35:21'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:21'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:21'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:35:21'!
PASSED!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:35:25'!
FAILURE!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:25'!
FAILURE!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:25'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:35:25'!
PASSED!
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:35:30' prior: 50887066 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncluded: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncluded: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:35:32'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:35:33'!
PASSED!

!methodRemoval: TransactionContainer #children stamp: 'IO 11/9/2020 02:35:40'!
children

	"return all the children transaction containers asociated with this container, including itself"
	
	self subclassResponsibility.
!

!methodRemoval: TransactionContainer #includesAnyChildOf: stamp: 'IO 11/9/2020 02:35:46'!
includesAnyChildOf: aTransactionContainer

	"return true if this container includes any child of a given transaction container"
	
	self subclassResponsibility.
!

!methodRemoval: TransactionContainer #validateNotChildOf: stamp: 'IO 11/9/2020 02:35:47'!
validateNotChildOf: aTransactionContainer

	""
	
	^(self includesAnyChildOf: aTransactionContainer) ifTrue: [self error: self class errorMessageAlreadyAdded].
!

!methodRemoval: Portfolio #validateNotChildChildOf: stamp: 'IO 11/9/2020 02:35:51'!
validateNotChildChildOf: aTransactionContainer

	"see superclass"

	self childrenDo: [ :child | (child children includesAnyChildOf: aTransactionContainer children) ifTrue: [
			self error: child class errorMessageAlreadyAdded]].
	^self = aTransactionContainer.
!

!methodRemoval: Portfolio #children stamp: 'IO 11/9/2020 02:35:56'!
children

	"see superclass"

	^children copy.
!

!methodRemoval: ReceptiveAccount #children stamp: 'IO 11/9/2020 02:35:59'!
children

	"see superclass"

	^OrderedCollection with: self.!

!methodRemoval: ReceptiveAccount #includesAnyChildOf: stamp: 'IO 11/9/2020 02:36:00'!
includesAnyChildOf: aTransactionContainer

	"see superclass"

	^aTransactionContainer children includes: self.
!

!methodRemoval: ReceptiveAccount #validateNotChildOf: stamp: 'IO 11/9/2020 02:36:01'!
validateNotChildOf: aTransactionContainer

	"see superclass"

	^(aTransactionContainer children includes: self) ifTure: [self error: self class errorMessageAlreadyAdded].
!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:36:02'!
PASSED!
!ParentPortfolios class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 02:36:50' prior: 50875238!
newFor: aPortfolio

	"create the parent portfolio for a given portfolio"

	^Root new initializeFor: aPortfolio! !
!Body class methodsFor: 'instance creation' stamp: 'IO 11/9/2020 02:37:27' prior: 50875470!
newFor: aPortfolio with: aParentPortfolio

	"create the parent portfolio of a portfolio with a given parent portfolio as its parent"

	^self basicNew initializeFor: aPortfolio with: aParentPortfolio.
! !
!Body methodsFor: 'intiliazing' stamp: 'IO 11/9/2020 02:37:49' prior: 50875460!
initializeFor: aPortfolio with: aParentPortfolio

	"initialize the parents of a portfolio with a given parent portfolio as its parent"

	parentPortfolios := OrderedCollection with: aParentPortfolio.
	childPortfolio := aPortfolio.
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:39:12'!
validateTransactionContainerNotIncludedIn: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

! !
!Root methodsFor: 'as yet unclassified' stamp: 'IO 11/9/2020 02:39:12' prior: 50887408 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children,
			and will also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
	"

	self validateTransactionContainerNotIncludedIn: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncludedIn: account].
! !

!methodRemoval: Root #validateTransactionContainerNotIncluded: stamp: 'IO 11/9/2020 02:39:12'!
validateTransactionContainerNotIncluded: aTransactionContainer

	"validate the given transaction container is not in included in the child of this parent portfolio"

	(childPortfolio includes: aTransactionContainer) ifTrue: [self error: aTransactionContainer class errorMessageAlreadyAdded].

!

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:39:16'!
PASSED!
!Portfolio methodsFor: 'adding' stamp: 'IO 11/9/2020 02:40:30' prior: 50874134!
add: aTransactionContainer

	"add a transaction container to this portfolio"

	self validateBeforeAdding: aTransactionContainer.
	children add: aTransactionContainer.

! !
!Portfolio methodsFor: 'validations' stamp: 'IO 11/9/2020 02:41:39' prior: 50878234!
validateBeforeAdding: aPortfolio

	"
		validate a portfolio before adding it to this portfolio
		implementation details: will first check if this protfolio is the same as the one to be added, then will ask its parent
			prtfolios to lookup for tthe portfolio to be added and its accounts
	"

	(self = aPortfolio) ifTrue: [self error: Portfolio errorMessagePortfolioAlreadyAdded].
	parentPortfolios validateBeforeAdding: aPortfolio.
! !
!Portfolio methodsFor: 'iterating' stamp: 'IO 11/9/2020 02:43:06' prior: 50874623!
childrenCollectResultsOfMessage: aMessage

	"collect the results of sending a message to each child of a transaction container"

	| collectedResults |

	collectedResults := OrderedCollection new.
	self childrenDo: [ :child | collectedResults addAll: (aMessage sendTo: child )].

	^collectedResults.
! !
!Portfolio methodsFor: 'iterating' stamp: 'IO 11/9/2020 02:46:39' prior: 50869016!
childrenDo: aBlock

	"
		activate a given block on each child supplying the child as unique argument. it is not recursive on all the containers,
		only activates on the first level below this container
	"

	children do: [ :portfolio | aBlock value: portfolio ].
! !
!Portfolio methodsFor: 'iterating' stamp: 'IO 11/9/2020 02:46:45' prior: 50888075!
childrenDo: aBlock

	"
		activate a given block on each child supplying the child as unique argument. it is not recursive on all the containers,
		only activates on the first level below this container
	"

	children do: [ :child | aBlock value: child ].
! !
!Root methodsFor: 'validations' stamp: 'IO 11/9/2020 02:49:13' prior: 50887844 overrides: 50875450!
validateBeforeAdding: aTransactionContainer

	"
		see superclass
		implementation details: this method will search that the portfolio to be added is not in the portfolio's children, and will
			also validate that none of its children portfolios has one of the accounts of the portfolio to be added.
			this method performs lookup twice on all the children when the validation passes.
	"

	self validateTransactionContainerNotIncludedIn: aTransactionContainer.
	aTransactionContainer accounts do: [ :account | self validateTransactionContainerNotIncludedIn: account].
! !

!testRun: #PortfolioTest #test01AnAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test02APortfolioHasNoAccountsInitially stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test03APortfolioDoesNotHaveMoreAccountsThanAdded stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test04MoreThanOneAccountCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioDoesNotHavePortfoliosInitialy stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test07VariousEmptyPortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test08PortfoliosCanBeAddedToAPortfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithPortfoliosCanBeAddedToAportfolio stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test10CanNotAddAnAccountToAPortfolioWhosePortfolioHasTheAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test11CanNotAddAnAccountToAPortfolioWhoHasAPortfolioWithTheAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test12APortfolioCantHaveRepeatedAccounts stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test13APortfolioCanNotHaveRepeatedPortfolios stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test14APortffolioCantHaveItself stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test15CanNotAddAnAccountToAPortfolioWithAParentThatHasTheAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test16CanNotAddAnAccountToAPortfolioWhoseParentHasTheAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test17CanNotAddAnAccountToAPortfolioWithAPredecesorsThatHasTheAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test18CantAddAPortfolioWhenItIsAParent stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test19CantAddAPortfolioWhenItIsAPredecesor stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test20CantAddAPortfolioWhenAPredecesorAlredyHasIt stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsItsDirectAccounts stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test22APortfolioKnowsTheAccountsOfHisPortfolios stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test23AnEmptyPortfolioHasABalanceOf0 stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test24APortfolioWithOneAccountHasTheBalanceOfThatAccount stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test25TheBalanceOfAPortfolioWithNoPortfoliosIsTheSumOfHisAccounts stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test26TheBalanceOfAPortfolioIsTheSumOfHisAccountsAndPortfolios stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test27AnEmptyPortfolioHasNoRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test28APortfolioWithOneAccountHasItsRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test29APortfolioWithManyAccountsHasItsAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test30APortfolioHasItsPortfoliosAndAccountsRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test31AnEmptyPortfolioHasNoTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test32APortfolioWithOneAccountHasItsTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test33APortfolioWithManyAccountsHasItsAccountsTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test34APortfolioHasItsPortfoliosAndAccountsTransaction stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test35CanNotAddAPortfolioWithAccountsInFirstLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #PortfolioTest #test36CanNotAddAPortfolioWithAccountsInDeeperLevelAlredyInTheParentsOfTheReceiver stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'IO 11/9/2020 02:49:14'!
PASSED!

----SNAPSHOT----(9 November 2020 02:49:23) CuisUniversity-4384.image priorSource: 17227359!