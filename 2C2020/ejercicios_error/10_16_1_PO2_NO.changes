

----STARTUP---- (2 November 2020 18:40:12) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


----End fileIn of /Users/dbenitez/uba/2c2020-IS1/2020-2c/18-Portfolio1/Portfolio-Ejercicio.st----!

----STARTUP---- (2 November 2020 18:54:19) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:44'!
test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:48'!
test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
		
	self assert: 100 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:13:52'!
test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
		
	self assert: 50 equals: account balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:32'!
test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:46'!
test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	withdraw := Withdraw register: 50 on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:14:15'!
test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| deposit withdraw account |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 100.
	withdraw := Withdraw for: 50.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered:withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'NR 11/2/2020 17:14:01'!
test07AccountKnowsItsTransactions 

	| account1 deposit1 |
	
	account1 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 50 on: account1.
		
	self assert: 1 equals: account1 transactions size.
	self assert: (account1 transactions includes: deposit1).
! !

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
value 

	self subclassResponsibility ! !

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction class
	instanceVariableNames: ''!

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction class
	instanceVariableNames: ''!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'NR 10/17/2019 03:22:00'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50868103!
value

	^ value! !

!classDefinition: 'Deposit class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
for: aValue

	^ self new initializeFor: aValue ! !

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50868103!
value

	^ value! !

!classDefinition: 'Withdraw class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
for: aValue

	^ self new initializeFor: aValue ! !

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 18:54:28'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'NR 10/17/2019 15:06:56' overrides: 16896425!
initialize

	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'HAW 5/23/2019 15:19:32'!
balance

	^transactions sum: [ :aTransaction | aTransaction value ] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'NR 10/17/2019 03:28:43'!
hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:08:21'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 19:08:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:08:21'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:09:18'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:09:18'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:16:12'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 19:16:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:16:12'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/2/2020 19:18:20' prior: 50868231!
balance

	^transactions sum: [ :aTransaction | 
		
		(aTransaction isKindOf: Withdraw) ifTrue:  [aTransaction value negated ] ifFalse: [aTransaction value ]
		
	 ] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:18:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 19:18:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 19:18:25'!
PASSED!
!AccountTransaction methodsFor: 'value' stamp: 'DB 11/2/2020 19:24:30'!
valueForbalance 

	self subclassResponsibility ! !
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 19:24:44' overrides: 50868349!
valueForbalance

	^ value! !
!Withdraw methodsFor: 'value' stamp: 'DB 11/2/2020 19:24:54' overrides: 50868349!
valueForbalance

	^ value negated ! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/2/2020 19:25:50' prior: 50868310!
balance

	^transactions sum: [ :aTransaction | aTransaction valueForBalance ] ifEmpty: [ 0 ]! !
!AccountTransaction methodsFor: 'value' stamp: 'DB 11/2/2020 19:26:09'!
valueForBalance 

	self subclassResponsibility ! !
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 19:26:09' overrides: 50868368!
valueForBalance

	^ value! !
!Withdraw methodsFor: 'value' stamp: 'DB 11/2/2020 19:26:09' overrides: 50868368!
valueForBalance

	^ value negated ! !

!methodRemoval: AccountTransaction #valueForbalance stamp: 'DB 11/2/2020 19:26:09'!
valueForbalance 

	self subclassResponsibility !

!methodRemoval: Deposit #valueForbalance stamp: 'DB 11/2/2020 19:26:09'!
valueForbalance

	^ value!

!methodRemoval: Withdraw #valueForbalance stamp: 'DB 11/2/2020 19:26:09'!
valueForbalance

	^ value negated !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 19:26:14'!
PASSED!

TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioTest category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 19:28:57'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 19:30:38'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioTest methodsFor: 'nil' stamp: 'DB 11/2/2020 19:30:24'!
test01PortfolioHaveZeroAsBalanceWhenCreated 

	| portfolio |
	
	portfolio := Portfolio new.

	self assert: 0 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:30:50'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:30:50'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:30:59'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:31:05' prior: 50868451!
balance
	^0! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:31:07'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:39:50'!
test02AddReceptiveAccountToEmptyPortfolio

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
		
	
		
	self assert: 100 equals: account balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:44:50' prior: 50868463!
test02AddReceptiveAccountToEmptyPortfolio

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	portfolio add: account.
		
	self assert: 100 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:44:56'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:44:56'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:45:03'!
add: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/2/2020 19:46:51'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:46:48' prior: 50868490!
add: aReceptiveAccount 
	
	assets add: aReceptiveAccount! !

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:46:53'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:47:13'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:47:39'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:47:39'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:47:39'!
ERROR!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:47:51' prior: 50868473!
test02AddReceptiveAccountToEmptyPortfolio

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	portfolio add: account.
		
	self assert: 100 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:47:55'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:47:55'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:48:53' overrides: 16896425!
initialize
	
	assets := OrderedCollection new! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:49:05'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:49:05'!
FAILURE!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:49:05'!
FAILURE!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:49:56'!
FAILURE!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:50:04'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:51:00' prior: 50868456!
balance
	^assets sum: [:aReceptiveAccount | aReceptiveAccount balance ]! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:51:05'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:51:05'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:51:05'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:51:13'!
ERROR!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:51:13'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:51:13'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:53:30' prior: 50868564!
balance
	^assets sum: [:aReceptiveAccount | aReceptiveAccount balance ]  ifEmpty: [ 0 ]! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 19:53:34'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 19:53:34'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:58:30'!
test04AddPortfolioToAPortfolio

	| portfolio account childPortfolio |
	
	portfolio := Portfolio new.
	childPortfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	self assert: 0 equals: portfolio balance.
	
	childPortfolio add: account.
	portfolio add: childPortfolio.
	
	self assert: 100 equals: portfolio balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 19:58:37'!
test03AddPortfolioToAPortfolio

	| portfolio account childPortfolio |
	
	portfolio := Portfolio new.
	childPortfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	self assert: 0 equals: portfolio balance.
	
	childPortfolio add: account.
	portfolio add: childPortfolio.
	
	self assert: 100 equals: portfolio balance.
! !

!methodRemoval: PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 19:58:37'!
test04AddPortfolioToAPortfolio

	| portfolio account childPortfolio |
	
	portfolio := Portfolio new.
	childPortfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	self assert: 0 equals: portfolio balance.
	
	childPortfolio add: account.
	portfolio add: childPortfolio.
	
	self assert: 100 equals: portfolio balance.
!

!testRun: #PortfolioTest #test03AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 19:58:40'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 20:01:52'!
test04hasRegistered

	| portfolio account  |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: ((account transactions) at: 0)).
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:02:04'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 20:02:04'!
PASSED!

!testRun: #PortfolioTest #test03AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 20:02:04'!
PASSED!

!testRun: #PortfolioTest #test04hasRegistered stamp: 'DB 11/2/2020 20:02:04'!
ERROR!

!testRun: #PortfolioTest #test04hasRegistered stamp: 'DB 11/2/2020 20:02:04'!
ERROR!

account transactions!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 20:02:37' prior: 50868650!
test04hasRegistered

	| portfolio account  |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: ((account transactions) at: 1)).
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:02:39'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 20:02:39'!
PASSED!

!testRun: #PortfolioTest #test03AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 20:02:39'!
PASSED!

!testRun: #PortfolioTest #test04hasRegistered stamp: 'DB 11/2/2020 20:02:39'!
ERROR!

!testRun: #PortfolioTest #test04hasRegistered stamp: 'DB 11/2/2020 20:02:39'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 20:02:47'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Withdraw methodsFor: 'value' stamp: 'DB 11/2/2020 20:11:45'!
addToBalance: aBalance

	^ aBalance - value ! !
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 20:12:11'!
addToBalance: aBalance
	^aBalance + value! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 20:14:57' prior: 50868590!
balance

	^assets sum: [:aReceptiveAccount | aReceptiveAccount balance ]  ifEmpty: [ 0 ]! !

----SNAPSHOT----(2 November 2020 20:26:59) CuisUniversity-4384.image priorSource: 17155564!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 20:27:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 20:27:24'!
PASSED!
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 20:33:09'!
colaborateToBalance: aBalance
	^aBalance + value! !

!methodRemoval: Deposit #addToBalance: stamp: 'DB 11/2/2020 20:33:15'!
addToBalance: aBalance
	^aBalance + value!
!AccountTransaction methodsFor: 'value' stamp: 'DB 11/2/2020 20:34:13'!
contributeToBalance: aBalance 

	self subclassResponsibility ! !

!methodRemoval: AccountTransaction #valueForBalance stamp: 'DB 11/2/2020 20:34:19'!
valueForBalance 

	self subclassResponsibility !
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 20:34:33' prior: 50868750!
colaborateToBalance: aBalance
	^aBalance + value! !

!methodRemoval: Deposit #valueForBalance stamp: 'DB 11/2/2020 20:34:40'!
valueForBalance

	^ value!
!Withdraw methodsFor: 'value' stamp: 'DB 11/2/2020 20:34:49'!
colaborateToBalance: aBalance

	^ aBalance - value ! !

!methodRemoval: Withdraw #addToBalance: stamp: 'DB 11/2/2020 20:34:55'!
addToBalance: aBalance

	^ aBalance - value !

!methodRemoval: Withdraw #valueForBalance stamp: 'DB 11/2/2020 20:35:01'!
valueForBalance

	^ value negated !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/2/2020 20:36:27' prior: 50868362!
balance

	| balance |
	
	balance := 0
	
	transactions do: [ :aTransaction | aTransaction contributeToBalance: balance].
	
	^balance ! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/2/2020 20:36:46' prior: 50868786!
balance

	| balance |
	
	balance := 0.
	
	transactions do: [ :aTransaction | aTransaction contributeToBalance: balance].
	
	^balance ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:36:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:36:52'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:36:52'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 20:36:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 20:36:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 20:36:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 20:36:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:37:04'!
ERROR!
!Deposit methodsFor: 'value' stamp: 'DB 11/2/2020 20:38:10' overrides: 50868758!
contributeToBalance: aBalance
	^aBalance + value! !

!methodRemoval: Deposit #colaborateToBalance: stamp: 'DB 11/2/2020 20:38:10'!
colaborateToBalance: aBalance
	^aBalance + value!
!Withdraw methodsFor: 'value' stamp: 'DB 11/2/2020 20:38:25' overrides: 50868758!
contributeToBalance: aBalance

	^ aBalance - value ! !

!methodRemoval: Withdraw #colaborateToBalance: stamp: 'DB 11/2/2020 20:38:25'!
colaborateToBalance: aBalance

	^ aBalance - value !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:38:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:38:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:38:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 20:38:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 20:38:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 20:38:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 20:38:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:38:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:38:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 20:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 20:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 20:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 20:38:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:38:58'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/2/2020 20:39:37' prior: 50868793!
balance

	| balance |
	
	balance := 0.
	
	transactions do: [ :aTransaction | balance := aTransaction contributeToBalance: balance].
	
	^balance ! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:39:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/2/2020 20:39:42'!
PASSED!

!methodRemoval: PortfolioTest #test04hasRegistered stamp: 'DB 11/2/2020 20:58:57'!
test04hasRegistered

	| portfolio account  |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: ((account transactions) at: 1)).
!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 21:01:34'!
test03AddMoreThanOneAccountToPortfolio

	| portfolio primary secondary  |
	
	portfolio := Portfolio new.
	
	primary := ReceptiveAccount  new.
	Deposit register: 100 on: primary.
	
	secondary := ReceptiveAccount new.
	Withdraw register: 75 on: primary. 
	
	portfolio add: primary.
	portfolio add: secondary.
	
	self assert: 25 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/2/2020 21:01:42'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 21:02:15'!
test04AddPortfolioToAPortfolio

	| portfolio account childPortfolio |
	
	portfolio := Portfolio new.
	childPortfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	self assert: 0 equals: portfolio balance.
	
	childPortfolio add: account.
	portfolio add: childPortfolio.
	
	self assert: 100 equals: portfolio balance.
! !

!methodRemoval: PortfolioTest #test03AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 21:02:15'!
test03AddPortfolioToAPortfolio

	| portfolio account childPortfolio |
	
	portfolio := Portfolio new.
	childPortfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	self assert: 0 equals: portfolio balance.
	
	childPortfolio add: account.
	portfolio add: childPortfolio.
	
	self assert: 100 equals: portfolio balance.
!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/2/2020 21:10:13'!
test05

	| portfolio account account2 |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	account2 := ReceptiveAccount  new.
	Deposit register: 50 on: account.

	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).
	self deny: (portfolio hasRegistered: (account2 transactions at: 1)).
! !

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:10:18'!
ERROR!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:10:18'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 21:10:53'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 21:10:53'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/2/2020 21:10:53'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 21:10:53'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:10:53'!
ERROR!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:10:53'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 21:11:28' prior: 50868703!
hasRegistered: aTransaction 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/2/2020 21:13:08' prior: 50869037!
hasRegistered: aTransaction 

	^true
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/2/2020 21:13:17'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/2/2020 21:13:17'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/2/2020 21:13:17'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/2/2020 21:13:17'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:13:17'!
ERROR!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/2/2020 21:13:17'!
ERROR!

----QUIT----(3 November 2020 09:36:51) CuisUniversity-4384.image priorSource: 17186267!

----STARTUP---- (3 November 2020 17:57:38) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:02:58'!
ERROR!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:02:58'!
ERROR!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:03:26' prior: 50868999!
test05

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.

	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).
! !

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:03:33'!
PASSED!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:03:52'!
test06

	| portfolio account account2 |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	account2 := ReceptiveAccount  new.
	Deposit register: 50 on: account.

	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).
	self deny: (portfolio hasRegistered: (account2 transactions at: 1)).
! !

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:04:03'!
ERROR!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:04:03'!
ERROR!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:04:22'!
ERROR!

account2 transactions!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:05:27' prior: 50869089!
test06

	| portfolio account account2 |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	account2 := ReceptiveAccount  new.
	Deposit register: 50 on: account2.

	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).
	self deny: (portfolio hasRegistered: (account2 transactions at: 1)).
! !

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:05:35'!
FAILURE!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:05:35'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:07:54' prior: 50869042!
hasRegistered: aTransaction 

	| response |
	response := false.
	
	
 	self assets do: [
		
	].

	^response.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:09:04' prior: 50869132!
hasRegistered: aTransaction 

	| response |
	response := false.
	
	
	assets do: [:aReceptiveAccount | response := (aReceptiveAccount includes: aTransaction) or: response 
	].

	^response.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:09:27' prior: 50869139!
hasRegistered: aTransaction 

	| response |
	response := false.
	
	assets do: [:aReceptiveAccount | response := (aReceptiveAccount transactions includes: aTransaction) or: response ].

	^response.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:10:47' prior: 50869148!
hasRegistered: aTransaction 

	| response |
	response := false.
	
	assets do: [:aReceptiveAccount | response := response or: (aReceptiveAccount transactions includes: aTransaction)  ].

	^response.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:16:11' prior: 50869158!
hasRegistered: aTransaction 

	| response |
	response := false.
	

	
	assets do: [:aReceptiveAccount |   
		 (aReceptiveAccount transactions includes: aTransaction) ifTrue: [^true]	
	].

	^response.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:17:10' prior: 50869168!
hasRegistered: aTransaction 

	assets do: [:aReceptiveAccount |   
		 (aReceptiveAccount transactions includes: aTransaction) ifTrue: [^true]	
	].

	^false.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:17:17'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 18:17:36'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 18:17:36'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 18:17:36'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 18:17:36'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:17:36'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:17:36'!
PASSED!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:18:43' prior: 50869112!
test06

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	Deposit register: 50 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).

! !
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:18:54' prior: 50869222!
test06

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	Deposit register: 50 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: (account transactions at: 1)).
	self assert: (portfolio hasRegistered: (account transactions at: 2)).

! !
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:20:19' prior: 50869234!
test06

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 50 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
	
	self assert: (portfolio hasRegistered: (account1 transactions at: 1)).
	self assert: (portfolio hasRegistered: (account2 transactions at: 2)).

! !

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:20:23'!
ERROR!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:20:23'!
ERROR!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:20:31' prior: 50869248!
test06

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 50 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
	
	self assert: (portfolio hasRegistered: (account1 transactions at: 1)).
	self assert: (portfolio hasRegistered: (account2 transactions at: 1)).

! !

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:20:35'!
PASSED!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:23:04'!
test07

	| portfolio1 portfolio2 account1 account2 |
	
	portfolio1 := Portfolio new.
	portfolio2 := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 50 on: account2.
	
	portfolio1 add: account1.
	portfolio2 add: account2.
	portfolio1 add: portfolio2.
	
	self assert: (portfolio1 hasRegistered: (account1 transactions at: 1)).
	self assert: (portfolio1 hasRegistered: (account2 transactions at: 1)).
	self assert: (portfolio2 hasRegistered: (account2 transactions at: 1)).

! !

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:23:07'!
ERROR!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:23:07'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:26:38'!
transactions
	
	| allTransactions |
	
	
	assets do: [:anAsset | 
		allTransactions  := anAsset transactions copy
		
		
	]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:27:26' prior: 50869312!
transactions
	
	| allTransactions |
	
	
	assets do: [:anAsset | 
		allTransactions  add: (anAsset transactions copy)
	].

	^allTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:28:50' prior: 50869319!
transactions
	
	| allTransactions |
	
	allTransactions := OrderedCollection new.
	assets do: [:anAsset | 
		allTransactions addAllLast: (anAsset transactions copy)
	].

	^allTransactions 
	! !

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:29:13'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:29:18'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:29:18'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:30:55' prior: 50869178!
hasRegistered: aTransaction 

	assets do: [:anAssets |   
		 (anAssets transactions includes: aTransaction) ifTrue: [^true]	
	].

	^false.
	! !

----SNAPSHOT----(3 November 2020 18:46:18) CuisUniversity-4384.image priorSource: 17197219!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:53:44'!
test08

	| portfolio |
	
	portfolio := Portfolio new.

	self should: [portfolio add: portfolio.] raise: Error withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 18:53:50' prior: 50869369!
test08

	| portfolio |
	
	portfolio := Portfolio new.

	self should: [portfolio add: portfolio.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:53:53'!
ERROR!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:53:53'!
ERROR!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:54:04'!
duplicatedAccountOrPortfolioErrorDescription
	self shouldBeImplemented.! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:54:33' prior: 50869392!
duplicatedAccountOrPortfolioErrorDescription
	^'Duplicated account or portfolio'! !

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:54:39'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:54:39'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:56:30' prior: 50868502!
add: anAsset 
	
	
	self = anAsset ifTrue: [self class signal duplicateAccountOrPortfolio].
	
	assets add: anAsset
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:56:38' prior: 50869409!
add: anAsset 
	
	
	self = anAsset ifTrue: [self class signal duplicateAccountOrPortfolio].
	
	assets add: anAsset.
	! !

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:56:39'!
FAILURE!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:57:10'!
signalDuplicatedAccountOrPortfolio
	self error: self duplicatedAccountOrPortfolioErrorDescription ! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:57:18'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:57:18'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:57:18'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:58:19' prior: 50869416!
add: anAsset 
	
	
	self = anAsset ifTrue: [^self class signal duplicateAccountOrPortfolio].
	
	assets add: anAsset.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:58:36' prior: 50869456!
add: anAsset 
	
	
	self = anAsset ifTrue: [self class signalDuplicateAccountOrPortfolio].
	
	assets add: anAsset.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:58:59' prior: 50869463!
add: anAsset 
	
	
	self = anAsset ifTrue: [self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 18:59:03' prior: 50869470!
add: anAsset 
	
	
	self = anAsset ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 18:59:07'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 18:59:07'!
PASSED!
!PortfolioTest methodsFor: 'balance test' stamp: 'DB 11/3/2020 19:00:01'!
test09

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio  add: account.

	self should: [portfolio add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 19:00:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'DB 11/3/2020 19:00:10'!
FAILURE!

!testRun: #PortfolioTest #test09 stamp: 'DB 11/3/2020 19:00:10'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/3/2020 19:01:09' prior: 50869477!
add: anAsset 
	
	
	self = anAsset ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	(assets includes: anAsset) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	! !

!testRun: #PortfolioTest #test09 stamp: 'DB 11/3/2020 19:01:12'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test02AddReceptiveAccountToEmptyPortfolio stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test03AddMoreThanOneAccountToPortfolio stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test04AddPortfolioToAPortfolio stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'DB 11/3/2020 19:01:21'!
PASSED!

----QUIT----(3 November 2020 19:02:40) CuisUniversity-4384.image priorSource: 17206895!

----STARTUP---- (4 November 2020 19:43:51) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


----QUIT----(4 November 2020 19:44:09) CuisUniversity-4384.image priorSource: 17213782!

----STARTUP---- (4 November 2020 19:47:00) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


!classRemoval: #ReceptiveAccount stamp: 'DB 11/4/2020 19:47:46'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'DB 11/4/2020 19:47:46'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'DB 11/4/2020 19:47:46'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'DB 11/4/2020 19:47:46'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'DB 11/4/2020 19:47:47'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'DB 11/4/2020 19:47:47'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortfolioTest stamp: 'DB 11/4/2020 19:47:47'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of /Users/dbenitez/uba/2c2020-IS1/2020-2c/18-Portfolio1/Portfolio-Ejercicio.st----!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:31'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 19:49:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:31'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:38'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 19:49:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:49:38'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/4/2020 19:55:35' prior: 50869854!
balance

	
	^transactions sum: [ :aTransaction | 
		
		(aTransaction isKindOf: Deposit) ifTrue: [aTransaction value].
		
		(aTransaction isKindOf: Withdraw) ifTrue: [aTransaction value negated]
		
	] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:55:37'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:55:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:55:58'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:56:05'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 19:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:56:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:56:30'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 19:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 19:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 19:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 19:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:56:33'!
ERROR!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/4/2020 19:57:22' prior: 50869928!
balance

	
	^transactions sum: [ :aTransaction | 
		
		(aTransaction isKindOf: Deposit) ifTrue: [^aTransaction value].
		
		(aTransaction isKindOf: Withdraw) ifTrue: [^aTransaction value negated]
		
	] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:57:34'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/4/2020 19:57:49' prior: 50869983!
balance

	
	^transactions sum: [ :aTransaction | 
		
		(aTransaction isKindOf: Deposit) ifTrue: [aTransaction value].
		
		(aTransaction isKindOf: Withdraw) ifTrue: [aTransaction value negated]
		
	] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/4/2020 19:58:53' prior: 50869997!
balance

	
	^transactions sum: [ :aTransaction | 
		
		(aTransaction isKindOf: Deposit ) ifTrue: [aTransaction value] ifFalse: [aTransaction value negated ]
		
	] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:59:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 19:59:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 19:59:16'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/4/2020 20:02:55' prior: 50870007!
balance

	| balance |
	balance := 0.
	
	transactions do: [ :aTransaction |
		balance := aTransaction contributeToBalance: balance.
	].
	
	^balance.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:03:01'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:03:01'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 20:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 20:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 20:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 20:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:03:03'!
ERROR!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:03:18'!
ERROR!
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:03:31'!
contributeToBalance: aSmallInteger 
	self shouldBeImplemented.! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:03:42' prior: 50870088!
contributeToBalance: aBalance 
	self subclassResponsibility .! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:03:44' prior: 50870094!
contributeToBalance: aBalance 
	self subclassResponsibility.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:03:48' overrides: 50870100!
contributeToBalance: aSmallInteger 
	self shouldBeImplemented.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:04:05' prior: 50870105 overrides: 50870100!
contributeToBalance: aBalance 
	^aBalance + value! !

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:19'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:26'!
ERROR!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:04:36' overrides: 50870100!
contributeToBalance: aSmallInteger 
	self shouldBeImplemented.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:04:51' prior: 50870128 overrides: 50870100!
contributeToBalance: aBalance 
	^aBalance - value! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:04:53' prior: 50870134 overrides: 50870100!
contributeToBalance: aBalance 
	^aBalance - value.! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/4/2020 20:04:58'!
PASSED!

TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioTest category: 'Portfolio-Ejercicio' stamp: 'DB 11/4/2020 20:05:48'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/4/2020 20:06:14'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioTest methodsFor: 'nil' stamp: 'DB 11/4/2020 20:06:06'!
test01PortfolioHaveZeroAsBalanceWhenCreated 

	| portfolio |
	
	portfolio := Portfolio new.

	self assert: 0 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:06:22'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:06:22'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:06:32'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:06:37' prior: 50870207!
balance
	^0! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:06:39'!
PASSED!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:09:37'!
test02PortfolioHasTheSameBalanceAsTheReceptiveAccount

	| portfolio |
	
	portfolio := Portfolio new.

	self assert: 0 equals: portfolio balance.
! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:10:17' prior: 50870219!
test02PortfolioHasTheSameBalanceAsTheReceptiveAccount

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
	
	portfolio add: account.
		
	self assert: 100 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:10:49'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:10:49'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:10:49'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:10:55'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:10:55'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:10:55'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:11:27'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:11:27'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:11:27'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:11:32'!
add: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/4/2020 20:12:36'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:12:33' prior: 50870271!
add: anAsset 
	assets add: anAsset.! !

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:12:38'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:12:56'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:12:56'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:12:56'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:13:30' overrides: 16896425!
initialize
	
	assets := OrderedCollection new! !

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:14:53'!
FAILURE!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:14:53'!
FAILURE!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:15:06'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'DB 11/4/2020 20:30:09' prior: 50870212!
balance

	(assets isEmpty) ifTrue: [^0].
	
	^100.
	
	
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:30:15'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:30:15'!
PASSED!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:44:14'!
test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount

	| portfolio  account1 account2 |
	
	portfolio := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount  new.
	Deposit register: 50 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
		
	self assert: 100 equals: portfolio balance.
! !
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:44:31' prior: 50870330!
test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount

	| portfolio  account1 account2 |
	
	portfolio := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 100 on: account1.
	
	account2 := ReceptiveAccount  new.
	Deposit register: 50 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
		
	self assert: 150 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:44:33'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:44:33'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:44:33'!
FAILURE!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:44:33'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'DB 11/4/2020 20:45:14' prior: 50870318!
balance

	(assets isEmpty) ifTrue: [^0].
	
	(assets size = 1) ifTrue: [^100].
	
	^150.
	
	
	! !

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:45:14'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:45:17'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:45:17'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:45:17'!
PASSED!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:46:35'!
test04PortfolioHasTheSameBalanceAsThePortfolioChild

	| portfolio  child account |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account..
	
	
	child add: account.
	portfolio add: child.
		
	self assert: 150 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:46:38'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:46:38'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:46:38'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:46:38'!
FAILURE!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:46:38'!
FAILURE!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:47:06'!
FAILURE!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:47:14' prior: 50870396!
test04PortfolioHasTheSameBalanceAsThePortfolioChild

	| portfolio  child account |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 75 on: account..
	
	
	child add: account.
	portfolio add: child.
		
	self assert: 75 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:47:18'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:47:18'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:47:18'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:47:18'!
FAILURE!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:47:18'!
FAILURE!
!Portfolio methodsFor: 'balance' stamp: 'DB 11/4/2020 20:48:45' prior: 50870375!
balance

	^assets sum: [:anAssets |  anAssets balance.] ifEmpty: [0]

	
	! !
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:48:58' prior: 50870431!
test04PortfolioHasTheSameBalanceAsThePortfolioChild

	| portfolio  child account |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account := ReceptiveAccount  new.
	Deposit register: 75 on: account..
	
	child add: account.
	portfolio add: child.
		
	self assert: 75 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:49:13'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:49:13'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:49:13'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:49:13'!
PASSED!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:50:55'!
test05PortfolioHasTheSameBalanceWithMoreThanOneAsset

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
! !

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 20:50:58'!
PASSED!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:52:38'!
test06PortfolioHasTheSameBalanceWithMoreThanOneAsset

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
! !
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:53:18'!
test06HasRegisteredReturnsFalseWithAnEmptyPortfoio

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
! !

!methodRemoval: PortfolioTest #test06PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 20:53:18'!
test06PortfolioHasTheSameBalanceWithMoreThanOneAsset

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/4/2020 20:53:36'!
test06HasRegisteredReturnsFalseWithAnEmptyPortfolio

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
! !

!methodRemoval: PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfoio stamp: 'DB 11/4/2020 20:53:36'!
test06HasRegisteredReturnsFalseWithAnEmptyPortfoio

	| portfolio  child account1 account2 |
	
	portfolio := Portfolio new.
	child := Portfolio new.
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	account2 := ReceptiveAccount new.
	Deposit register: 30 on: account2.
	
	child add: account1.
	portfolio add: child.
	portfolio add: account2.
		
	self assert: 105 equals: portfolio balance.
!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:55:21' prior: 50870564!
test06HasRegisteredReturnsFalseWithAnEmptyPortfolio

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:55:24'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:55:24'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:55:24'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:55:24'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 20:55:24'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 20:55:24'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 20:55:24'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:55:32'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:55:41' prior: 50870635!
hasRegistered: aDeposit 
	^false! !

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 20:55:42'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:56:29'!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:56:40' prior: 50870648!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:56:44' prior: 50870661!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 20:56:47'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 20:56:47'!
FAILURE!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 20:56:47'!
FAILURE!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 20:57:09'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:57:48' prior: 50870640!
hasRegistered: aDeposit 

	(assets isEmpty) ifTrue: [^false]
	^true! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 20:57:50' prior: 50870723!
hasRegistered: aDeposit 

	(assets isEmpty) ifTrue: [^false].
	^true! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 20:57:54'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 20:57:54'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:58:14'!
test07HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:59:30'!
test08HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].! !

!methodRemoval: PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 20:59:30'!
test07HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 20:59:57'!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].! !

!methodRemoval: PortfolioTest #test08HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 20:59:57'!
test08HasRegisteredReturnsTrueWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 21:01:08' prior: 50870802!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account2 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:01:13'!
FAILURE!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:01:13'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:03:04' prior: 50870729!
hasRegistered: aTransaction 

	assets do: [:anAssets | 
		(anAssets transactions includes: aTransaction) ifTrue: [^true]
	].
	^false.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:03:07' prior: 50870858!
hasRegistered: aTransaction 

	assets do: [:anAssets | 
		(anAssets transactions includes: aTransaction) ifTrue: [^true]
	].

	^false.! !

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:03:08'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:03:11'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:03:11'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 21:04:55'!
test09TransactionsReturnsEmptyWhenAnEmptyPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: (portfolio transactions isEmpty)! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:05:04'!
PASSED!

!testRun: #PortfolioTest #test09TransactionsReturnsEmptyWhenAnEmptyPortfolio stamp: 'DB 11/4/2020 21:05:04'!
ERROR!

!testRun: #PortfolioTest #test09TransactionsReturnsEmptyWhenAnEmptyPortfolio stamp: 'DB 11/4/2020 21:05:04'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:05:12'!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:05:29' prior: 50870954!
transactions
	^OrderedCollection new.! !

!testRun: #PortfolioTest #test09TransactionsReturnsEmptyWhenAnEmptyPortfolio stamp: 'DB 11/4/2020 21:06:03'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:06:05'!
PASSED!

!testRun: #PortfolioTest #test09TransactionsReturnsEmptyWhenAnEmptyPortfolio stamp: 'DB 11/4/2020 21:06:05'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:08:00'!
test09PortfolioHaveZeroTransactionsWhenIsCreated

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: (portfolio transactions isEmpty)! !

!methodRemoval: PortfolioTest #test09TransactionsReturnsEmptyWhenAnEmptyPortfolio stamp: 'DB 11/4/2020 21:08:00'!
test09TransactionsReturnsEmptyWhenAnEmptyPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: (portfolio transactions isEmpty)!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:08:06'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:08:38'!
test10PortfolioHaveTheSameTransactionsThanYoursChilds

	| portfolio  |
	
	portfolio := Portfolio new.
	
	self assert: (portfolio transactions isEmpty)! !
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:10:44' prior: 50871020!
test10PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self assert: (	account1 transactions includesAll: (portfolio transactions )).
	self assert: (account2 transactions includesAll: (portfolio transactions )).! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:10:47'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:10:47'!
ERROR!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:10:47'!
ERROR!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:11:00' prior: 50871028!
test10PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self assert: (	account1 transactions includesAllOf: (portfolio transactions )).
	self assert: (account2 transactions includesAllOf: (portfolio transactions )).! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:11:03'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:11:03'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:15:58' prior: 50871090!
test10PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:16:01'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:16:01'!
ERROR!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:16:01'!
ERROR!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:16:15' prior: 50871148!
test10PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:16:18'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:16:18'!
FAILURE!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:16:18'!
FAILURE!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:18:20' prior: 50870959!
transactions
	assets do: [:anAsset | 
		^anAsset transactions
	]! !
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:18:44'!
_test11PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:18:59'!
test10PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!methodRemoval: PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:18:59'!
test10PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:19:35' prior: 50871302!
test10PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio  account |
	
	portfolio := Portfolio new.

	account := ReceptiveAccount  new.
	
	Deposit register: 89 on: account.
	Deposit register: 78 on: account.
	Deposit register: 56 on: account.
	
	portfolio add: account.
	
	account transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:19:42'!
ERROR!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:19:42'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:19:42'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:20:27'!
ERROR!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:20:27'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:20:27'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:21:06' prior: 50871275!
transactions
	assets do: [:anAsset | 
		^anAsset transactions
	].
	^OrderedCollection new.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:21:31' prior: 50871414!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		^anAsset transactions
	].
	^transactions.! !

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:21:33'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:21:36'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:21:36'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:21:49'!
test11PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!methodRemoval: PortfolioTest #_test11PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:21:49'!
_test11PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:22:03'!
test11PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!methodRemoval: PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:22:03'!
test11PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:22:09'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:22:09'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:22:09'!
FAILURE!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:22:31' prior: 50871420!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		transactions := anAsset transactions
	].
	^transactions.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:22:38'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:22:38'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:22:38'!
FAILURE!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:23:30' prior: 50871603!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		transactions addAllLast: (anAsset transactions copy)
	].
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:23:34' prior: 50871657!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		transactions addAllLast: (anAsset transactions)
	].
	^transactions.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:23:37'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:23:37'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:23:38'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:23:50'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:23:50'!
FAILURE!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:24:38'!
FAILURE!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:24:58' prior: 50871513!
test11PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
	
	account1 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].
	
	account2 transactions do: [:aTransaction |
		self assert: (portfolio transactions includes: aTransaction )
	].	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:25:01'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:25:01'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/4/2020 21:26:19'!
test12DuplicatedAccountOrPortfolioError
	
	| portfolio |
	
	portfolio := Portfolio new.

	self should: [portfolio add: portfolio.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:26:28'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:26:28'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:26:28'!
ERROR!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:26:40'!
duplicatedAccountOrPortfolioErrorDescription
	self shouldBeImplemented.! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:27:12' prior: 50871855!
duplicatedAccountOrPortfolioErrorDescription
	^'Duplicated account or portfolio'! !

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:27:16'!
FAILURE!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/4/2020 21:27:57'!
signalDuplicatedAccountOrPortfolio
	self error: self duplicatedAccountOrPortfolioErrorDescription ! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/4/2020 21:28:30' prior: 50870283!
add: anAsset 

	anAsset = self ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	assets add: anAsset.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:28:32'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:28:32'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/4/2020 21:30:46'!
test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio  add: account.

	self should: [portfolio add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:30:49'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:30:49'!
FAILURE!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:30:49'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/4/2020 21:32:09' prior: 50871876!
add: anAsset 

	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].

	assets add: anAsset.! !

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:32:10'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:32:13'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:32:13'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/4/2020 21:32:23'!
test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio  add: account.

	self should: [portfolio add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!methodRemoval: PortfolioTest #test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:32:23'!
test12DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio  add: account.

	self should: [portfolio add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/4/2020 21:32:27'!
PASSED!

----SNAPSHOT----(4 November 2020 21:33:03) CuisUniversity-4384.image priorSource: 17214001!

----SNAPSHOT----(4 November 2020 21:37:32) CuisUniversity-4384.image priorSource: 17295438!

----QUIT----(4 November 2020 21:37:35) CuisUniversity-4384.image priorSource: 17295531!

----STARTUP---- (6 November 2020 18:08:30) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/6/2020 18:09:25' prior: 50872056!
test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.

	self should: [portfolio add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:09:30'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:09:30'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/6/2020 18:16:30'!
test14TwoPortfoliosCantContaintEachother 

"DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice"
	
	| portfolio1 portfolio2 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:16:35'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:16:35'!
FAILURE!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:16:35'!
FAILURE!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:17:37'!
FAILURE!

anAsset!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:20:48'!
include: anAsset 

	^true! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:21:25' prior: 50871995!
add: anAsset 

	((anAsset = self) or: (assets includes: anAsset) or: (anAsset include: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:21:31'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:21:31'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:21:31'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:21:31'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:21:31'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:21:31'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:22:02' prior: 50872283!
include: anAsset 

	^(assets  includes: anAsset)! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:22:05'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:22:05'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:22:05'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:22:05'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:22:05'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:22:05'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:23:44' prior: 50872349!
include: anAsset 

	(anAsset isKindOf: Portfolio) ifTrue: [^(assets  includes: anAsset)]

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:23:56' prior: 50872407!
include: anAsset 

	(anAsset isKindOf: Portfolio) ifTrue: [^(assets  includes: anAsset)].
	^false.

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:24:07'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:24:07'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:24:07'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:24:07'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:24:07'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:24:07'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:24:15'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:25:45' prior: 50872413!
include: anAsset 

	 ^(assets  includes: anAsset)

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:27:11' prior: 50872287!
add: anAsset 
	
	((anAsset isKindOf: Portfolio) and: (anAsset include: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.! !

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:27:19'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:28:32' prior: 50872481!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.! !

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:28:33'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:28:40'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:28:40'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/6/2020 18:29:58'!
test15TwoPortfoliosCantContaintEachother 

"DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice"
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:03'!
FAILURE!

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:03'!
FAILURE!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:23'!
PASSED!

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:23'!
FAILURE!

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:23'!
FAILURE!

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:30:30'!
PASSED!

anAsset!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:35:27' prior: 50872476!
include: anAsset 

	 ^(assets includes: anAsset)

	! !

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:35:57'!
FAILURE!

assets includes: anAsset!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:40:10' prior: 50872652!
include: anAsset 

	

	assets do: [ :aChildAsset | 
		(aChildAsset isKindOf: Portfolio) ifTrue: [
			^aChildAsset include: anAsset 	
		]
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:40:22' prior: 50872661!
include: anAsset 

	assets do: [ :aChildAsset | 
		(aChildAsset isKindOf: Portfolio) ifTrue: [
			^aChildAsset include: anAsset 	
		]
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/6/2020 18:41:32' prior: 50872669!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset isKindOf: Portfolio) ifTrue: [
			^aChildAsset include: anAsset 	
		]
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:42:25'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

!testRun: #PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 18:42:29'!
PASSED!

----SNAPSHOT----(6 November 2020 18:51:13) CuisUniversity-4384.image priorSource: 17295624!

----QUIT----(6 November 2020 18:51:18) CuisUniversity-4384.image priorSource: 17315039!

----STARTUP---- (6 November 2020 19:03:04) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/6/2020 19:04:41' prior: 50872208!
test14TwoPortfoliosCantContaintEachother 
	
	| portfolio1 portfolio2 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

----SNAPSHOT----(6 November 2020 19:05:15) CuisUniversity-4384.image priorSource: 17315132!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/6/2020 19:06:22'!
test16TwoPortfoliosCantContaintEachother 

"DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice"
	
	| portfolio1 portfolio2 portfolio3 portfolio4 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio4 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.
	
	portfolio3 add: portfolio4.

	self should: [portfolio4 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test16TwoPortfoliosCantContaintEachother stamp: 'DB 11/6/2020 19:06:26'!
PASSED!

----STARTUP---- (7 November 2020 16:58:48) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/7/2020 17:00:28'!
test15Cycle 

"DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice"
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!methodRemoval: PortfolioTest #test15TwoPortfoliosCantContaintEachother stamp: 'DB 11/7/2020 17:00:28'!
test15TwoPortfoliosCantContaintEachother 

"DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice"
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/7/2020 17:04:46'!
test16Cycle 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:04:50'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:04:50'!
FAILURE!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/7/2020 17:04:57'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:04:57'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:04:57'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 17:07:09' prior: 50872677!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset isKindOf: Portfolio)  ifTrue: [
			^aChildAsset include: anAsset 	
		] ifFalse: [^ anAsset = aChildAsset ]
	
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/7/2020 17:07:19'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:07:19'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 17:07:19'!
FAILURE!

portfolio1!

self!

Object subclass: #Portfolio
	instanceVariableNames: 'assets root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 17:22:23'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 17:23:08'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/7/2020 17:23:54'!
setRootAs: aPortfolio

	root := aPortfolio ! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 17:25:02' prior: 50872496!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	
	anAsset setRootAs: self.! !

Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 17:37:43'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/7/2020 17:39:47'!
addParent: aPortfolio

	parents add: aPortfolio ! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'DB 11/7/2020 17:40:08' prior: 50869840 overrides: 16896425!
initialize

	transactions := OrderedCollection new.
	
	parents := OrderedCollection new.! !

Object subclass: #Portfolio
	instanceVariableNames: 'assets parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 17:40:30'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 17:40:57'!
addParent: aPortfolio

	parents add: aPortfolio ! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 17:41:16' prior: 50872990!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 17:41:26' prior: 50873045!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 18:33:54'!
ERROR!
!Portfolio methodsFor: 'initialization' stamp: 'DB 11/7/2020 18:34:25' prior: 50870302 overrides: 16896425!
initialize
	
	assets := OrderedCollection new.
	
	parents := OrderedCollection new.! !

anAsset!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 18:35:27'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 18:36:14' prior: 50873058!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	(anAsset parent = self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/7/2020 18:36:28'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/7/2020 18:36:28'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/7/2020 18:36:28'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/7/2020 18:36:28'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/7/2020 18:36:28'!
ERROR!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 18:36:28'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/7/2020 18:37:05' prior: 50873083!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	

	(anAsset parent = self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/7/2020 18:37:15'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/7/2020 18:37:15'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/7/2020 18:37:15'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/7/2020 18:37:15'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/7/2020 18:37:15'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/7/2020 18:37:17'!
ERROR!

!methodRemoval: ReceptiveAccount #setRootAs: stamp: 'DB 11/7/2020 18:37:52'!
setRootAs: aPortfolio

	root := aPortfolio !

Object subclass: #Asset
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Asset category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 18:38:09'!
Object subclass: #Asset
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Asset methodsFor: 'nil' stamp: 'DB 11/7/2020 18:38:36' overrides: 16896425!
initialize 
	parents := OrderedCollection new.! !
!Asset methodsFor: 'as yet unclassified' stamp: 'DB 11/7/2020 18:38:56'!
parents 
	^parents ! !
!Asset methodsFor: 'as yet unclassified' stamp: 'DB 11/7/2020 18:39:25'!
addParent: aParent
	parents add: aParent ! !

----SNAPSHOT----(7 November 2020 18:40:04) CuisUniversity-4384.image priorSource: 17315763!

Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 18:40:10'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: ReceptiveAccount #addParent: stamp: 'DB 11/7/2020 18:40:24'!
addParent: aPortfolio

	parents add: aPortfolio !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'DB 11/7/2020 18:40:49' prior: 50873022 overrides: 16896425!
initialize

	transactions := OrderedCollection new.! !

Object subclass: #Asset
	instanceVariableNames: 'asset parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Asset category: 'Portfolio-Ejercicio' stamp: 'DB 11/7/2020 18:41:19'!
Object subclass: #Asset
	instanceVariableNames: 'asset parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Asset methodsFor: 'initialization' stamp: 'DB 11/7/2020 18:41:45'!
initializeWith: anAsset 
	parents := OrderedCollection new.
	
	asset := anAsset! !

!methodRemoval: Asset #initialize stamp: 'DB 11/7/2020 18:41:58'!
initialize 
	parents := OrderedCollection new.!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/7/2020 18:42:22' prior: 50870866!
hasRegistered: aTransaction 

	assets do: [:anAssets | 
		(anAssets value transactions includes: aTransaction) ifTrue: [^true]
	].

	^false.! !
!Asset methodsFor: 'operations' stamp: 'DB 11/7/2020 18:42:38'!
asset  
	^asset ! !

----QUIT----(7 November 2020 19:31:41) CuisUniversity-4384.image priorSource: 17331468!

----STARTUP---- (8 November 2020 11:01:56) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


Object subclass: #Asset
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Asset category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 11:10:03'!
Object subclass: #Asset
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: Asset #asset stamp: 'DB 11/8/2020 11:21:49'!
asset  
	^asset !
!Asset methodsFor: 'initialization' stamp: 'DB 11/8/2020 11:22:04' overrides: 16896425!
initialize

	parents := OrderedCollection new.! !

!methodRemoval: Asset #initializeWith: stamp: 'DB 11/8/2020 11:22:12'!
initializeWith: anAsset 
	parents := OrderedCollection new.
	
	asset := anAsset!

Asset subclass: #Portfolio
	instanceVariableNames: 'assets parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: Portfolio #addParent: stamp: 'DB 11/8/2020 11:23:14'!
addParent: aPortfolio

	parents add: aPortfolio !

Object subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 11:23:31'!
Object subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 11:24:32'!
Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Asset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 11:24:42'!
Asset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:25:16'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:25:16'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:25:16'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:25:16'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:25:16'!
ERROR!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:25:16'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 11:25:48' prior: 50873156!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].

	"(anAsset parent = self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]."
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:25:53'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:25:53'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:25:57'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:26:44'!
ERROR!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:27:18'!
ERROR!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'DB 11/8/2020 11:28:11' prior: 50873280 overrides: 50873337!
initialize

	transactions := OrderedCollection new.
	super initialize ! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:28:20'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:28:20'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:28:20'!
FAILURE!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:28:30'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:28:30'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:28:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:28:33'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:28:33'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:28:33'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:28:38'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:28:38'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:28:38'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:28:38'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:28:38'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:28:42'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:28:42'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:28:42'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:28:42'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:28:42'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:28:42'!
FAILURE!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:30:36'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:30:36'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:30:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:30:42'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:30:42'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:30:42'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:30:45'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:30:45'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:30:45'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:30:45'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:30:45'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:30:52'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:30:52'!
FAILURE!

anAsset!
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:33:34'!
isRoot 
	^parents size = 0! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:35:17'!
roots 
	^parents! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:35:45' prior: 50873720!
roots 
	^parents ! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:36:02' prior: 50873724!
roots 
	^parents at: 1! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:36:38' prior: 50873728!
roots 
	^parents! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 11:38:52' prior: 50873458!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].

	"(anAsset parent = self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]."
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: anAsset) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 11:39:32'!
include: anAsset
	^false! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:41:03'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:41:03'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 11:50:05'!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 portfolio6 account |
	
	rootPortfolio1 := Portfolio new.
	rootPortfolio2 := Portfolio new.
	rootPortfolio3 := Portfolio new.
	portfolio4 := Portfolio new.
	portfolio5 := Portfolio new.
	portfolio6 := Portfolio new.
	
	account := ReceptiveAccount new.
	

	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	
	
	

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 11:50:28' prior: 50873816!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 account |
	
	rootPortfolio1 := Portfolio new.
	rootPortfolio2 := Portfolio new.
	rootPortfolio3 := Portfolio new.
	portfolio4 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 11:51:00' prior: 50873839!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 account |
	
	rootPortfolio1 := Portfolio new.
	rootPortfolio2 := Portfolio new.
	rootPortfolio3 := Portfolio new.
	portfolio4 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 11:51:05'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:51:05'!
ERROR!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:51:05'!
ERROR!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:51:24'!
ERROR!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:51:40'!
ERROR!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:52:00'!
ERROR!

Asset subclass: #Portfolio
	instanceVariableNames: 'name assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 11:52:37'!
Asset subclass: #Portfolio
	instanceVariableNames: 'name assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'initialization' stamp: 'DB 11/8/2020 11:53:12'!
initializeWith: aName
	
	assets := OrderedCollection new.
	
	parents := OrderedCollection new.
	
	name := aName ! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 11:54:13' prior: 50873859!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:54:21'!
ERROR!
!Portfolio class methodsFor: 'nil' stamp: 'DB 11/8/2020 11:55:05'!
initializeWith: aName
	
	! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 11:57:03' prior: 50874012!
initializeWith: aName
	
	self new initializeWith: aName! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 11:57:12' prior: 50874016!
initializeWith: aName
	
	^self new initializeWith: aName! !

anAsset!

anAsset!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 11:59:39'!
ERROR!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 11:59:57' prior: 50873979!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:01:21'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:02:39' prior: 50873736!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].

	"(anAsset parent = self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]."
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:03:10'!
FAILURE!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:03:35'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:03:35'!
FAILURE!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:03:35'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:03:44'!
FAILURE!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 12:05:02' prior: 50872808!
test16Cycle 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio initializeWith: 'P1'.
	
	portfolio2 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:05:03'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:08:03'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:08:17'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:08:17'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:08:54' prior: 50874063!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

(assets includes: anAsset)!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:11:39' prior: 50874174!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: self) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:13:45' prior: 50874192!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: anAsset ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:13:48'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:13:51'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:13:51'!
ERROR!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:13:51'!
ERROR!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:14:10'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:15:21' prior: 50874209!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset parents do: [:aParentAsset | 
		(aParentAsset include: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:15:35'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:15:35'!
FAILURE!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:15:35'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:15:39'!
FAILURE!

anAsset parents!

self at: 1!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:22:46' prior: 50872888 overrides: 50873755!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset isKindOf: Portfolio)  ifTrue: [^aChildAsset include: anAsset 	].
		(aChildAsset isKindOf: ReceptiveAccount ) ifTrue: [(aChildAsset  = anAsset ) ifTrue: [^true.].].
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:23:19'!
PASSED!

----SNAPSHOT----(8 November 2020 12:23:40) CuisUniversity-4384.image priorSource: 17333267!
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:30:17' prior: 50873252!
parents 
	^parents! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:30:30' prior: 50874295!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aParentAsset | 
		(aParentAsset include: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:30:42' prior: 50874398!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset include: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset include: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:32:17' prior: 50873732!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		roots := aParent roots. 
	]! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:32:30' prior: 50874432!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		roots add: aParent roots. 
	]! !

----SNAPSHOT----(8 November 2020 12:33:23) CuisUniversity-4384.image priorSource: 17367697!
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:34:47' prior: 50874439!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		(aParent isRoot) ifTrue: [ roots add: aParent ] ifFalse: [ aParent roots]
	]! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:34:50' prior: 50874449!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		(aParent isRoot) ifTrue: [ roots add: aParent ] ifFalse: [ aParent roots ]
	]! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:35:03' prior: 50874457!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		(aParent isRoot) ifTrue: [ roots add: aParent ] ifFalse: [ aParent roots ]
	].

	^roots.! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:35:40' prior: 50874465!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		(aParent isRoot) ifTrue: [ roots add: aParent ] ifFalse: [ roots addAll: aParent roots ]
	].

	^roots.! !

----SNAPSHOT----(8 November 2020 12:35:49) CuisUniversity-4384.image priorSource: 17369428!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:36:03'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:39:31'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:39:31'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 12:40:37' prior: 50874029!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 12:40:53' prior: 50874607!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 12:41:11' prior: 50874640!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [portfolio5 add: rootPortfolio1 .] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:41:15'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:41:15'!
PASSED!
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:42:35'!
add: anAsset
	^self subclassResponsibility ! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:43:05'!
balance
	^self subclassResponsibility ! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:44:20'!
register: aTransaction
	^self subclassResponsibility ! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:44:43'!
transactions
	^self subclassResponsibility ! !
!Asset methodsFor: 'operations' stamp: 'DB 11/8/2020 12:45:22'!
hasRegistered: aTransaction
	^self subclassResponsibility ! !

!methodRemoval: Asset #register: stamp: 'DB 11/8/2020 12:47:40'!
register: aTransaction
	^self subclassResponsibility !

!methodRemoval: Asset #add: stamp: 'DB 11/8/2020 12:48:22'!
add: anAsset
	^self subclassResponsibility !

!methodRemoval: Asset #parents stamp: 'DB 11/8/2020 12:49:08'!
parents 
	^parents!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:49:12'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:49:12'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:51:34' prior: 50874377 overrides: 50873755!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		
		aChildAsset xxx: anAsset.
		
		"(aChildAsset isKindOf: Portfolio)  ifTrue: [^aChildAsset include: anAsset 	].
		(aChildAsset isKindOf: ReceptiveAccount ) ifTrue: [(aChildAsset  = anAsset ) ifTrue: [^true.].]."
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:52:06'!
xxx: anAsset 

	^self include: anAsset.
	
	
	

	! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/8/2020 12:52:37'!
xxx: anAsset		
	^self  = anAsset ! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:52:52'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:52:53'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:52:53'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:52:53'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:52:53'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:52:53'!
FAILURE!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:52:53'!
FAILURE!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:52:53'!
FAILURE!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:52:53'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:53:23' prior: 50874865 overrides: 50873755!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		
		(aChildAsset xxx: anAsset) ifTrue: [^true]
		
		"(aChildAsset isKindOf: Portfolio)  ifTrue: [^aChildAsset include: anAsset 	].
		(aChildAsset isKindOf: ReceptiveAccount ) ifTrue: [(aChildAsset  = anAsset ) ifTrue: [^true.].]."
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 12:53:30'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 12:53:30'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 12:54:18' prior: 50874948 overrides: 50873755!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset xxx: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:01:31' prior: 50874878!
xxx: anAsset 

	(self = anAsset) ifTrue: [^true] ifFalse: [^self include: anAsset ]
	"^self include: anAsset."
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:01:42' prior: 50875023 overrides: 50873755!
include: anAsset 
	
	"(self = anAsset) ifTrue: [^true]."

	assets do: [ :aChildAsset | 
		(aChildAsset xxx: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 13:01:47'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 13:01:47'!
FAILURE!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 13:01:47'!
FAILURE!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:02:10' prior: 50875039 overrides: 50873755!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset xxx: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:02:28' prior: 50875031!
xxx: anAsset 

	^self include: anAsset 
	"^self include: anAsset."
	
	
	

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:02:30' prior: 50875120!
xxx: anAsset 

	^self include: anAsset 
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:02:35'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

!testRun: #PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 13:02:36'!
PASSED!

----SNAPSHOT----(8 November 2020 13:02:40) CuisUniversity-4384.image priorSource: 17370589!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:05:48' prior: 50872775!
test15Cycle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:06:59'!
test15CannotCreateOneWayCicle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!methodRemoval: PortfolioTest #test15Cycle stamp: 'DB 11/8/2020 13:06:59'!
test15Cycle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:07:09'!
test15CannotCreateOneWayCycle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!methodRemoval: PortfolioTest #test15CannotCreateOneWayCicle stamp: 'DB 11/8/2020 13:07:09'!
test15CannotCreateOneWayCicle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.

	self should: [portfolio3 add: portfolio1.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:09:03'!
test16ParentAndChildCannotContainSameTheAccount 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio initializeWith: 'P1'.
	
	portfolio2 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !

!methodRemoval: PortfolioTest #test16Cycle stamp: 'DB 11/8/2020 13:09:03'!
test16Cycle 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio initializeWith: 'P1'.
	
	portfolio2 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.

	self should: [portfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:09:41'!
test17CannotCreateACycleWithMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [portfolio5 add: rootPortfolio1 .] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.

	! !

!methodRemoval: PortfolioTest #test17CycleMultipleRoots stamp: 'DB 11/8/2020 13:09:41'!
test17CycleMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .

	self should: [rootPortfolio1 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio2 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [rootPortfolio3 add: account.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
		
	self should: [portfolio5 add: rootPortfolio1 .] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.

	!
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/8/2020 13:11:19'!
createEmptyPortfolioAndCheckBalance

	| portfolio |
	
	portfolio := Portfolio new.

	self assert: 0 equals: portfolio balance! !
!PortfolioTest methodsFor: 'balance' stamp: 'DB 11/8/2020 13:11:19' prior: 50870193!
test01PortfolioHaveZeroAsBalanceWhenCreated 

	self createEmptyPortfolioAndCheckBalance.
! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:12:14' prior: 50870675!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	account1 transactions do: [ :aTransaction |
		self assert: (portfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:21:10'!
xxx: anAccount xx: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:21:33' prior: 50870831!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self xxx: account2 xx: portfolio .! !

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:21:38'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:21:38'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:21:38'!
FAILURE!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:21:38'!
FAILURE!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:21:54'!
FAILURE!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:22:15'!
FAILURE!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:21:33' prior: 50875404!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self xxx: account2 xx: portfolio .! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 21:01:08' prior: 50875446!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account2 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/4/2020 21:01:08' prior: 50875463!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	account2 transactions do: [ :aTransaction |
		self deny: (portfolio hasRegistered: aTransaction )
	].! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:24:06'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:24:06'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:24:41'!
doesAccount: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].! !

!methodRemoval: PortfolioTest #xxx:xx: stamp: 'DB 11/8/2020 13:24:41'!
xxx: anAccount xx: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:25:05'!
doesAccountExist: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].! !

!methodRemoval: PortfolioTest #doesAccount:In: stamp: 'DB 11/8/2020 13:25:05'!
doesAccount: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:25:24'!
doesAccountDontExist: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self deny: (aPortfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:25:48' prior: 50870597!
test06HasRegisteredReturnsFalseWithAnEmptyPortfolio

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	self doesAccountDontExist: account1 In: portfolio.! !

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:25:52'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:26:19' prior: 50875383!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	self doesAccountExist: account1 In: portfolio .! !

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:26:22'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:26:22'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:26:22'!
PASSED!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 13:26:56' prior: 50875482!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self doesAccountDontExist: account2 In: portfolio .! !

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:27:00'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:27:00'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:27:00'!
PASSED!
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/8/2020 13:28:24' prior: 50871732!
test11PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
	
	self doesAccountExist: account1 In: portfolio .
	self doesAccountExist: account2 In: portfolio.! !
!PortfolioTest methodsFor: 'transactions' stamp: 'DB 11/8/2020 13:28:46' prior: 50871346!
test10PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio  account |
	
	portfolio := Portfolio new.

	account := ReceptiveAccount  new.
	
	Deposit register: 89 on: account.
	Deposit register: 78 on: account.
	Deposit register: 56 on: account.
	
	portfolio add: account.
	
	self doesAccountExist: account In: portfolio .! !

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:28:52'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:28:52'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:28:52'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:30:48'!
xx:  anAsset1 in: anAsset2
	

	self should: [anAsset1 add: anAsset2.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:30:52' prior: 50875711!
xx:  anAsset1 in: anAsset2
	
	self should: [anAsset1 add: anAsset2.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:31:10' prior: 50871796!
test12DuplicatedAccountOrPortfolioError
	
	| portfolio |
	
	portfolio := Portfolio new.
	
	self xx: portfolio in: portfolio.! !

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:31:13'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:31:13'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:31:13'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:31:13'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:31:13'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:31:13'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:31:34' prior: 50872146!
test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	self xx: portfolio in: account.! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:31:56' prior: 50872756!
test14TwoPortfoliosCantContaintEachother 
	
	| portfolio1 portfolio2 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	self xx: portfolio2 in: portfolio1 .
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:32:12' prior: 50875235!
test15CannotCreateOneWayCycle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.
	
	self xx: portfolio3 in: portfolio1.! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:32:35' prior: 50875264!
test16ParentAndChildCannotContainSameTheAccount 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio initializeWith: 'P1'.
	
	portfolio2 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.
	
	self xx: portfolio2 in: account.
	! !
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:33:44' prior: 50875294!
test17CannotCreateACycleWithMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .
	
	self xx: rootPortfolio1 in: account.
	self xx: rootPortfolio2 in: account.
	self xx: rootPortfolio3 in: account.
	self xx: portfolio5 in: rootPortfolio1 .! !

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:33:49'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:33:49'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:33:49'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:33:49'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:33:49'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:33:49'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:35:45'!
checkNoDuplicatedAsset:  anAsset1 in: anAsset2
	
	self should: [anAsset1 add: anAsset2.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875787!
test16ParentAndChildCannotContainSameTheAccount 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio initializeWith: 'P1'.
	
	portfolio2 := Portfolio initializeWith: 'P2'.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.
	
	self checkNoDuplicatedAsset: portfolio2 in: account.
	! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875800!
test17CannotCreateACycleWithMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio initializeWith: 'P1'.
	rootPortfolio2 := Portfolio initializeWith: 'P2'.
	rootPortfolio3 := Portfolio initializeWith: 'P3'.
	portfolio4 := Portfolio initializeWith: 'P4'.
	portfolio5 := Portfolio initializeWith: 'P5'.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .
	
	self checkNoDuplicatedAsset: rootPortfolio1 in: account.
	self checkNoDuplicatedAsset: rootPortfolio2 in: account.
	self checkNoDuplicatedAsset: rootPortfolio3 in: account.
	self checkNoDuplicatedAsset: portfolio5 in: rootPortfolio1 .! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875727!
test12DuplicatedAccountOrPortfolioError
	
	| portfolio |
	
	portfolio := Portfolio new.
	
	self checkNoDuplicatedAsset: portfolio in: portfolio.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875775!
test15CannotCreateOneWayCycle 
	
	| portfolio1 portfolio2 portfolio3 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio3 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	portfolio2 add: portfolio3.
	
	self checkNoDuplicatedAsset: portfolio3 in: portfolio1.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875765!
test14TwoPortfoliosCantContaintEachother 
	
	| portfolio1 portfolio2 |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	portfolio1 add: portfolio2.
	
	self checkNoDuplicatedAsset: portfolio2 in: portfolio1 .
	! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:35:45' prior: 50875755!
test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice
	
	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	self checkNoDuplicatedAsset: portfolio in: account.! !

!methodRemoval: PortfolioTest #xx:in: stamp: 'DB 11/8/2020 13:35:45'!
xx:  anAsset1 in: anAsset2
	
	self should: [anAsset1 add: anAsset2.] 
		raise: Error 
		withMessageText: Portfolio duplicatedAccountOrPortfolioErrorDescription.
	!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:35:54'!
PASSED!

!methodRemoval: Portfolio class #initializeWith: stamp: 'DB 11/8/2020 13:37:11'!
initializeWith: aName
	
	^self new initializeWith: aName!

!methodRemoval: Portfolio #initializeWith: stamp: 'DB 11/8/2020 13:37:20'!
initializeWith: aName
	
	assets := OrderedCollection new.
	
	parents := OrderedCollection new.
	
	name := aName !

Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'DB 11/8/2020 13:37:28'!
Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:37:32'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:37:32'!
ERROR!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:37:32'!
ERROR!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:37:48' prior: 50875856!
test16ParentAndChildCannotContainSameTheAccount 

	
	| portfolio1 portfolio2 account |
	
	portfolio1 := Portfolio new.
	
	portfolio2 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	portfolio1 add: account.
	
	portfolio1 add: portfolio2.
	
	self checkNoDuplicatedAsset: portfolio2 in: account.
	! !

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:37:49'!
PASSED!
!PortfolioTest methodsFor: 'tree' stamp: 'DB 11/8/2020 13:38:12' prior: 50875870!
test17CannotCreateACycleWithMultipleRoots

	
	| rootPortfolio1 rootPortfolio2 rootPortfolio3 portfolio4 portfolio5 account |
	
	rootPortfolio1 := Portfolio new.
	rootPortfolio2 := Portfolio new.
	rootPortfolio3 := Portfolio new.
	portfolio4 := Portfolio new.
	portfolio5 := Portfolio new.
	
	account := ReceptiveAccount new.
	
	rootPortfolio1 add: portfolio4 .
	rootPortfolio2 add: portfolio4 .
	rootPortfolio3 add: portfolio4 .
	
	portfolio4 add: account .
	portfolio4 add: portfolio5 .
	
	self checkNoDuplicatedAsset: rootPortfolio1 in: account.
	self checkNoDuplicatedAsset: rootPortfolio2 in: account.
	self checkNoDuplicatedAsset: rootPortfolio3 in: account.
	self checkNoDuplicatedAsset: portfolio5 in: rootPortfolio1 .! !

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:38:12'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:38:16'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:38:16'!
PASSED!
!Asset methodsFor: 'tree' stamp: 'DB 11/8/2020 13:39:09'!
includes: anAsset
	^false! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:39:09' overrides: 50876163!
includes: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset xxx: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:39:09' prior: 50874415!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset includes: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset include: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 13:39:10' prior: 50875126!
xxx: anAsset 

	^self includes: anAsset 
	
	

	! !

!methodRemoval: Asset #include: stamp: 'DB 11/8/2020 13:39:10'!
include: anAsset
	^false!

!methodRemoval: Portfolio #include: stamp: 'DB 11/8/2020 13:39:10'!
include: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset xxx: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:39:32'!
include: anAsset 

	^self includes: anAsset 
	
	

	! !

!methodRemoval: Portfolio #xxx: stamp: 'DB 11/8/2020 13:39:32'!
xxx: anAsset 

	^self includes: anAsset 
	
	

	!
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/8/2020 13:39:53'!
include: anAsset		
	^self  = anAsset ! !

!methodRemoval: ReceptiveAccount #xxx: stamp: 'DB 11/8/2020 13:39:53'!
xxx: anAsset		
	^self  = anAsset !
!Asset methodsFor: 'tree' stamp: 'DB 11/8/2020 13:40:17'!
include: anAsset
	^self subclassResponsibility ! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:40:24'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:40:24'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:40:24'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:40:24'!
FAILURE!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:40:24'!
FAILURE!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:40:24'!
FAILURE!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:40:24'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:40:43' prior: 50876167 overrides: 50876163!
includes: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset include: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:40:46'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:40:46'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:43:34'!
anySatisfy: anAsset 

	^self includes: anAsset 
	
	

	! !
!Asset methodsFor: 'tree' stamp: 'DB 11/8/2020 13:43:34'!
anySatisfy: anAsset
	^self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/8/2020 13:43:34' overrides: 50876364!
anySatisfy: anAsset		
	^self  = anAsset ! !

!methodRemoval: Portfolio #include: stamp: 'DB 11/8/2020 13:43:34'!
include: anAsset 

	^self includes: anAsset 
	
	

	!

!methodRemoval: Asset #include: stamp: 'DB 11/8/2020 13:43:34'!
include: anAsset
	^self subclassResponsibility !

!methodRemoval: ReceptiveAccount #include: stamp: 'DB 11/8/2020 13:43:34'!
include: anAsset		
	^self  = anAsset !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:43:57'!
ERROR!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:43:57'!
ERROR!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:43:57'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:43:57'!
FAILURE!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:43:57'!
FAILURE!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:43:57'!
FAILURE!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:43:57'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:44:12' prior: 50876289 overrides: 50876163!
includes: anAsset 
	
	(self = anAsset) ifTrue: [^true].

	assets do: [ :aChildAsset | 
		(aChildAsset anySatisfy: anAsset) ifTrue: [^true]
	].

	^false.
	
	
	

	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:44:19'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:44:19'!
FAILURE!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:44:19'!
ERROR!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:44:55'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:44:55'!
FAILURE!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:44:55'!
ERROR!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:44:58'!
ERROR!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:45:21'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:45:46' prior: 50876175!
add: anAsset 
	
	((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset includes: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:45:54'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:45:57'!
PASSED!

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:46:04'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:46:04'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:51:43' prior: 50876589!
add: anAsset 
	
	"((anAsset isKindOf: Portfolio)) ifTrue: [
		(anAsset includes: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ]
	]."

	(anAsset includes: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:51:47'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:51:47'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:51:58' prior: 50876676!
add: anAsset 
	
	(anAsset includes: self) ifTrue:  [^self class signalDuplicatedAccountOrPortfolio ].
	
	((anAsset = self) or: (assets includes: anAsset)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:52:18' prior: 50876759!
add: anAsset 
	

	((anAsset = self) or: (assets includes: anAsset) or: (anAsset includes: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:52:20' prior: 50876775!
add: anAsset 
	
	((anAsset = self) or: (assets includes: anAsset) or: (anAsset includes: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].
	
	assets add: anAsset.
	anAsset addParent: self.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:52:25'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:52:25'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:53:17'!
addTo: anAsset 

	assets add: anAsset.
	anAsset addParent: self.! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:53:33' prior: 50876789!
add: anAsset 
	
	((anAsset = self) or: (assets includes: anAsset) or: (anAsset includes: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].

	self addTo: anAsset .! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:53:39'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:53:39'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:54:09'!
assertNoDuplicated: anAsset 
	
	((anAsset = self) or: (assets includes: anAsset) or: (anAsset includes: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:54:41' prior: 50876870!
add: anAsset 

	self assertNoDuplicated: anAsset.
	
	self addTo: anAsset.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:54:46'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:54:46'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:55:54'!
assertNoDuplicatedFromRoots: anAsset 
	
	anAsset roots do: [:aRootAsset | 
		(aRootAsset includes: self ) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ]
	].

	! !
!Portfolio methodsFor: 'operations' stamp: 'DB 11/8/2020 13:56:08' prior: 50876945!
assertNoDuplicated: anAsset 
	
	((anAsset = self) or: (assets includes: anAsset) or: (anAsset includes: self)) ifTrue: [^self class signalDuplicatedAccountOrPortfolio ].
	
	self assertNoDuplicatedFromRoots: anAsset.
	! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 13:56:24'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 13:56:24'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 13:56:24'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 13:56:24'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 13:56:24'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 13:56:25'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 13:56:25'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/8/2020 14:01:44' prior: 50871666 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		
		transactions addAll: (anAsset transactions)
	].
	^transactions.! !

!testRun: #PortfolioTest #test01PortfolioHaveZeroAsBalanceWhenCreated stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test02PortfolioHasTheSameBalanceAsTheReceptiveAccount stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test03PortfolioHasTheSameBalanceWithMoreThanOneReceptiveAccount stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioHasTheSameBalanceAsThePortfolioChild stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasTheSameBalanceWithMoreThanOneAsset stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test06HasRegisteredReturnsFalseWithAnEmptyPortfolio stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioHaveZeroTransactionsWhenIsCreated stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioHaveTheSameTransactionsThanYoursChild stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioHaveTheSameTransactionsThanYoursChilds stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test12DuplicatedAccountOrPortfolioError stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test13DuplicatedAccountOrPortfolioErrorWhenTryingToAddTheSameAccountTwice stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test14TwoPortfoliosCantContaintEachother stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test15CannotCreateOneWayCycle stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test16ParentAndChildCannotContainSameTheAccount stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

!testRun: #PortfolioTest #test17CannotCreateACycleWithMultipleRoots stamp: 'DB 11/8/2020 14:01:48'!
PASSED!

----SNAPSHOT----(8 November 2020 14:01:55) CuisUniversity-4384.image priorSource: 17393294!
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/8/2020 14:03:28' prior: 50877109 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | 
		transactions addAll: (anAsset transactions)
	].
	^transactions.! !

----QUIT----(8 November 2020 14:05:51) CuisUniversity-4384.image priorSource: 17456940!

----STARTUP---- (8 November 2020 21:22:48) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!Asset methodsFor: 'tree' stamp: 'DB 11/8/2020 21:25:13' prior: 50874473!
roots 
	| roots |	
	
	roots := OrderedCollection new.
	
	parents do: [:aParent | 
		(aParent isRoot) ifTrue: [ roots add: aParent ] ifFalse: [ roots addAllFirst: aParent roots ]
	].

	^roots.! !
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 21:34:45'!
allTransactionOf: anAccount NotIn: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self deny: (aPortfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 21:34:45' prior: 50875600!
test06HasRegisteredReturnsFalseWithAnEmptyPortfolio

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	self allTransactionOf: account1 NotIn: portfolio.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 21:34:45' prior: 50875639!
test08HasRegisteredReturnsFalseWhenPortfolioHasMoreThanOneTransaction

	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	
	self allTransactionOf: account2 NotIn: portfolio .! !

!methodRemoval: PortfolioTest #doesAccountDontExist:In: stamp: 'DB 11/8/2020 21:34:45'!
doesAccountDontExist: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self deny: (aPortfolio hasRegistered: aTransaction )
	].!
!PortfolioTest methodsFor: 'hasRegistered' stamp: 'DB 11/8/2020 21:35:12'!
allTransactionsOf: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 21:35:12' prior: 50875687!
test10PortfolioHaveTheSameTransactionsThanYoursChild
	
	| portfolio  account |
	
	portfolio := Portfolio new.

	account := ReceptiveAccount  new.
	
	Deposit register: 89 on: account.
	Deposit register: 78 on: account.
	Deposit register: 56 on: account.
	
	portfolio add: account.
	
	self allTransactionsOf: account In: portfolio .! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 21:35:12' prior: 50875668!
test11PortfolioHaveTheSameTransactionsThanYoursChilds
	
	| portfolio account1 account2 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	account2:= ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	Deposit register: 89 on: account2.
	Deposit register: 78 on: account2.
	Deposit register: 56 on: account2.
	
	portfolio add: account1.
	portfolio add: account2.
	
	self allTransactionsOf: account1 In: portfolio .
	self allTransactionsOf: account2 In: portfolio.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'DB 11/8/2020 21:35:12' prior: 50875615!
test07HasRegisteredReturnsTrueWhenPortfolioHasOneTransaction

	| portfolio account1 |
	
	portfolio := Portfolio new.
	
	account1 := ReceptiveAccount  new.
	Deposit register: 75 on: account1.
	
	portfolio add: account1.
	
	self allTransactionsOf: account1 In: portfolio .! !

!methodRemoval: PortfolioTest #doesAccountExist:In: stamp: 'DB 11/8/2020 21:35:12'!
doesAccountExist: anAccount In: aPortfolio

	anAccount transactions do: [ :aTransaction |
		self assert: (aPortfolio hasRegistered: aTransaction )
	].!

----SNAPSHOT----(8 November 2020 21:36:49) CuisUniversity-4384.image priorSource: 17457317!

----QUIT----(8 November 2020 21:36:51) CuisUniversity-4384.image priorSource: 17461118!

----STARTUP---- (9 November 2020 15:14:52) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


----QUIT----(9 November 2020 15:15:26) CuisUniversity-4384.image priorSource: 17461211!

----STARTUP---- (9 November 2020 17:13:21) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 17:57:06' prior: 50877184 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	assets do: [:anAsset | transactions addAll: (anAsset transactions)].
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 17:57:11' prior: 50877328 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	
	assets do: [:anAsset | transactions addAll: (anAsset transactions)].
	
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 17:57:27' prior: 50877337 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	
	assets do: [:anAsset | transactions addAll: anAsset transactions].
	
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 18:03:04' prior: 50877346 overrides: 50874785!
transactions

	| transactions |
	transactions := OrderedCollection new.
	
	"assets do: [:anAsset | transactions addAll: anAsset transactions]."
	assets do: [:anAsset |anAsset addTransactionsTo: transactions.]
	
	^transactions.! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 18:04:17'!
addTransactionsTo: aCollectionOfTransactionss

	aCollectionOfTransactionss addAll: self transactions ! !
!Portfolio methodsFor: 'transactions' stamp: 'DB 11/9/2020 18:04:26' prior: 50877365!
addTransactionsTo: aCollectionOfTransactionss

	aCollectionOfTransactionss addAll: self transactions ! !

!classRemoval: #ReceptiveAccount stamp: 'DB 11/9/2020 18:58:34'!
Asset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'DB 11/9/2020 18:58:34'!
Asset subclass: #Portfolio
	instanceVariableNames: 'assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Asset stamp: 'DB 11/9/2020 18:58:34'!
Object subclass: #Asset
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'DB 11/9/2020 18:58:35'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'DB 11/9/2020 18:58:35'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'DB 11/9/2020 18:58:35'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'DB 11/9/2020 18:58:35'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortfolioTest stamp: 'DB 11/9/2020 18:58:36'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of /Users/dbenitez/uba/2c2020-IS1/2020-2c/18-Portfolio1/Portfolio-Solucion.st----!

TestCase subclass: #TestTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TestTransfer category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 19:19:16'!
TestCase subclass: #TestTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 19:24:10'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TestTransfer methodsFor: 'nil' stamp: 'DB 11/9/2020 19:24:21'!
test01 

	| receiver sender transfer |
	transfer := Transfer new.
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:25:17' prior: 50878166!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 200.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:26:32' prior: 50878174!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer from: sender to: receiver amount: 200.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:28:33' prior: 50878183!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: sender on: 300.
	
	transfer := Transfer from: sender to: receiver amount: 200.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:29:05' prior: 50878194!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: 300 on: sender.
	
	transfer := Transfer from: sender to: receiver amount: 200.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:30:35' prior: 50878207!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Deposit register: 300 on: sender.
	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.! !

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 19:33:08'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:38:48' prior: 50878220!
test01 

	| receiver sender transfer |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	
	Transfer register: 200 from: sender to: receiver.
	
	transfer := Transfer new.
	transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:41:41' prior: 50878245!
test01 

	| receiver sender |
	
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:42:05'!
ERROR!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:42:05'!
ERROR!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 19:42:23'!
register: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeRegister: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 ! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 19:44:40' prior: 50878274!
register: amount from: aSender to: aReceiver

	Deposit register: amount on: aReceiver. 
	Withdraw register: amount on: aSender.
	
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:44:55'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:44:58' prior: 50878259!
test01 

	| receiver sender |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:45:02'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:48:04' prior: 50878296!
test01 

	| receiver sender |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:50:07' prior: 50878309!
test01 

	| receiver sender |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	
	Transfer register: 200 from: receiver to: sender.
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:50:17' prior: 50878320!
test01 

	| receiver sender |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	
	Transfer register: 200 from: receiver to: sender.
	self assert: sender balance = 0.
	self assert: receiver balance = 0.
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:50:21'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:50:38' prior: 50878333!
test01 

	| receiver sender |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.

	Transfer register: 200 from: sender to: receiver.
	
	self assert: sender balance = -200.
	self assert: receiver balance = 200.
	
	Transfer register: 200 from: receiver to: sender.
	self assert: sender balance = 0.
	self assert: receiver balance = 0.
	! !

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions transfers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 19:51:01'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions transfers'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 19:51:49'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:53:46'!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary
	
	self assert: report isEmpty ! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:54:17' prior: 50878390!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
	
	self assert: report isEmpty ! !

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:54:20'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:54:20'!
ERROR!
!Account methodsFor: 'reports' stamp: 'DB 11/9/2020 19:54:46'!
summary
	self shouldBeImplemented.! !
!Account methodsFor: 'reports' stamp: 'DB 11/9/2020 19:54:56' prior: 50878409!
summary
	self subclassResponsibility .! !

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:54:57'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 19:55:37' overrides: 50878413!
summary

	^OrderedCollection new.! !

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:55:44'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:55:55'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:55:55'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:57:59' prior: 50878398!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
	
	Deposit register: 200 on: account.
	
	self assert: (report at: 1) equals: 'Deposit for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:58:10'!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
	
	Deposit register: 200 on: account.
	
	self assert: (report at: 1) equals: 'Deposit for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:53:46' prior: 50878431!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary
	
	self assert: report isEmpty ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:58:39'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:58:39'!
ERROR!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 19:58:39'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:58:58'!
ERROR!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 19:59:18' prior: 50878450!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
	
	self assert: report isEmpty ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 19:59:23'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 19:59:23'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 19:59:23'!
ERROR!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 19:59:23'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:00:40' prior: 50878420 overrides: 50878413!
summary

	| sum |
	sum := OrderedCollection new.
	
	sum add: 'Deposit for 200'.
	
	^sum! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:00:52' prior: 50878484 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.
	
	summary add: 'Deposit for 200'.
	
	^summary! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:01:35' prior: 50878491 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.
	
	transactions ifEmpty: [^summary].
	
	summary add: 'Deposit for 200'.
	
	^summary! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:01:40'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:01:40'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:01:40'!
ERROR!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:01:40'!
ERROR!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:02:18' prior: 50878440!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Deposit register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Deposit for 200'.! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:02:21'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:02:21'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:02:21'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:02:59' prior: 50878515!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Deposit for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:03:18' prior: 50878531!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Extraction for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:03:30'!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Extraction for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:02:59' prior: 50878541!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Deposit for 200'.! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:03:43'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:03:43'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:03:43'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:03:43'!
FAILURE!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:03:43'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:05:55' prior: 50878498 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.
	
	transactions ifEmpty: [^summary].
	
	((transactions at: 1) isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for 200'.].
	((transactions at: 1) isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for 200'.].

	
	^summary! !

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:05:56'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:06:00'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:06:00'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:06:00'!
FAILURE!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:06:00'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:06:00'!
FAILURE!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:06:21' prior: 50878560!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Deposit register: 200 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Deposit for 200'.! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:06:27'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:06:27'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:06:27'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:06:27'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:08:07'!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Extraction for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:08:33' prior: 50878626!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Deposit for 200'.
	self assert: (report at: 2) equals: 'Extraction for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:09:29' prior: 50878637!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:09:54' prior: 50878649!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 400'.! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:09:57'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:09:57'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:09:57'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:09:57'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 20:09:57'!
FAILURE!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 20:09:57'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:12:01' prior: 50878582 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions ifEmpty: [^summary].
	
	((transactions at: 1) isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for 200'.].
	((transactions at: 1) isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for 200'.].

	transactions do: [:aTransaction |
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value.].
	]
	
	^summary! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:12:13' prior: 50878689 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value.].
	]
	
	^summary! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:12:19' prior: 50878709 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value.].
	].
	
	^summary! !

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 20:12:23'!
ERROR!

'hols' , 'chau'!

'hols' , 200!

'hols' , 200 asString !

'hols ' , 200 asString !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:13:59' prior: 50878723 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
	].
	
	^summary! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:14:04'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:14:04'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:14:04'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:14:04'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 20:14:04'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:15:48'!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.

	report := receiver summary.	
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 400'.
	
	report := sender summary.
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 400'.

	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:17:51' prior: 50878767!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.

	report := receiver summary.	
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	
	report := sender summary.
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Output by transfer 200'.

	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:18:20' prior: 50878786!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Transfer register: 200 from: sender  to: receiver.

	report := receiver summary.	
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	
	report := sender summary.
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Output by transfer 200'.

	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 20:18:38' prior: 50878801!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	
	report := sender summary.
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Output by transfer 200'.

	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 20:18:46'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 20:18:46'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 20:18:46'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 20:18:46'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 20:18:46'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 20:18:46'!
FAILURE!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 20:18:46'!
FAILURE!

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:26:01'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 20:27:20' prior: 50878742 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		" (aTransaction isKindOf: Transfer) "
	].
	
	^summary! !

AccountTransaction subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:27:34'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:28:00'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Transfer
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:34:54'!
Object subclass: #Transfer
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:59:19'!
ProtoObject subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferWithdraw category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 20:59:30'!
ProtoObject subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 20:58:58' prior: 50878286!
register: amount from: aSender to: aReceiver



	TransferDeposit register: amount on: aReceiver. 
	TransferWithdraw register: amount on: aSender.
	
	! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 20:59:36' prior: 50878933!
register: amount from: aSender to: aReceiver

	TransferDeposit register: amount on: aReceiver. 
	TransferWithdraw register: amount on: aSender.
	
	! !

AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTransaction category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 21:00:16'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 21:00:22'!
TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferWithdraw category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 21:00:25'!
TransferTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 21:03:08' prior: 50878866 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		
		
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [summary add: '', aTransaction value asString]
		" (aTransaction isKindOf: Transfer) "
	].
	
	^summary! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 21:03:39' prior: 50878989 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [summary add: 'Entry by transfer of ', aTransaction value asString]
		" (aTransaction isKindOf: Transfer) "
	].
	
	^summary! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 21:04:18' prior: 50879008 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.

	transactions do: [:aTransaction |
		
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [summary add: 'Entry by transfer of ', aTransaction value asString].
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [summary add: 'Output by transfer ', aTransaction value asString]
		
	].
	
	^summary! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:04:26'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:04:26'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:04:26'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:04:26'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:04:26'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:04:26'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:04:39'!
ERROR!
!TransferDeposit class methodsFor: 'nil' stamp: 'DB 11/9/2020 21:05:58'!
for: aValue

	^ self new initializeFor: aValue ! !
!TransferWithdraw class methodsFor: 'nil' stamp: 'DB 11/9/2020 21:06:03'!
for: aValue

	^ self new initializeFor: aValue ! !

AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTransaction category: 'Portfolio-Solucion' stamp: 'DB 11/9/2020 21:06:29'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferDeposit methodsFor: 'nil' stamp: 'DB 11/9/2020 21:06:37'!
initializeFor: aValue

	value := aValue ! !
!TransferWithdraw methodsFor: 'nil' stamp: 'DB 11/9/2020 21:06:44'!
initializeFor: aValue

	value := aValue ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:06:48'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:06:48'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:06:48'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:06:48'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:06:48'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:06:48'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:06:52'!
ERROR!
!TransferDeposit methodsFor: 'nil' stamp: 'DB 11/9/2020 21:07:17' prior: 50879086!
initializeFor: aValue

	value := aValue ! !
!TransferWithdraw methodsFor: 'nil' stamp: 'DB 11/9/2020 21:07:22' prior: 50879090!
initializeFor: aValue

	value := aValue ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:07:25'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:07:25'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:07:25'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:07:25'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:07:25'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:07:25'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:07:28'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:07:55'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:08:04'!
ERROR!
!TransferDeposit methodsFor: 'nil' stamp: 'DB 11/9/2020 21:08:55' overrides: 50878044!
value

	^ value! !
!TransferWithdraw methodsFor: 'nil' stamp: 'DB 11/9/2020 21:09:02' overrides: 50878044!
value

	^ value! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:09:06'!
ERROR!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:09:06'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:09:06'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:09:06'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:09:06'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:09:06'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:09:06'!
ERROR!
!TransferDeposit methodsFor: 'nil' stamp: 'DB 11/9/2020 21:09:32' overrides: 50878048!
affectBalance: aBalance

	^aBalance + value ! !
!TransferWithdraw methodsFor: 'nil' stamp: 'DB 11/9/2020 21:09:44' overrides: 50878048!
affectBalance: aBalance

	^aBalance - value ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:09:52'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:09:59'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:09:59'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:09:59'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:09:59'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:09:59'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:09:59'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:10:50' prior: 50878818!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	
	report := sender summary.
	self assert: report size = 1.
	self assert: (report at: 1) equals: 'Output by transfer 200'.

	! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 21:12:06' prior: 50879027 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.
	
	

	transactions do: [:aTransaction |
		
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [summary add: 'Entry by transfer of ', aTransaction value asString].
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [summary add: 'Output by transfer ', aTransaction value asString]
		
	].

	summary add: 'Balance = ' , self balance asString 
	
	^summary! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:12:14'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:12:14'!
ERROR!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:12:14'!
ERROR!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:12:14'!
ERROR!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:12:14'!
ERROR!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:12:14'!
ERROR!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:13:20' prior: 50878467!
test02 

	| account  report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
	
	self assert: 1 equals: report size. 
	self assert: 'Balance = 0' equals: (report at: 1).! !

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:13:23'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/9/2020 21:13:35' prior: 50879224 overrides: 50878413!
summary

	| summary |
	summary := OrderedCollection new.
	
	

	transactions do: [:aTransaction |
		
		(aTransaction isKindOf: Withdraw) ifTrue: [summary add: 'Extraction for ', aTransaction value asString.].
		(aTransaction isKindOf: Deposit ) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [summary add: 'Entry by transfer of ', aTransaction value asString].
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [summary add: 'Output by transfer ', aTransaction value asString]
		
	].

	summary add: 'Balance = ' , self balance asString.
	
	^summary! !

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:13:36'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:15:08' prior: 50878608!
test03 

	| account  report |
	
	account := ReceptiveAccount new.
	Deposit register: 200 on: account.
	
	report := account summary.

	self assert: 2 equals: (report size).
	self assert: (report at: 1) equals: 'Deposit for 200'.
	self assert: (report at: 2) equals: 'Balance = 200'.! !

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:15:09'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:15:30' prior: 50878550!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.
	
	self assert: 2 equals: (report size).
	self assert: (report at: 1) equals: 'Deposit for 200'.
	self assert: (report at: 1) equals: 'Extraction for 200'.! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:15:35'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:15:35'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:15:35'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:15:35'!
FAILURE!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:15:35'!
FAILURE!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:15:35'!
FAILURE!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:16:05' prior: 50879313!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.
	
	self assert: 3 equals: (report size).
	
	self assert: (report at: 1) equals: 'Deposit for 200'.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 1) equals: 'Deposit for 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:16:24' prior: 50879340!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.
	
	self assert: 3 equals: (report size).
	
	self assert: (report at: 1) equals: 'Deposit for 200'.
	self assert: (report at: 2) equals: 'Extraction for 200'.
	self assert: (report at: 3) equals: 'Balance = 0'.! !

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:16:27'!
FAILURE!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:16:27'!
FAILURE!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:16:51' prior: 50879354!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.
	
	self assert: 3 equals: (report size).
	
	self assert: (report at: 2) equals: 'Extraction for 200'.
	self assert: (report at: 3) equals: 'Balance = -200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:16:58' prior: 50879373!
test04

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	
	report := account summary.
	
	self assert: 2 equals: (report size).
	
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Balance = -200'.! !

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:17:04'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:17:28' prior: 50878661!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: report size = 3.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 400'.
	self assert: (report at: 2) equals: 'Balance = 200'.! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:17:30' prior: 50879401!
test05

	| account  report |
	
	account := ReceptiveAccount new.
	Withdraw register: 200 on: account.
	Deposit register: 400 on: account.
	
	report := account summary.

	self assert: report size = 3.
	self assert: (report at: 1) equals: 'Extraction for 200'.
	self assert: (report at: 2) equals: 'Deposit for 400'.
	self assert: (report at: 3) equals: 'Balance = 200'.! !

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:17:33'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:17:38'!
FAILURE!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:17:38'!
FAILURE!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:17:51' prior: 50879206!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	
	report := sender summary.
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Output by transfer 200'.

	! !

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:17:54'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:18:27' prior: 50879439!
test06SalidaTransferencia

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	self assert: (report at: 2) equals: 'Balance = 200'.
	
	report := sender summary.
	self assert: report size = 2.
	self assert: (report at: 1) equals: 'Output by transfer 200'.
	self assert: (report at: 2) equals: 'Balance = -200'.
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:18:31'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:18:31'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:18:31'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:18:31'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:18:31'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:18:31'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:21:21'!
test07

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Entry by transfer of 200'.
	self assert: (report at: 2) equals: 'Balance = 200'.

	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:23:15' prior: 50879493!
test07

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer 20'.
	self assert: (report at: 3) equals: 'Entry by transfer of 30'.
	self assert: (report at: 3) equals: 'Balance = 60'.

	! !

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:23:18'!
FAILURE!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:23:18'!
FAILURE!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:24:23' prior: 50879511!
test07

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.

	! !

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:24:24'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:24:35'!
PASSED!
!AccountTransaction methodsFor: 'balance' stamp: 'DB 11/9/2020 21:27:35'!
affectTransfer: aNeto

	self subclassResponsibility ! !
!Deposit methodsFor: 'balance' stamp: 'DB 11/9/2020 21:27:57' overrides: 50879566!
affectTransfer: aNeto

	^aNeto ! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:28:22' overrides: 50879566!
affectTransfer: aNeto

	^aNeto + value ! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:28:36' overrides: 50879566!
affectTransfer: aNeto

	^aNeto - value ! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/9/2020 21:29:19'!
transferNet

	^transactions 
		inject: 0
		into: [ :transferNet :transaction | transaction affectTransfer: transferNet ]! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:30:10'!
test08

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (receiver transferNet )

	! !

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:30:14'!
ERROR!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:30:14'!
ERROR!
!Withdraw methodsFor: 'balance' stamp: 'DB 11/9/2020 21:30:54' overrides: 50879566!
affectTransfer: aNeto
	^aNeto! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:31:00'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:32:49'!
test02Transfer

	| account  |
	
	account := ReceptiveAccount new.


	Transfer register: 200 from: account to: account.
	
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:32:54' prior: 50879644!
test02Transfer

	| account  |
	
	account := ReceptiveAccount new.

	Transfer register: 200 from: account to: account.
	
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:36:43' prior: 50879651!
test02Transfer

	| account  |
	
	account := ReceptiveAccount new.

	
	
	self should: [Transfer register: 200 from: account to: account.] 
	 	raise: Error  
		description: Transfer senderAndReceiverCantBeTheSameAccountErrorDescription 
	
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:36:50' prior: 50879658!
test02Transfer

	| account  |
	
	account := ReceptiveAccount new.

	self should: [Transfer register: 200 from: account to: account.] 
	 	raise: Error  
		description: Transfer senderAndReceiverCantBeTheSameAccountErrorDescription 
	
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:36:53'!
ERROR!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:36:53'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:36:53'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:37:09'!
senderAndReceiverCantBeTheSameAccountErrorDescription
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:37:38' prior: 50879703!
senderAndReceiverCantBeTheSameAccountErrorDescription
	^'sender and receiver can be the same account'! !

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:37:40'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:38:19'!
signalSenderAndReceiverCantBeTheSameAccount
	self error: self senderAndReceiverCantBeTheSameAccountErrorDescription ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:38:25'!
FAILURE!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:38:25'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:38:25'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 21:39:04' prior: 50878941!
register: amount from: aSender to: aReceiver


	aSender= aReceiver ifTrue: [^self signalSenderAndReceiverCantBeTheSameAccount ].

	TransferDeposit register: amount on: aReceiver. 
	TransferWithdraw register: amount on: aSender.
	
	! !

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:39:07'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:39:10'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:40:17'!
test03zero

	| account  |
	
	account := ReceptiveAccount new.

	self should: [Transfer register: 0 from: account to: account.] 
	 	raise: Error  
		description: Transfer cantTransferNegativeOrZeroAmountErrorDescription 
	
	! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:40:25'!
ERROR!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:40:25'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:40:25'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:40:37'!
cantTransferNegativeOrZeroAmountErrorDescription
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:40:59' prior: 50879819!
cantTransferNegativeOrZeroAmountErrorDescription
	^'cant transfer negative or zeor amount'! !

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:41:01'!
PASSED!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:41:32'!
signalCantTransferNegativeOrZeroAmount
	^self error: self cantTransferNegativeOrZeroAmountErrorDescription ! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:41:36'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:41:44'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:42:02'!
PASSED!
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:43:15' prior: 50879783!
test03zero

	| account1  account2 |
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.

	self should: [Transfer register: 0 from: account2 to: account2.] 
	 	raise: Error  
		description: Transfer cantTransferNegativeOrZeroAmountErrorDescription 
	
	! !
!TestTransfer methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:43:19' prior: 50879890!
test03zero

	| account1  account2 |
	
	account1 := ReceptiveAccount new.
	account2 := ReceptiveAccount new.

	self should: [Transfer register: 0 from: account1 to: account2.] 
	 	raise: Error  
		description: Transfer cantTransferNegativeOrZeroAmountErrorDescription 
	
	! !

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:43:24'!
FAILURE!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:43:24'!
FAILURE!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/9/2020 21:43:50' prior: 50879825!
cantTransferNegativeOrZeroAmountErrorDescription
	^'cant transfer negative or zero amount'! !

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:43:55'!
FAILURE!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:43:55'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:43:55'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 21:44:46' prior: 50879749!
register: amount from: aSender to: aReceiver


	aSender= aReceiver ifTrue: [^self signalSenderAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].

	TransferDeposit register: amount on: aReceiver. 
	TransferWithdraw register: amount on: aSender.
	
	! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/9/2020 21:44:50' prior: 50879952!
register: amount from: aSender to: aReceiver

	aSender= aReceiver ifTrue: [^self signalSenderAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].

	TransferDeposit register: amount on: aReceiver. 
	TransferWithdraw register: amount on: aSender.
	
	! !

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:44:53'!
PASSED!

!testRun: #TestTransfer #test01 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test02 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test02Transfer stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test03 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test03zero stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test04 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test05 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test06SalidaTransferencia stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test07 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

!testRun: #TestTransfer #test08 stamp: 'DB 11/9/2020 21:44:59'!
PASSED!

----SNAPSHOT----(9 November 2020 22:45:33) CuisUniversity-4384.image priorSource: 17461430!

----QUIT----(9 November 2020 22:45:35) CuisUniversity-4384.image priorSource: 17547287!

----STARTUP---- (10 November 2020 19:39:45) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


!classRemoval: #Transfer stamp: 'DB 11/10/2020 19:42:49'!
Object subclass: #Transfer
	instanceVariableNames: 'sender receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Withdraw stamp: 'DB 11/10/2020 19:42:49'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferWithdraw stamp: 'DB 11/10/2020 19:42:49'!
TransferTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferDeposit stamp: 'DB 11/10/2020 19:42:50'!
TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferTransaction stamp: 'DB 11/10/2020 19:42:50'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Deposit stamp: 'DB 11/10/2020 19:42:50'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountTransaction stamp: 'DB 11/10/2020 19:42:50'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccount stamp: 'DB 11/10/2020 19:42:51'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Portfolio stamp: 'DB 11/10/2020 19:42:51'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Account stamp: 'DB 11/10/2020 19:42:51'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TestTransfer stamp: 'DB 11/10/2020 19:42:51'!
TestCase subclass: #TestTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccountTest stamp: 'DB 11/10/2020 19:42:52'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PortfolioTest stamp: 'DB 11/10/2020 19:42:52'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

----End fileIn of /Users/dbenitez/uba/2c2020-IS1/2020-2c/18-Portfolio1/Portfolio-Solucion.st----!

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTest category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 19:44:38'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 19:46:46'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTest methodsFor: 'nil' stamp: 'DB 11/10/2020 19:46:40'!
test01

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.
	
	self assert: -200 equals: sender balance.
	self assert: 200 equals: receiver balance.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 19:46:49' prior: 50880836!
test01

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.
	
	self assert: -200 equals: sender balance.
	self assert: 200 equals: receiver balance.
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 19:48:28'!
test01TransferAffectBalance

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.
	
	self assert: -200 equals: sender balance.
	self assert: 200 equals: receiver balance.
	! !

!methodRemoval: TransferTest #test01 stamp: 'DB 11/10/2020 19:48:28'!
test01

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.
	
	self assert: -200 equals: sender balance.
	self assert: 200 equals: receiver balance.
	!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:48:38'!
ERROR!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:48:38'!
ERROR!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 19:48:50'!
register: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeRegister: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 ! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 19:51:13' prior: 50880885!
register: amount from: aSender to: aReceiver
 
	Deposit register: amount on: aReceiver.
	Withdraw register: amount on: aSender.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:51:14'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:51:17'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 19:51:44'!
test02SenderAndReceiverCantBeTheSameAccount

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 200 from: sender to: receiver.
	
	self assert: -200 equals: sender balance.
	self assert: 200 equals: receiver balance.
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 19:53:19' prior: 50880910!
test02SenderAndReceiverCantBeTheSameAccount

	| account |
	
	account := ReceptiveAccount new.
	
	self should: [Transfer register: 200 from: account to: account]
		raise: Error 
		description: Transfer senderAndReceiverCantBeTheSameAccountErrorDescription.! !

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:53:24'!
ERROR!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:53:24'!
ERROR!
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 19:53:41'!
senderAndReceiverCantBeTheSameAccountErrorDescription
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 19:54:05' prior: 50880940!
senderAndReceiverCantBeTheSameAccountErrorDescription
	^'Sender and receiver cant be the same account'! !

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:54:07'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 19:56:34' prior: 50880897!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalSenderAndReceiverCantBeTheSameAccount].
 
	Deposit register: amount on: aReceiver.
	Withdraw register: amount on: aSender.! !

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:56:37'!
PASSED!
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 19:57:01'!
signalAndReceiverCantBeTheSameAccount
	^self error: self senderAndReceiverCantBeTheSameAccountErrorDescription 
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:57:07'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:57:07'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 19:58:39'!
test03TransferAmountCantBeZeroOrNegative

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	self should: [Transfer register: 0 from: sender to: receiver]
		raise: Error 
		description: Transfer signalCantTransferNegativeOrZeroAmount.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 19:58:49'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 19:58:49'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 19:58:49'!
ERROR!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 19:58:49'!
ERROR!
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 19:58:57'!
signalCantTransferNegativeOrZeroAmount
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 19:59:33' prior: 50881007!
signalCantTransferNegativeOrZeroAmount
	^'Cant transfer zero or negative amount'! !

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 19:59:34'!
FAILURE!
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 20:00:03'!
CantTransferNegativeOrZeroAmountErrorDescription
	^'Cant transfer zero or negative amount'! !
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 20:00:29' prior: 50881013!
signalCantTransferNegativeOrZeroAmount
	^self error: self CantTransferNegativeOrZeroAmountErrorDescription ! !
!Transfer class methodsFor: 'error handling' stamp: 'DB 11/10/2020 20:00:40'!
cantTransferNegativeOrZeroAmountErrorDescription
	^'Cant transfer zero or negative amount'! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:00:40' prior: 50881028!
signalCantTransferNegativeOrZeroAmount
	^self error: self cantTransferNegativeOrZeroAmountErrorDescription ! !

!methodRemoval: Transfer class #CantTransferNegativeOrZeroAmountErrorDescription stamp: 'DB 11/10/2020 20:00:40'!
CantTransferNegativeOrZeroAmountErrorDescription
	^'Cant transfer zero or negative amount'!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:00:47'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:00:47'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:00:47'!
ERROR!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:00:47'!
ERROR!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:00:55'!
ERROR!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:01:01'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:02:02' prior: 50880982!
test03TransferAmountCantBeZeroOrNegative

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	self should: [Transfer register: 0 from: sender to: receiver]
		raise: Error 
		description: Transfer cantTransferNegativeOrZeroAmountErrorDescription .! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:02:45' prior: 50880956!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount < 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
 
	Deposit register: amount on: aReceiver.
	Withdraw register: amount on: aSender.! !

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:02:46'!
FAILURE!

amount < 0!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:03:45' prior: 50881087!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
 
	Deposit register: amount on: aReceiver.
	Withdraw register: amount on: aSender.! !

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:03:48'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:03:51'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:03:51'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:03:51'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:07:14'!
test04

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: (sender hasRegistered: transfer withdrawTransaction).
	self assert: (receiver hasRegistered: transfer depositTransaction).! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:10:46'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:10:46'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:10:46'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:10:46'!
ERROR!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:10:46'!
ERROR!
!Transfer class methodsFor: 'accessing' stamp: 'DB 11/10/2020 20:10:56'!
withdrawTransaction
	self shouldBeImplemented.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:13:46'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:13:46'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:13:46'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:13:46'!
ERROR!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:13:46'!
ERROR!

!classDefinition: 'Transfer class' category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:14:57'!
Transfer class
	instanceVariableNames: 'withdrawTransaction'!
!Transfer class methodsFor: 'accessing' stamp: 'DB 11/10/2020 20:14:55' prior: 50881155!
withdrawTransaction
	^withdrawTransaction! !

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:14:59'!
FAILURE!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:15:18'!
FAILURE!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:15:18'!
FAILURE!
!Transfer methodsFor: 'nil' stamp: 'DB 11/10/2020 20:17:27'!
initializeFrom: aSenderAccoutn to: aReceiverAccount


	! !

Transfer class
	instanceVariableNames: 'depositTransaction withdrawTransaction'!

!classDefinition: 'Transfer class' category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:17:40'!
Transfer class
	instanceVariableNames: 'depositTransaction withdrawTransaction'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:18:04' prior: 50881190!
initializeFrom: aSenderAccount to: aReceiverAccount

	



	! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:18:25'!
Object subclass: #Transfer
	instanceVariableNames: 'withdrawTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferWithdraw category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:20:28'!
Object subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:20:32'!
Object subclass: #Transfer
	instanceVariableNames: 'withdrawTransaction depositTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:20:36'!
Object subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:20:19' prior: 50881203!
initializeFrom: aSenderAccount to: aReceiverAccount

	withdrawTransaction := TransferWithdraw register: self on: aSenderAccount .
	depositTransaction := TransferDeposit register: self on: aReceiverAccount.
	
	! !

AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTransaction category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:22:07'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:22:14'!
TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferWithdraw category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:22:19'!
TransferTransaction subclass: #TransferWithdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'transaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTransaction category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:23:36'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'transaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTransaction class methodsFor: 'nil' stamp: 'DB 11/10/2020 20:26:25' overrides: 50880732!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!TransferDeposit class methodsFor: 'nil' stamp: 'DB 11/10/2020 20:26:53'!
for: aTransfer

	^ self new initializeFor: aTransfer ! !
!TransferWithdraw class methodsFor: 'nil' stamp: 'DB 11/10/2020 20:27:15'!
for: aTransfer

	^ self new initializeFor: aTransfer ! !

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:27:50'!
TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferDeposit methodsFor: 'nil' stamp: 'DB 11/10/2020 20:27:48'!
initializeFor: aTransfer 
	transfer := aTransfer ! !

TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferDeposit category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:28:02'!
TransferTransaction subclass: #TransferDeposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTransaction category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:28:07'!
AccountTransaction subclass: #TransferTransaction
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferWithdraw methodsFor: 'nil' stamp: 'DB 11/10/2020 20:28:21'!
initializeFor: aTransfer 
	transfer := aTransfer ! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:28:54' overrides: 50880718!
affectBalance: aBalance

	^aBalance - transfer value! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:29:14' overrides: 50880718!
affectBalance: aBalance
	^aBalance + transfer value! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'DB 11/10/2020 20:29:57'!
Object subclass: #Transfer
	instanceVariableNames: 'withdrawTransaction depositTransaction amount'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:30:03'!
initializeWith: anAmount From: aSenderAccount to: aReceiverAccount

	amount := anAmount.
	withdrawTransaction := TransferWithdraw register: self on: aSenderAccount .
	depositTransaction := TransferDeposit register: self on: aReceiverAccount.
	
	! !

!methodRemoval: Transfer #initializeFrom:to: stamp: 'DB 11/10/2020 20:30:11'!
initializeFrom: aSenderAccount to: aReceiverAccount

	withdrawTransaction := TransferWithdraw register: self on: aSenderAccount .
	depositTransaction := TransferDeposit register: self on: aReceiverAccount.
	
	!
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:30:22' prior: 50881103!
register: amount from: aSender to: aReceiver

	

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
 
	Deposit register: amount on: aReceiver.
	Withdraw register: amount on: aSender.! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:31:02' prior: 50881400!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
	! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:31:21' prior: 50881412!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
	
! !
!Transfer class methodsFor: 'instance creation' stamp: 'DB 11/10/2020 20:32:36' prior: 50881422!
register: amount from: aSender to: aReceiver

	aSender = aReceiver ifTrue: [^self signalAndReceiverCantBeTheSameAccount ].
	
	amount <= 0 ifTrue: [^self signalCantTransferNegativeOrZeroAmount ].
	
	^self new initializeWith: amount From: aSender to: aReceiver.
	
! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:34:06'!
ERROR!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:34:06'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:34:06'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:34:06'!
ERROR!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:34:10'!
ERROR!
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:34:53' prior: 50881362 overrides: 50880718!
affectBalance: aBalance

	^aBalance - transfer amount! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:35:01' prior: 50881367 overrides: 50880718!
affectBalance: aBalance
	^aBalance + transfer amount! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:35:21'!
amount
	^amount
	
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:35:27'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:35:27'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:35:27'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:35:27'!
ERROR!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:35:27'!
ERROR!

!methodRemoval: Transfer class #withdrawTransaction stamp: 'DB 11/10/2020 20:35:45'!
withdrawTransaction
	^withdrawTransaction!
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:36:05'!
withdrawTransaction

	^withdrawTransaction 
	
	
	! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:36:16'!
depositTransaction

	^depositTransaction 
	
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:36:24'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:36:24'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:36:24'!
PASSED!

!testRun: #TransferTest #test04 stamp: 'DB 11/10/2020 20:36:24'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:38:08'!
test04TransferTransactionesWereRegisteredInTheAccounts

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: (sender hasRegistered: transfer withdrawTransaction).
	self assert: (receiver hasRegistered: transfer depositTransaction).! !

!methodRemoval: TransferTest #test04 stamp: 'DB 11/10/2020 20:38:08'!
test04

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: (sender hasRegistered: transfer withdrawTransaction).
	self assert: (receiver hasRegistered: transfer depositTransaction).!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:44:12'!
test05

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	
	self assert: (sender hasRegistered: transfer withdrawTransaction).
	self assert: (receiver hasRegistered: transfer depositTransaction).! !

----SNAPSHOT----(10 November 2020 20:46:52) CuisUniversity-4384.image priorSource: 17547380!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:49:29' prior: 50881541!
test05

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	
	self assert: 1 equals: sender transactions.
	self assert: 1 equals: receiver transactions.
	
	self assert: transfer equals: (sender transactions at: 1) transfer.
	self assert: transfer equals: (receiver transactions at: 1) transfer.
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:49:35'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:49:35'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:49:35'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:49:35'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:49:35'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:49:35'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:49:53'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:50:02' prior: 50881557!
test05

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: 1 equals: sender transactions.
	self assert: 1 equals: receiver transactions.
	
	self assert: transfer equals: (sender transactions at: 1) transfer.
	self assert: transfer equals: (receiver transactions at: 1) transfer.
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:50:06'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:50:06'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:50:06'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:50:06'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:50:06'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:50:06'!
FAILURE!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:50:18'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:50:18'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:50:18'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:50:18'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:50:18'!
FAILURE!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:50:18'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:51:32' prior: 50881594!
test05

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: 1 equals: sender transactions size.
	self assert: 1 equals: receiver transactions size.
 	
	self assert: transfer equals: (sender transactions at: 1) transfer.
	self assert: transfer equals: (receiver transactions at: 1) transfer.
	
	! !

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:51:34'!
ERROR!
!TransferTransaction methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:51:56'!
transfer
	self shouldBeImplemented.
	^transfer! !
!TransferTransaction methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:52:02' prior: 50881666!
transfer
	^transfer! !

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:52:04'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:52:08'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:52:08'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:52:08'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:52:08'!
PASSED!

!testRun: #TransferTest #test05 stamp: 'DB 11/10/2020 20:52:08'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:53:00'!
test05SenderAndReceiverHaveTheSameTransfer

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: 1 equals: sender transactions size.
	self assert: 1 equals: receiver transactions size.
 	
	self assert: transfer equals: (sender transactions at: 1) transfer.
	self assert: transfer equals: (receiver transactions at: 1) transfer.
	
	! !

!methodRemoval: TransferTest #test05 stamp: 'DB 11/10/2020 20:53:00'!
test05

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	transfer := Transfer register: 200 from: sender to: receiver.
	
	self assert: 1 equals: sender transactions size.
	self assert: 1 equals: receiver transactions size.
 	
	self assert: transfer equals: (sender transactions at: 1) transfer.
	self assert: transfer equals: (receiver transactions at: 1) transfer.
	
	!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:55:48'!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:55:58'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:55:58'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:55:58'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:55:58'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 20:55:58'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 20:55:58'!
ERROR!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 20:55:58'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:56:07'!
summary
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:56:49' prior: 50881761!
summary
	| summary |
	summary := OrderedCollection new.
	
	summary add: 'Balance = 0'.
	^summary.! !

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 20:56:53'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:56:56'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:56:56'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:56:56'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:56:56'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 20:56:56'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 20:56:56'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:57:46'!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	
	report := account summary.
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:58:08' prior: 50881797!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := account summary.
 	
	self assert: 2 equals: report size.
	
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 20:58:49' prior: 50881808!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := account summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 0' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 20:58:52'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 20:58:52'!
FAILURE!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 20:58:52'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:00:01' prior: 50881766!
summary
	| summary |
	summary := OrderedCollection new.
	
	summary add: 'Deposit for 100'.
	
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:00:02'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:00:13' prior: 50881820!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := account summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:00:18'!
FAILURE!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:00:18'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:00:18'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:01:12' prior: 50881862!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions ifNotEmpty: [summary add: 'Deposit for 100'.]
	
	
	summary add: 'Balance = ' , self balance asString .
	^summary.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:01:15' prior: 50881916!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions ifNotEmpty: [summary add: 'Deposit for 100'.].
	
	
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:01:20'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:01:20'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:04:17'!
test08SummaryReportForWithdrawReturnsBalanceAndWithdraw

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := account summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:04:20'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:04:20'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:04:20'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:04:20'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:04:21'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:04:21'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:04:21'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:04:21'!
FAILURE!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:04:21'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:06:45' prior: 50881926!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction |
		(aTransaction isKindOf: Deposit) ifTrue: ['Deposit for ' , aTransaction value.].
		(aTransaction isKindOf: Withdraw ) ifTrue: ['Extraction for ', aTransaction value.]
		
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:06:53'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:06:53'!
ERROR!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:06:53'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:07:04'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:08:20'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:08:28'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:08:32'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:09:06' prior: 50882007!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction |
		(aTransaction isKindOf: Deposit) ifTrue: ['Deposit for ' , aTransaction value asString.].
		(aTransaction isKindOf: Withdraw ) ifTrue: ['Extraction for ', aTransaction value asString.]
		
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:09:14' prior: 50882065!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction |
		(aTransaction isKindOf: Deposit) ifTrue: ['Deposit for ' , aTransaction value asString].
		(aTransaction isKindOf: Withdraw ) ifTrue: ['Extraction for ', aTransaction value asString].
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:09:18'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:09:18'!
FAILURE!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:09:18'!
FAILURE!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:09:21'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:10:10' prior: 50882080!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction |
		(aTransaction isKindOf: Deposit) ifTrue: [summary add: 'Deposit for ' , aTransaction value asString].
		(aTransaction isKindOf: Withdraw ) ifTrue: [summary add: 'Extraction for ', aTransaction value asString].
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:10:15'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:10:20'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:11:13'!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := account summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:12:39' prior: 50882149!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := sender summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2).
	
	report := receiver summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:14:08' prior: 50882163!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := sender summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Output bytransfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := receiver summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 30' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:14:14'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:14:14'!
FAILURE!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:14:14'!
FAILURE!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:16:53' prior: 50882127!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction | | aMessage |
		(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		
		summary add: aMessage, aTransaction value asString.
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:16:57' prior: 50882244!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction | | aMessage |
		(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString.
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:16:58'!
ERROR!
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:17:29' overrides: 50880714!
value
	^transfer amount! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:17:46' overrides: 50880714!
value
	^transfer amount! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:17:49'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:17:49'!
FAILURE!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:17:49'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:18:02' prior: 50882185!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := sender summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := receiver summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 30' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:18:04'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:18:17' prior: 50882338!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := sender summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := receiver summary.
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:18:20'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:18:20'!
PASSED!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:18:35' prior: 50882266!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction | | aMessage |
		(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString.
	].

	summary add: 'Balance = ' , self balance asString .
	^summary.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:20:12'!
transferNet

	| net |
	
	
	
	transactions do: [ :aTransaction | | aMessage |
	
	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
	
	].

	^net.! !

!methodRemoval: ReceptiveAccount #transferNet stamp: 'DB 11/10/2020 21:20:27'!
transferNet

	| net |
	
	
	
	transactions do: [ :aTransaction | | aMessage |
	
	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
	
	].

	^net.!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:21:06'!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for of 50'.
	self assert: (report at: 3) equals: 'Output by transfer 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (receiver transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:21:10'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:21:10'!
FAILURE!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:21:10'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:21:29' prior: 50882463!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (receiver transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:21:33'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:21:33'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:21:33'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:21:41'!
transferNet
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:25:48' prior: 50882590!
transferNet
	| net |
	net := 0.
	
	transactions do: [ :aTransaction | 
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [net := net + aTransaction value].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [net := net - aTransaction value].		
	].
	^net.! !

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:25:52'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:27:16' prior: 50882527!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 30 from: receiver to: sender.
	Transfer register: 20 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (receiver transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:27:20'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:27:20'!
FAILURE!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:27:20'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/10/2020 21:27:34' prior: 50882609!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.

	report := receiver summary.	
	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (sender transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/10/2020 21:27:36'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/10/2020 21:27:36'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/10/2020 21:27:36'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/10/2020 21:27:36'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/10/2020 21:27:36'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/10/2020 21:27:37'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/10/2020 21:27:37'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/10/2020 21:27:37'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/10/2020 21:27:37'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/10/2020 21:27:37'!
PASSED!

----SNAPSHOT----(10 November 2020 21:27:41) CuisUniversity-4384.image priorSource: 17596892!

----QUIT----(10 November 2020 21:27:43) CuisUniversity-4384.image priorSource: 17634637!

----STARTUP---- (12 November 2020 17:39:19) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:14:33'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #SummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #SummaryReport category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:14:47'!
Report subclass: #SummaryReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Report methodsFor: 'nil' stamp: 'DB 11/12/2020 21:16:21'!
xxxDeposit: aDeposit
	self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:16:40'!
xxxTransferDeposit: aTransferDeposit
	self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:17:33'!
xxxTransferWithdraw: aTransferWithdraw
	self subclassResponsibility ! !
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:17:39'!
xxxWithdraw: aTransferWithdraw
	self subclassResponsibility ! !
!SummaryReport methodsFor: 'nil' stamp: 'DB 11/12/2020 21:18:02'!
summary

	^OrderedCollection new.! !

Object subclass: #Report
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:19:26'!
Object subclass: #Report
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #SummaryReport category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:22:39'!
Report subclass: #SummaryReport
	instanceVariableNames: 'summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:22:37' prior: 50882785!
summary

	
	summary := OrderedCollection new.
	transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	^summary.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:22:44' prior: 50882809!
summary

	summary := OrderedCollection new.
	transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	^summary.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:23:35' overrides: 50882765!
xxxDeposit: aDeposit
	summary! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:25:23' prior: 50882825 overrides: 50882765!
xxxDeposit: aDeposit
	summary add: 'Deposit for ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:25:38' overrides: 50882780!
xxxWithdraw: aDeposit
	summary add: 'Extraction for ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:26:00' overrides: 50882775!
xxxTransferWithdraw: aDeposit
	summary add: 'Output by transfer of ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:26:15' overrides: 50882770!
xxxTransferDeposit: aDeposit
	summary add: 'Entry by transfer of ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:26:19' prior: 50882887 overrides: 50882770!
xxxTransferDeposit: aDeposit
	summary add: 'Entry by transfer of ', aDeposit value asString .! !
!AccountTransaction methodsFor: 'balance' stamp: 'DB 11/12/2020 21:26:42'!
xxx: aReport

	self subclassResponsibility ! !
!Deposit methodsFor: 'balance' stamp: 'DB 11/12/2020 21:27:42' overrides: 50882913!
xxx: aReport
	aReport xxxDeposit: self! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:28:14' overrides: 50882913!
xxx: aReport
	aReport xxxTransferDeposit: self! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:28:38' overrides: 50882913!
xxx: aReport
	aReport xxxTransferWithdraw: self! !
!Withdraw methodsFor: 'initialization' stamp: 'DB 11/12/2020 21:28:53' overrides: 50882913!
xxx: aReport
	aReport xxxWithdraw: self! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:29:19' prior: 50882817!
summary

	transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	^summary.! !
!SummaryReport methodsFor: 'nil' stamp: 'DB 11/12/2020 21:29:31' overrides: 16896425!
initialize

	summary := OrderedCollection new.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:31:27'!
initializeWith: aTransactions

	summary := OrderedCollection new.
	! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:31:36' prior: 50882949!
initializeWith: aTransactions

	summary := OrderedCollection new.
	transactions := aTransactions 
	! !
!SummaryReport class methodsFor: 'nil' stamp: 'DB 11/12/2020 21:33:29'!
with: transactions

	| report |
	report := self new initializeWith: transactions
	^report.! !
!SummaryReport class methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:33:38' prior: 50882961!
with: transactions

	| report |
	report := self new initializeWith: transactions.
	^report.! !
!SummaryReport class methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:33:59' prior: 50882968!
with: transactions

	^self new initializeWith: transactions.! !

!methodRemoval: SummaryReport #initialize stamp: 'DB 11/12/2020 21:34:10'!
initialize

	summary := OrderedCollection new.!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:35:10' prior: 50881726!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	
	report := (SummaryReport with: account transactions) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:35:15' prior: 50882984!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account transactions) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:35:38' prior: 50882938!
summary

	transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	^summary.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:35:55' prior: 50883008!
summary

	transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	summary add: 'Balance = ' , self balance asString .
	^summary.! !

Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:36:26'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:36:43' prior: 50882955!
initializeWith: anAccount

	summary := OrderedCollection new.
	account := anAccount 
	! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:37:00' prior: 50883014!
summary

	account transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	summary add: 'Balance = ' , account balance asString .
	^summary.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:37:12'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:37:12'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:37:12'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:37:23' prior: 50882996!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:37:25'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:37:29'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:37:50' prior: 50881874!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:37:54' prior: 50881960!
test08SummaryReportForWithdrawReturnsBalanceAndWithdraw

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:38:16' prior: 50882364!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (SummaryReport with: sender) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := (SummaryReport with: receiver) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:38:20'!
PASSED!

!methodRemoval: ReceptiveAccount #summary stamp: 'DB 11/12/2020 21:39:20'!
summary
	| summary |
	summary := OrderedCollection new.
	
	transactions do: [ :aTransaction | | aMessage |
		(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString.
	].

	summary add: 'Balance = ' , self balance asString .
	^summary.!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:39:27'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:39:27'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:39:27'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:40:04' prior: 50882673!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (sender transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:40:09'!
PASSED!

Report subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:40:55'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'nil' stamp: 'DB 11/12/2020 21:42:07'!
transferNet
	
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:42:32' prior: 50883330!
transferNet
	
	account do: [
		
	]! !

Report subclass: #TransferNet
	instanceVariableNames: 'net'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'DB 11/12/2020 21:42:45'!
Report subclass: #TransferNet
	instanceVariableNames: 'net'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:43:02' prior: 50883334!
transferNet
	
	account transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	
	^net.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:43:08' prior: 50883350!
transferNet
	
	account transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].
	^net.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:43:29' overrides: 50882765!
xxxDeposit: aDeposit
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:43:57' overrides: 50882770!
xxxTransferDeposit: aDeposit
	net := net + aDeposit value.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:44:44' overrides: 50882775!
xxxTransferWithdraw: aTransferWithdraw
	net := net - aTransferWithdraw value.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:44:54' overrides: 50882780!
xxxWithdraw: aDeposit
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:45:10' prior: 50883253!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (Transfer sender transferNet ).
	
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:45:31'!
initializeWith: anAccount

	net := 0.
	account := anAccount 
	! !
!TransferNet class methodsFor: 'nil' stamp: 'DB 11/12/2020 21:46:11'!
with: anAccount

	^self new initializeWith: anAccount.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:50:42' prior: 50883384!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: (TransferNet with: sender transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:50:45'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:50:45'!
FAILURE!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:50:45'!
FAILURE!

!methodRemoval: ReceptiveAccount #transferNet stamp: 'DB 11/12/2020 21:51:39'!
transferNet
	| net |
	net := 0.
	
	transactions do: [ :aTransaction | 
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [net := net + aTransaction value].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [net := net - aTransaction value].		
	].
	^net.!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:51:47'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:51:47'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:51:47'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:52:54'!
ERROR!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:53:10' prior: 50883420!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: ((TransferNet with: sender) transferNet ).
	
	! !

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:53:13'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:53:37' prior: 50883536!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: ((TransferNet with: receiver) transferNet ).
	
	! !

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:53:39'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:53:42'!
PASSED!

!classRenamed: #TransferNet as: #TransferNetReport stamp: 'DB 11/12/2020 21:56:24'!
Smalltalk renameClassNamed: #TransferNet as: #TransferNetReport!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/12/2020 21:56:25' prior: 50883566!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: ((TransferNetReport with: receiver) transferNet ).
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/12/2020 21:56:41'!
PASSED!

----End fileIn of /Users/dbenitez/uba/2c2020-IS1/2020-2c/14-Numeros/Solucion/Numero-Solution-3.st----!

----QUIT----(13 November 2020 10:04:31) CuisUniversity-4384.image priorSource: 17634731!

----STARTUP---- (14 November 2020 15:32:16) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!

!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:38:25' prior: 50882830 overrides: 50882765!
xxxDeposit: aDeposit
	summary add: 'Deposit for ', aDeposit value asString.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:39:00' prior: 50883040!
summary

	account xxx: self.
	summary add: 'Balance = ' , account balance asString .
	^summary.! !
!Account methodsFor: 'transactions' stamp: 'DB 11/14/2020 15:39:36'!
xxx: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: self.
	].! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:39:49'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:39:49'!
ERROR!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:39:49'!
ERROR!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:39:49'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:39:49'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:39:53'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:40:13'!
ERROR!
!Account methodsFor: 'transactions' stamp: 'DB 11/14/2020 15:41:16' prior: 50884630!
xxx: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].! !

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:41:22'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:41:24'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:41:25'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:41:25'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:41:30'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:41:30'!
PASSED!
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:41:57' prior: 50883357!
transferNet

	account xxx: self.
	^net.! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:42:00'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:42:00'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:43:20'!
test10Summary

	| portfolio report |
	
	portfolio := Portfolio new.
	

	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:43:52' prior: 50884775!
test10Summary

	| portfolio report |
	
	portfolio := Portfolio new.

	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:43:55'!
PASSED!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 15:43:55'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:44:00' prior: 50884786!
test10Summary

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:44:57'!
test11Summary

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:45:51' prior: 50884844!
test11Summary

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: '' equals: (report at: 1). 
	self assert: 'Balance = 0' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:46:17' prior: 50884857!
test11Summary

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 0' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 15:46:19'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 15:46:19'!
FAILURE!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 15:46:19'!
FAILURE!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:46:25' prior: 50884871!
test11Summary

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:46:28'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:46:29'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:46:29'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:46:29'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:46:29'!
PASSED!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 15:46:29'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 15:46:29'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:47:38'!
test12Summary

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:48:44' prior: 50884984!
test12Summary

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:49:03' prior: 50885007!
test12Summary

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Extraction for 50' equals: (report at: 2).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 15:49:06'!
PASSED!

!testRun: #TransferTest #test12Summary stamp: 'DB 11/14/2020 15:49:06'!
PASSED!
!Deposit methodsFor: 'balance' stamp: 'DB 11/14/2020 15:53:18'!
doit: aReport
	aReport xxxDeposit: self! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:53:18'!
doit: aReport
	aReport xxxTransferDeposit: self! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:53:18'!
doit: aReport
	aReport xxxTransferWithdraw: self! !
!AccountTransaction methodsFor: 'balance' stamp: 'DB 11/14/2020 15:53:18'!
doit: aReport

	self subclassResponsibility ! !
!Withdraw methodsFor: 'initialization' stamp: 'DB 11/14/2020 15:53:18' overrides: 50885114!
doit: aReport
	aReport xxxWithdraw: self! !

!methodRemoval: Deposit #xxx: stamp: 'DB 11/14/2020 15:53:18'!
xxx: aReport
	aReport xxxDeposit: self!

!methodRemoval: TransferDeposit #xxx: stamp: 'DB 11/14/2020 15:53:18'!
xxx: aReport
	aReport xxxTransferDeposit: self!

!methodRemoval: TransferWithdraw #xxx: stamp: 'DB 11/14/2020 15:53:18'!
xxx: aReport
	aReport xxxTransferWithdraw: self!

!methodRemoval: AccountTransaction #xxx: stamp: 'DB 11/14/2020 15:53:18'!
xxx: aReport

	self subclassResponsibility !

!methodRemoval: Withdraw #xxx: stamp: 'DB 11/14/2020 15:53:18'!
xxx: aReport
	aReport xxxWithdraw: self!
!Account methodsFor: 'transactions' stamp: 'DB 11/14/2020 15:53:45'!
doit: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:53:45' prior: 50884735!
transferNet

	account doit: self.
	^net.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:53:45' prior: 50884624!
summary

	account doit: self.
	summary add: 'Balance = ' , account balance asString .
	^summary.! !
!Account methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:53:45' prior: 50885141!
doit: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].! !

!methodRemoval: Account #xxx: stamp: 'DB 11/14/2020 15:53:45'!
xxx: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].!
!Account methodsFor: 'transactions' stamp: 'DB 11/14/2020 15:56:04'!
reportTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:56:04' prior: 50885153!
summary

	account reportTo: self.
	summary add: 'Balance = ' , account balance asString .
	^summary.! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:56:04' prior: 50885148!
transferNet

	account reportTo: self.
	^net.! !

!methodRemoval: Account #doit: stamp: 'DB 11/14/2020 15:56:04'!
doit: aReport

	self transactions do: [ :aTransaction | 
		aTransaction xxx: aReport.
	].!
!Deposit methodsFor: 'balance' stamp: 'DB 11/14/2020 15:56:28'!
reportTo: aReport
	aReport xxxDeposit: self! !
!Withdraw methodsFor: 'initialization' stamp: 'DB 11/14/2020 15:56:28'!
reportTo: aReport
	aReport xxxWithdraw: self! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:56:28'!
reportTo: aReport
	aReport xxxTransferDeposit: self! !
!AccountTransaction methodsFor: 'balance' stamp: 'DB 11/14/2020 15:56:28'!
reportTo: aReport

	self subclassResponsibility ! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:56:28' overrides: 50885206!
reportTo: aReport
	aReport xxxTransferWithdraw: self! !

!methodRemoval: Deposit #doit: stamp: 'DB 11/14/2020 15:56:28'!
doit: aReport
	aReport xxxDeposit: self!

!methodRemoval: Withdraw #doit: stamp: 'DB 11/14/2020 15:56:28'!
doit: aReport
	aReport xxxWithdraw: self!

!methodRemoval: TransferDeposit #doit: stamp: 'DB 11/14/2020 15:56:28'!
doit: aReport
	aReport xxxTransferDeposit: self!

!methodRemoval: AccountTransaction #doit: stamp: 'DB 11/14/2020 15:56:28'!
doit: aReport

	self subclassResponsibility !

!methodRemoval: TransferWithdraw #doit: stamp: 'DB 11/14/2020 15:56:28'!
doit: aReport
	aReport xxxTransferWithdraw: self!
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:10'!
reportADeposit: aDeposit
	self subclassResponsibility ! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:10' overrides: 50885234!
reportADeposit: aDeposit
	summary add: 'Deposit for ', aDeposit value asString.! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:10' overrides: 50885234!
reportADeposit: aDeposit
	! !

!methodRemoval: Report #xxxDeposit: stamp: 'DB 11/14/2020 15:57:10'!
xxxDeposit: aDeposit
	self subclassResponsibility !

!methodRemoval: SummaryReport #xxxDeposit: stamp: 'DB 11/14/2020 15:57:10'!
xxxDeposit: aDeposit
	summary add: 'Deposit for ', aDeposit value asString.!

!methodRemoval: TransferNetReport #xxxDeposit: stamp: 'DB 11/14/2020 15:57:10'!
xxxDeposit: aDeposit
	!
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:32'!
reportATransferDeposit: aTransferDeposit
	self subclassResponsibility ! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:32' overrides: 50885261!
reportATransferDeposit: aDeposit
	net := net + aDeposit value.! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:32' overrides: 50885261!
reportATransferDeposit: aDeposit
	summary add: 'Entry by transfer of ', aDeposit value asString .! !

!methodRemoval: Report #xxxTransferDeposit: stamp: 'DB 11/14/2020 15:57:32'!
xxxTransferDeposit: aTransferDeposit
	self subclassResponsibility !

!methodRemoval: TransferNetReport #xxxTransferDeposit: stamp: 'DB 11/14/2020 15:57:32'!
xxxTransferDeposit: aDeposit
	net := net + aDeposit value.!

!methodRemoval: SummaryReport #xxxTransferDeposit: stamp: 'DB 11/14/2020 15:57:32'!
xxxTransferDeposit: aDeposit
	summary add: 'Entry by transfer of ', aDeposit value asString .!
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:52'!
reportATransferWithdraw: aTransferWithdraw
	self subclassResponsibility ! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:52' overrides: 50885294!
reportATransferWithdraw: aDeposit
	summary add: 'Output by transfer of ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:57:52' overrides: 50885294!
reportATransferWithdraw: aTransferWithdraw
	net := net - aTransferWithdraw value.! !

!methodRemoval: Report #xxxTransferWithdraw: stamp: 'DB 11/14/2020 15:57:52'!
xxxTransferWithdraw: aTransferWithdraw
	self subclassResponsibility !

!methodRemoval: SummaryReport #xxxTransferWithdraw: stamp: 'DB 11/14/2020 15:57:52'!
xxxTransferWithdraw: aDeposit
	summary add: 'Output by transfer of ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."!

!methodRemoval: TransferNetReport #xxxTransferWithdraw: stamp: 'DB 11/14/2020 15:57:52'!
xxxTransferWithdraw: aTransferWithdraw
	net := net - aTransferWithdraw value.!
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:58:09'!
reportAWithdraw: aDeposit
	! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:58:09'!
reportAWithdraw: aDeposit
	summary add: 'Extraction for ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."! !
!Report methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:58:09'!
reportAWithdraw: aTransferWithdraw
	self subclassResponsibility ! !

!methodRemoval: TransferNetReport #xxxWithdraw: stamp: 'DB 11/14/2020 15:58:09'!
xxxWithdraw: aDeposit
	!

!methodRemoval: SummaryReport #xxxWithdraw: stamp: 'DB 11/14/2020 15:58:09'!
xxxWithdraw: aDeposit
	summary add: 'Extraction for ', aDeposit value asString .
	
	"(aTransaction isKindOf: Deposit) ifTrue: [aMessage := 'Deposit for '].
		(aTransaction isKindOf: Withdraw ) ifTrue: [aMessage := 'Extraction for '].	
		(aTransaction isKindOf: TransferWithdraw ) ifTrue: [aMessage := 'Output by transfer of '].
		(aTransaction isKindOf: TransferDeposit ) ifTrue: [aMessage := 'Entry by transfer of '].		
		summary add: aMessage, aTransaction value asString."!

!methodRemoval: Report #xxxWithdraw: stamp: 'DB 11/14/2020 15:58:09'!
xxxWithdraw: aTransferWithdraw
	self subclassResponsibility !
!Deposit methodsFor: 'balance' stamp: 'DB 11/14/2020 15:58:35' prior: 50885192 overrides: 50885206!
reportTo: aReport
	aReport reportADeposit: self! !
!TransferDeposit methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:58:44' prior: 50885201 overrides: 50885206!
reportTo: aReport
	aReport reportATransferDeposit: self! !
!TransferWithdraw methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:58:52' prior: 50885211 overrides: 50885206!
reportTo: aReport
	aReport reportATransferWithdraw: self! !
!Withdraw methodsFor: 'initialization' stamp: 'DB 11/14/2020 15:59:02' prior: 50885196 overrides: 50885206!
reportTo: aReport
	aReport reportAWithdraw: self! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 15:59:07'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test12Summary stamp: 'DB 11/14/2020 15:59:07'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 15:59:10'!
ERROR!
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:59:51' prior: 50885357 overrides: 50885375!
reportAWithdraw: aDeposit
	summary add: 'Extraction for ', aDeposit value asString .! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 15:59:56' prior: 50885300 overrides: 50885294!
reportATransferWithdraw: aDeposit
	summary add: 'Output by transfer of ', aDeposit value asString .! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 16:00:03'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test12Summary stamp: 'DB 11/14/2020 16:00:03'!
ERROR!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 16:00:05'!
ERROR!
!Account methodsFor: 'transactions' stamp: 'DB 11/14/2020 16:00:30' prior: 50885169!
reportTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test09TransferNet stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test10Summary stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test11Summary stamp: 'DB 11/14/2020 16:00:34'!
PASSED!

!testRun: #TransferTest #test12Summary stamp: 'DB 11/14/2020 16:00:34'!
PASSED!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:01:52'!
test10SummaryReportPortfolioWithoutAccounts

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!methodRemoval: TransferTest #test10Summary stamp: 'DB 11/14/2020 16:01:52'!
test10Summary

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:02:11'!
test10SummaryPortfolioWithoutAccounts

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!methodRemoval: TransferTest #test10SummaryReportPortfolioWithoutAccounts stamp: 'DB 11/14/2020 16:02:11'!
test10SummaryReportPortfolioWithoutAccounts

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:03:22'!
test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !

!methodRemoval: TransferTest #test10SummaryPortfolioWithoutAccounts stamp: 'DB 11/14/2020 16:03:22'!
test10SummaryPortfolioWithoutAccounts

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:06:56'!
test11SummaryOfPortfolioWithOneAccount

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !

!methodRemoval: TransferTest #test11Summary stamp: 'DB 11/14/2020 16:06:56'!
test11Summary

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:07:54'!
test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Extraction for 50' equals: (report at: 2).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	! !

!methodRemoval: TransferTest #test12Summary stamp: 'DB 11/14/2020 16:07:54'!
test12Summary

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Extraction for 50' equals: (report at: 2).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	!

TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 16:20:06'!
TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportTest methodsFor: 'nil' stamp: 'DB 11/14/2020 16:20:40'!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:20:53' prior: 50885742!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:21:06'!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:21:20'!
test08SummaryReportForWithdrawReturnsBalanceAndWithdraw

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:21:33'!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (SummaryReport with: sender) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := (SummaryReport with: receiver) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:21:46'!
test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:22:06'!
test11SummaryOfPortfolioWithOneAccount

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	! !
!ReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:22:21'!
test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Extraction for 50' equals: (report at: 2).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	! !

!methodRemoval: TransferTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 16:22:29'!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	!

!methodRemoval: TransferTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 16:22:34'!
test07SummaryReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	!

!methodRemoval: TransferTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 16:22:39'!
test08SummaryReportForWithdrawReturnsBalanceAndWithdraw

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	
	!

!methodRemoval: TransferTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 16:22:42'!
test09SummaryReportForTransferReturnsBalanceAndTransferTransaction

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (SummaryReport with: sender) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := (SummaryReport with: receiver) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	!

!methodRemoval: TransferTest #test09TransferNet stamp: 'DB 11/14/2020 16:22:45'!
test09TransferNet

	| receiver sender report |
	
	receiver := ReceptiveAccount new.
	sender := ReceptiveAccount new.
	
	Deposit register: 100 on: receiver.
	Withdraw register:  50 on: receiver.
	Transfer register: 20 from: receiver to: sender.
	Transfer register: 30 from: sender to: receiver.
	
	report := (SummaryReport with: receiver) summary. 

	self assert: report size = 5.
	self assert: (report at: 1) equals: 'Deposit for 100'.
	self assert: (report at: 2) equals: 'Extraction for 50'.
	self assert: (report at: 3) equals: 'Output by transfer of 20'.
	self assert: (report at: 4) equals: 'Entry by transfer of 30'.
	self assert: (report at: 5) equals: 'Balance = 60'.
	
	self assert: 10 equals: ((TransferNetReport with: receiver) transferNet ).
	
	!

!methodRemoval: TransferTest #test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance stamp: 'DB 11/14/2020 16:22:49'!
test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	
	!

!methodRemoval: TransferTest #test11SummaryOfPortfolioWithOneAccount stamp: 'DB 11/14/2020 16:22:51'!
test11SummaryOfPortfolioWithOneAccount

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	!

!methodRemoval: TransferTest #test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'DB 11/14/2020 16:22:56'!
test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (SummaryReport with: composedPortofolio) summary. 
 	
	self assert: 3 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Extraction for 50' equals: (report at: 2).
	self assert: 'Balance = 50' equals: (report at: 3)
	
	!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 16:23:00'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 16:23:00'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 16:23:00'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 16:23:00'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 16:23:00'!
PASSED!

!testRun: #ReportTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test11SummaryOfPortfolioWithOneAccount stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

!testRun: #ReportTest #test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'DB 11/14/2020 16:23:04'!
PASSED!

TestCase subclass: #PortfolioReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioReportTest category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 16:23:36'!
TestCase subclass: #PortfolioReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #PortfolioReportTest as: #PortfolioBinaryTreeReportTest stamp: 'DB 11/14/2020 16:23:58'!
Smalltalk renameClassNamed: #PortfolioReportTest as: #PortfolioBinaryTreeReportTest!

!classRenamed: #PortfolioBinaryTreeReportTest as: #PortfolioTreeReportTest stamp: 'DB 11/14/2020 16:24:31'!
Smalltalk renameClassNamed: #PortfolioBinaryTreeReportTest as: #PortfolioTreeReportTest!
!PortfolioTreeReportTest methodsFor: 'nil' stamp: 'DB 11/14/2020 16:24:44'!
test01! !

!methodRemoval: PortfolioTreeReportTest #test01 stamp: 'DB 11/14/2020 16:25:03'!
test01!
!PortfolioTreeReportTest methodsFor: 'nil' stamp: 'DB 11/14/2020 16:26:32'!
test01TreeReportForEmptyPortfolioReturnsEmptyReport

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (SummaryReport with: account) summary. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	! !

!classDefinition: #FamilyTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 16:34:18'!
Object subclass: #FamilyTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:31:59' prior: 50886091!
test01TreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:35:15'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:35:15'!
ERROR!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:36:03'!
named: aName

	^self new 
		named: aName.! !

Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 16:37:11'!
Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Portfolio methodsFor: 'initialization' stamp: 'DB 11/14/2020 16:38:20'!
initializeWith: aName

	accounts := OrderedCollection new.
	parents := OrderedCollection new.
	name := aName ! !

----SNAPSHOT----(14 November 2020 16:38:37) CuisUniversity-4384.image priorSource: 17694697!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:38:47' prior: 50886130!
named: aName

	^self new initializeWith: aName.! !
!ReceptiveAccount class methodsFor: 'no messages' stamp: 'DB 11/14/2020 16:39:22'!
named: aName

	^self new initializeWith: aName.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/14/2020 16:39:54'!
initializWith: aName
	name  := aName ! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:40:16'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:40:16'!
ERROR!
!FamilyTreeReport class methodsFor: 'nil' stamp: 'DB 11/14/2020 16:40:57'!
with: aPortfolio

	^self initializeWith: aPortfolio 
	! !

!classDefinition: #FamilyTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 16:41:31'!
Object subclass: #FamilyTreeReport
	instanceVariableNames: 'portfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!FamilyTreeReport methodsFor: 'nil' stamp: 'DB 11/14/2020 16:41:29'!
initializaWith: aPortfolio
	portfolio := aPortfolio .! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:42:15'!
report 
	^OrderedCollection new.! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:42:22'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:42:22'!
ERROR!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:42:59'!
initializeWith: aPortfolio
	portfolio := aPortfolio .! !

!methodRemoval: FamilyTreeReport #initializaWith: stamp: 'DB 11/14/2020 16:42:59'!
initializaWith: aPortfolio
	portfolio := aPortfolio .!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:43:09'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:43:09'!
ERROR!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:43:50' prior: 50886207!
initializeWith: aPortfolio
	portfolio := aPortfolio .! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:43:55'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:43:55'!
ERROR!
!FamilyTreeReport class methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:44:29' prior: 50886178!
with: aPortfolio

	^self new initializeWith: aPortfolio 
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:44:37'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:44:37'!
FAILURE!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:48:02' prior: 50886195!
report 
	| report |
	report := OrderedCollection new.
	
	report add: portfolio name.

	^report! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/14/2020 16:48:29' overrides: 16882612!
name

	^name! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'DB 11/14/2020 16:48:34' overrides: 16882612!
name

	^name! !
!Account methodsFor: 'balance' stamp: 'DB 11/14/2020 16:48:47' overrides: 16882612!
name

	self subclassResponsibility ! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 16:49:07'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:51:46'!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  'Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 17:01:46'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/14/2020 17:01:46'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/14/2020 17:01:46'!
ERROR!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'DB 11/14/2020 17:02:16'!
initializeWith: aName
	name  := aName ! !

!methodRemoval: ReceptiveAccount #initializWith: stamp: 'DB 11/14/2020 17:02:16'!
initializWith: aName
	name  := aName !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/14/2020 17:02:32'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/14/2020 17:02:32'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/14/2020 17:02:32'!
FAILURE!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 17:13:57' prior: 50886253!
report 
	| report |
	report := OrderedCollection new.
	
	report add: portfolio name.
	report add: portfolio children 

	^report! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 17:14:49' prior: 50886326!
report 
	| report |
	report := OrderedCollection new.
	
	report add: portfolio name.
	
	portfolio xxx: self.
	
	

	^report! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 17:15:41'!
addMe: aName in: aParent

	aParent add: aName! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 17:16:30' prior: 50886341!
addMe: aName in: aParent

	| childs dic |
	childs := dic found: aParent

	childs add: aName! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/14/2020 17:20:14'!
xxx: aReport

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: anAccount name to: self name].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport]
				
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/14/2020 17:20:54' prior: 50886352!
xxx: aReport

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (anAccount name) to: (self name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport]
				
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/14/2020 17:24:20'!
xxx: aReport myParent: myParent

	aReport  addMe: (self name) to: myParent
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (anAccount name) to: (self name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport]
				
	].
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/14/2020 17:37:51' prior: 50886375!
xxx: aReport myParent: myParent

	aReport  addMe: (self name) to: myParent
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (anAccount name) to: (self name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport myParent: self name]
				
	].
	! !

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 18:03:41'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 18:03:41'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 18:03:41'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 18:03:41'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 18:03:41'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/14/2020 18:14:03'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/14/2020 18:14:03'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/14/2020 18:14:03'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/14/2020 18:14:03'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/14/2020 18:14:03'!
PASSED!

!testRun: #ReportTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test11SummaryOfPortfolioWithOneAccount stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!testRun: #ReportTest #test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'DB 11/14/2020 18:14:24'!
PASSED!

!classRenamed: #ReportTest as: #SummaryReportTest stamp: 'DB 11/14/2020 18:15:06'!
Smalltalk renameClassNamed: #ReportTest as: #SummaryReportTest!

TestCase subclass: #TransferNetReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNetReportTest category: 'Portfolio-Solucion' stamp: 'DB 11/14/2020 18:15:16'!
TestCase subclass: #TransferNetReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

----SNAPSHOT----(14 November 2020 18:15:34) CuisUniversity-4384.image priorSource: 17744048!

----QUIT----(14 November 2020 18:15:41) CuisUniversity-4384.image priorSource: 17754435!

----STARTUP---- (16 November 2020 10:53:49) as /Users/dbenitez/uba/2c2020-IS1/Quiz/macos64-Portfolio1/CuisUniversity-4384.image!


!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 10:58:01'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 10:58:01'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 10:58:12'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 10:58:12'!
ERROR!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/14/2020 16:48:02' prior: 50886334!
report 
	| report |
	report := OrderedCollection new.
	
	report add: portfolio name.

	^report! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:00:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:00:01'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:00:01'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:01:54' prior: 50886277!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  '			Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:02:30' prior: 50886523!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  '			Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:03:11'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:03:11'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:03:11'!
FAILURE!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:04:44' prior: 50886504!
report 

	portfolio xxx: self.
	
	! !

!classDefinition: #FamilyTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 11:05:17'!
Object subclass: #FamilyTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:05:15' prior: 50886225!
initializeWith: aPortfolio
	portfolio := aPortfolio.
	report := OrderedCollection new.! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:05:52' prior: 50886570!
report 

	portfolio xxx: self.
	
	
	! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:06:27' prior: 50886589!
report 

	portfolio xxx: self.
	^report.
	! !
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:07:55'!
addMeAsParent: name.

	report add name.

	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:13:40' prior: 50886364!
xxx: aReport

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: ('		',anAccount name) to: (self name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport]
				
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:14:43'!
xxx: aReport with: tabs

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (tabs,anAccount name) to: (self name)].
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:14:55' prior: 50886615!
xxx: aReport with: tabs

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (tabs,'-',anAccount name) to: (self name)].
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:15:04' prior: 50886625!
xxx: aReport with: tabs

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (tabs,'-',anAccount name)].
	]
	! !

!methodRemoval: Portfolio #xxx:myParent: stamp: 'DB 11/16/2020 11:15:42'!
xxx: aReport myParent: myParent

	aReport  addMe: (self name) to: myParent
	accounts do: [:anAccount |
		
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (anAccount name) to: (self name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount xxx: aReport myParent: self name]
				
	].
	!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:16:04' prior: 50886604!
xxx: aReport

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: ('-',anAccount name)].
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:16:20' prior: 50886656!
xxx: aReport

	aReport addMe: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: ('-',anAccount name)].
	]
	! !

!methodRemoval: FamilyTreeReport #addMe:in: stamp: 'DB 11/16/2020 11:35:56'!
addMe: aName in: aParent

	| childs dic |
	childs := dic found: aParent

	childs add: aName!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:36:25'!
addMe: name.

	report add name.

	! !

!methodRemoval: FamilyTreeReport #addMeAsParent: stamp: 'DB 11/16/2020 11:36:25'!
addMeAsParent: name.

	report add name.

	!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:37:07'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:37:07'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:37:09'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:37:41'!
ERROR!
!FamilyTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:39:06' prior: 50886679!
addMe: name.

	report add: name.

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:39:12'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:39:12'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:39:14'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:39:56'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:40:53' prior: 50886665!
xxx: aReport

	aReport addMe: (self name).
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: ('-',anAccount name)].
	]
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:41:03' prior: 50886725!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: ('-',anAccount name)].
	]
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:41:20'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:41:20'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:41:20'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:41:35' prior: 50886540!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  '	-Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:41:39'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:41:39'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:41:39'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:42:48' prior: 50886755!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  '	-Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:43:01'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:43:17' prior: 50886785!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  '-Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:43:20'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:43:20'!
PASSED!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:44:56' prior: 50886734!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString,anAccount name)].
	]
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:45:40'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:45:40'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:45:40'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:46:33' prior: 50886832!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: Character tab asString,(anAccount name)].
	]
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:46:39'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:46:39'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:46:39'!
FAILURE!

Character tab asString,(anAccount name)!

Character tab asString!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:48:51' prior: 50886853!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: '<t>',(anAccount name)].
	]
	! !

'<t>',(anAccount name)!

(String tab),(anAccount name)!

'Name ', String tab, ' Age ', String tab, ' Occupation'!

 String tab!

'Here is<t>a tab and<n>a blank line'!

	'Here is<t>a tab and<n>a blank line'!

	Character tab.!

	Character tab asString.!

	String tab!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 11:55:56' prior: 50886876!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
	].
	
	
	
	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:56:08' prior: 50886807!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:56:10'!
PASSED!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 11:56:14'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 11:56:14'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:56:37'!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (FamilyTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 11:59:16' prior: 50886933!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report childAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (FamilyTreeReport with: familyPorfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)
	
	Portfolio de la familia
   Cuenta Mia
   Portfolio de hijos
      Cuenta de Juan
      Cuenta de Angeles

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:00:19' prior: 50886952!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report childAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (FamilyTreeReport with: familyPorfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,Character tab asString,'Portfolio de hijos' equals: (report at: 2).	
	
Portfolio de la familia
   Cuenta Mia
   Portfolio de hijos
      Cuenta de Juan
      Cuenta de Angeles

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:02:55' prior: 50886978!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (FamilyTreeReport with: familyPorfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	
	
Portfolio de la familia
   Cuenta Mia
   Portfolio de hijos
      Cuenta de Juan
      Cuenta de Angeles

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:03:28' prior: 50887008!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (FamilyTreeReport with: familyPorfolio) report. 
 	
	self assert: 5 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	


	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 12:03:32'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 12:03:32'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 12:03:32'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 12:03:32'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:24:05' prior: 50886893!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
	].
	
	
	
	! !

!classRenamed: #FamilyTreeReport as: #PortfolioTreeReport stamp: 'DB 11/16/2020 12:24:53'!
Smalltalk renameClassNamed: #FamilyTreeReport as: #PortfolioTreeReport!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:24:53' prior: 50886903!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) report. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:24:53' prior: 50887051!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (PortfolioTreeReport with: familyPorfolio) report. 
 	
	self assert: 5 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	


	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:24:53' prior: 50886110!
test01TreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioTreeReport with: portfolio) report. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:25:15'!
familyTreeReport 

	portfolio xxx: self.
	^report.
	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:25:15' prior: 50887143!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (PortfolioTreeReport with: familyPorfolio) familyTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	


	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:25:15' prior: 50887182!
test01TreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:25:15' prior: 50887124!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !

!methodRemoval: PortfolioTreeReport #report stamp: 'DB 11/16/2020 12:25:15'!
report 

	portfolio xxx: self.
	^report.
	!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:25:39' prior: 50887194!
familyTreeReport 

	portfolio xxx: self tabs: ''.
	^report.
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:26:38' prior: 50887106!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
	].
	
	
	
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:27:06' prior: 50887276!
familyTreeReport 

	portfolio familyTree: self tabs: ''.
	^report.
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:27:46'!
familyTree: aReport tabs: tabs

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (tabs,'-',anAccount name)].
	]
	! !

!methodRemoval: Portfolio #xxx:with: stamp: 'DB 11/16/2020 12:27:46'!
xxx: aReport with: tabs

	aReport addMeAsParent: aReport name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (tabs,'-',anAccount name)].
	]
	!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:28:26' prior: 50887299!
familyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
	].
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:29:18' prior: 50887317!
familyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 12:29:34'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 12:29:34'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 12:29:34'!
PASSED!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:31:14'!
addMeAsParent: aPortfolio tabs: tabs

	report add: aPortfolio name.
	aPortfolio familyTreeReport: aPortfolio tabs: tabs.

	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:31:36' prior: 50887356!
addMeAsParent: aPortfolio tabs: tabs

	report add: aPortfolio name.
	aPortfolio familyTree: aPortfolio tabs: tabs.

	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:32:06' prior: 50887330!
familyTree: aReport tabs: tabs

	aReport addMeAsParent: self tabs: tabs.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !

!methodRemoval: Portfolio #xxx: stamp: 'DB 11/16/2020 12:32:50'!
xxx: aReport

	aReport addMe: self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [aReport addMe: (Character tab asString),(anAccount name)].
	].
	
	
	
	!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 12:33:00'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 12:33:00'!
ERROR!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 12:33:01'!
ERROR!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 12:33:05'!
ERROR!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:37:12' prior: 50887371!
familyTree: aReport tabs: tabs


	aReport addMe: tabs,self name.
	"aReport addMe: self name tabs: tabs."
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 12:37:14' prior: 50887412!
familyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	"aReport addMe: self name tabs: tabs."
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 12:37:37'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 12:37:37'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 12:37:37'!
PASSED!
!TransferNetReportTest methodsFor: 'nil' stamp: 'DB 11/16/2020 12:41:06'!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) net. 
 	
	self assert: 1 equals: report size.
	self assert: 'Balance = 0' equals: (report at: 1)
	! !
!TransferNetReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:41:45' prior: 50887453!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.
	! !

!testRun: #TransferNetReportTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:41:49'!
PASSED!
!TransferNetReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:42:33'!
test02TransferNetReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	! !
!TransferNetReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:42:39'!
test02TransferNetReportForDepositReturnsZero

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	! !

!methodRemoval: TransferNetReportTest #test02TransferNetReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/16/2020 12:42:42'!
test02TransferNetReportForDepositReturnsBalanceAndDeposit

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	!
!TransferNetReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:43:04' prior: 50887494!
test02TransferNetReportForDepositReturnsZero

	| account report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.	! !

!testRun: #TransferNetReportTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 12:43:07'!
PASSED!

!testRun: #TransferNetReportTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:43:07'!
PASSED!
!TransferNetReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:43:17'!
test01SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.
	! !

!methodRemoval: TransferNetReportTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:43:17'!
test06SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.
	!

!classRenamed: #TransferNetReportTest as: #ReportTransferNetTest stamp: 'DB 11/16/2020 12:43:56'!
Smalltalk renameClassNamed: #TransferNetReportTest as: #ReportTransferNetTest!

!classRenamed: #SummaryReportTest as: #ReportSummaryTest stamp: 'DB 11/16/2020 12:44:10'!
Smalltalk renameClassNamed: #SummaryReportTest as: #ReportSummaryTest!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:45:20'!
test03TransferNetReportForWithdrawReturnsZero

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := (TransferNetReport with: account) transferNet . 
 	
	self assert: 2 equals: report size.
	self assert: 'Extraction for 50' equals: (report at: 1).
	self assert: 'Balance = -50' equals: (report at: 2)
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:45:36' prior: 50887574!
test03TransferNetReportForWithdrawReturnsZero

	| account report |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	report := (TransferNetReport with: account) transferNet . 
 	
	self assert: 0 equals: report
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:45:50'!
test01TransferNetReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.
	! !

!methodRemoval: ReportTransferNetTest #test01SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:45:50'!
test01SummaryReportForEmptyAccountReturnsOnlyBalance

	| account report |
	
	account := ReceptiveAccount new.
	
	report := (TransferNetReport with: account) transferNet. 
 	
	self assert: 0 equals: report.
	!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:46:47'!
test04TransferNetReportForATransferReturnsNetBalance

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (SummaryReport with: sender) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Output by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = -60' equals: (report at: 2).
	
	report := (SummaryReport with: receiver) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Entry by transfer of 60' equals: (report at: 1).
	self assert: 'Balance = 60' equals: (report at: 2)
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:47:35' prior: 50887620!
test04TransferNetReportForATransferReturnsNetBalance

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (TransferNetReport with: sender) summary. 
 	
	self assert: -60 equals: report.
	
	report := (TransferNetReport with: receiver) summary. 
 	
	self assert: 60 equals: report.
	! !

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:47:38'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 12:47:38'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 12:47:38'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 12:47:38'!
ERROR!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 12:47:38'!
ERROR!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:47:48' prior: 50887644!
test04TransferNetReportForATransferReturnsNetBalance

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	report := (TransferNetReport with: sender) transferNet . 
 	
	self assert: -60 equals: report.
	
	report := (TransferNetReport with: receiver) transferNet. 
 	
	self assert: 60 equals: report.
	! !

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:47:51'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 12:47:51'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 12:47:51'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 12:47:51'!
PASSED!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:48:58'!
test10TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:49:08'!
test5TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	! !

!methodRemoval: ReportTransferNetTest #test10TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 12:49:08'!
test10TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:49:13'!
test05TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	! !

!methodRemoval: ReportTransferNetTest #test5TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 12:49:13'!
test5TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio report |
	
	portfolio := Portfolio new.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	!

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:49:19'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 12:49:19'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 12:49:19'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 12:49:19'!
PASSED!

!testRun: #ReportTransferNetTest #test05TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 12:49:19'!
PASSED!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:50:18'!
test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:50:41' prior: 50887784!
test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (TransferNetReport with: portfolio) transferNet. 
 	
	self assert: 0 equals: report.
	
	! !

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 12:50:43'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 12:50:43'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 12:50:43'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 12:50:43'!
PASSED!

!testRun: #ReportTransferNetTest #test05TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 12:50:43'!
PASSED!

!testRun: #ReportTransferNetTest #test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 12:50:43'!
PASSED!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:51:47'!
test07TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| account portfolio report |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	report := (SummaryReport with: portfolio) summary. 
 	
	self assert: 2 equals: report size.
	self assert: 'Deposit for 100' equals: (report at: 1).
	self assert: 'Balance = 100' equals: (report at: 2)
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:54:04' prior: 50887839!
test07TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (TransferNetReport with: composedPortofolio) transferNet. 
 	
	self assert: 10 equals: report size.
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:58:03'!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| simplePortfolioAccount |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	Withdraw register: 50 on: simplePortfolioAccount.
	
	
	! !

!methodRemoval: ReportTransferNetTest #test07TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 12:58:13'!
test07TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio report |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	report := (TransferNetReport with: composedPortofolio) transferNet. 
 	
	self assert: 10 equals: report size.
	!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:59:05' prior: 50887879!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender reciever receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	transfer := Transfer register: 20 from: sender to: receiver.
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:59:19' prior: 50887916!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	transfer := Transfer register: 20 from: sender to: receiver.
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 12:59:41' prior: 50887930!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver transfer |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	transfer := Transfer register: 20 from: sender to: receiver.
	transfer := Transfer register: 30 from: receiver to: sender.	
	
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:00:18' prior: 50887944!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver transfer report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	transfer := Transfer register: 20 from: sender to: receiver.
	transfer := Transfer register: 30 from: receiver to: sender.	
	
	report := (TransferNetReport with: sender) transferNet.
	
	
	
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:00:49' prior: 50887960!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver transfer report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	transfer := Transfer register: 20 from: sender to: receiver.
	transfer := Transfer register: 30 from: receiver to: sender.	
	
	report := (TransferNetReport with: sender) transferNet.
	
	self assert: 10 equals: report.
	
	
	
	
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:01:00' prior: 50887978!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver report |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	Transfer register: 20 from: sender to: receiver.
	Transfer register: 30 from: receiver to: sender.	
	
	report := (TransferNetReport with: sender) transferNet.
	
	self assert: 10 equals: report.
	
	
	
	
	
	! !

!testRun: #ReportTransferNetTest #test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 13:01:08'!
PASSED!

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test05TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 13:01:11'!
PASSED!

!testRun: #ReportTransferNetTest #test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 13:01:11'!
PASSED!
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:05:07'!
assertTransferNetAccount: anAccount value: expectedValue
 	
	self assert: expectedValue equals: (TransferNetReport with: anAccount) transferNet..
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:05:29' prior: 50887600!
test01TransferNetReportForEmptyAccountReturnsOnlyBalance

	| account |
	
	account := ReceptiveAccount new.
	
	self assertTransferNetAccount: account value: 0.! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:05:49' prior: 50887524!
test02TransferNetReportForDepositReturnsZero

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self assertTransferNetAccount: account value: 0.! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:06:01' prior: 50887589!
test03TransferNetReportForWithdrawReturnsZero

	| account |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	self assertTransferNetAccount: account value: 0.
	
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:06:37' prior: 50887680!
test04TransferNetReportForATransferReturnsNetBalance

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	
	Transfer register: 60 from: sender to: receiver.
	
	self assertTransferNetAccount: sender value: -60.
	self assertTransferNetAccount: receiver value: 60.
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:06:51' prior: 50887743!
test05TransferNetOfAPortfolioWithoutAccountsReturnsZero

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assertTransferNetAccount: portfolio value: 0.
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:07:18' prior: 50887801!
test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue

	| account portfolio |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	self assertTransferNetAccount: portfolio value: 0.
	! !
!ReportTransferNetTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:07:39' prior: 50887997!
test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue

	| sender receiver |
	
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Deposit register: 100 on: sender.
	Withdraw register: 50 on: sender.
	
	Transfer register: 20 from: sender to: receiver.
	Transfer register: 30 from: receiver to: sender.	
	
	self assertTransferNetAccount: sender value: 10.
	
	
	
	
	! !

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test05TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportTransferNetTest #test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 13:07:43'!
PASSED!

!testRun: #ReportSummaryTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test11SummaryOfPortfolioWithOneAccount stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #ReportSummaryTest #test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'DB 11/16/2020 13:07:47'!
PASSED!

!testRun: #TransferTest #test01TransferAffectBalance stamp: 'DB 11/16/2020 13:07:51'!
PASSED!

!testRun: #TransferTest #test02SenderAndReceiverCantBeTheSameAccount stamp: 'DB 11/16/2020 13:07:51'!
PASSED!

!testRun: #TransferTest #test03TransferAmountCantBeZeroOrNegative stamp: 'DB 11/16/2020 13:07:51'!
PASSED!

!testRun: #TransferTest #test04TransferTransactionesWereRegisteredInTheAccounts stamp: 'DB 11/16/2020 13:07:51'!
PASSED!

!testRun: #TransferTest #test05SenderAndReceiverHaveTheSameTransfer stamp: 'DB 11/16/2020 13:07:51'!
PASSED!

!methodRemoval: PortfolioTreeReport #addMeAsParent:tabs: stamp: 'DB 11/16/2020 13:17:08'!
addMeAsParent: aPortfolio tabs: tabs

	report add: aPortfolio name.
	aPortfolio familyTree: aPortfolio tabs: tabs.

	!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 13:17:14'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 13:17:14'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 13:17:14'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:17:40'!
test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !

!classDefinition: #PortfolioSpeicalTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 13:18:04'!
Object subclass: #PortfolioSpeicalTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:17:59' prior: 50888230!
test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioSpeicalTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !

!classRenamed: #PortfolioSpeicalTreeReport as: #PortfolioSpecialTreeReport stamp: 'DB 11/16/2020 13:18:27'!
Smalltalk renameClassNamed: #PortfolioSpeicalTreeReport as: #PortfolioSpecialTreeReport!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 13:18:28' prior: 50888252!
test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 1 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1)

	! !

----SNAPSHOT----(16 November 2020 13:28:35) CuisUniversity-4384.image priorSource: 17754529!
!PortfolioSpecialTreeReport class methodsFor: 'no messages' stamp: 'DB 11/16/2020 13:35:55'!
with: aPortfolio

	^self new initializeWith: aPortfolio 
	! !

!classDefinition: #PortfolioSpecialTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 13:36:36'!
Object subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: 'portfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioSpecialTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 13:36:39'!
Object subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioSpecialTreeReport methodsFor: 'nil' stamp: 'DB 11/16/2020 13:36:34'!
initializeWith: aPortfolio
	portfolio := aPortfolio.
	report := OrderedCollection new.! !

----SNAPSHOT----(16 November 2020 13:41:55) CuisUniversity-4384.image priorSource: 17812283!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:33:22'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:33:22'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:33:22'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:33:22'!
ERROR!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:33:22'!
ERROR!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:33:31'!
ERROR!
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:33:41'!
specialTreeReport
	self shouldBeImplemented.! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:34:21' prior: 50888344!
specialTreeReport

	report add: portfolio name.
	^report! !

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:34:22'!
PASSED!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:34:25'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:34:25'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:34:25'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:34:25'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:34:38'!
test04SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:35:57'!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !

!methodRemoval: PortfolioTreeReportTest #test04SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:35:57'!
test04SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:36:54' prior: 50888394!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:37:34' prior: 50888432!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:38:47' prior: 50888452!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Cuenta mia' equals: (report at: 2).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:40:39' prior: 50888473!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) familyTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 2).	

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:40:53'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:40:53'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:40:53'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:40:53'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:40:53'!
ERROR!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:40:53'!
ERROR!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:41:15' prior: 50888501!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 2).	

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:41:18'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:18'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:41:18'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:41:18'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:18'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:18'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:41:32' prior: 50888554!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 4 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 2).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:41:52' prior: 50888607!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 2).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 2).

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:41:55'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:55'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:41:55'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:41:55'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:55'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:41:55'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 15:42:13'!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	"aReport addMe: self name tabs: tabs."
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 15:42:21' prior: 50888690!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 15:45:15' prior: 50888705!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:45:51' prior: 50888349!
specialTreeReport

	
	portfolio familyTree: self tabs: ''.
	^report.
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:45:56' prior: 50888740!
specialTreeReport

	
	portfolio specialfamilyTree: self tabs: ''.
	^report.
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:46:00' prior: 50888746!
specialTreeReport

	portfolio specialfamilyTree: self tabs: ''.
	^report.
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:46:28'!
addMe: name.

	report add: name.

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:46:33'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:46:33'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:46:33'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:46:33'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:46:33'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:46:33'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:47:01' prior: 50888635!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).

	! !

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:47:03'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:47:30'!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:47:40' prior: 50888823!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:48:11'!
test05SpecialTreeReportForPortfolioWithOneChildReturns

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).

	! !

!methodRemoval: PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:48:11'!
test05SpecialTreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).

	!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:48:17'!
test03TreeReportForPortfolioWithMoreThanOneChildReturns

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (PortfolioTreeReport with: familyPorfolio) familyTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	


	! !

!methodRemoval: PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturnsA stamp: 'DB 11/16/2020 15:48:17'!
test03TreeReportForPortfolioWithMoreThanOneChildReturnsA

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	report := (PortfolioTreeReport with: familyPorfolio) familyTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert:  Character tab asString,'Portfolio de hijos' equals: (report at: 3).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Juan' equals: (report at: 4).	
	self assert:  Character tab asString,Character tab asString,'Cuenta de Angeles' equals: (report at: 5).	


	!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:48:21'!
test02TreeReportForPortfolioWithOneChildReturns

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	! !

!methodRemoval: PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturnsA stamp: 'DB 11/16/2020 15:48:21'!
test02TreeReportForPortfolioWithOneChildReturnsA

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	portfolio add: myAccount.
	
	report := (PortfolioTreeReport with: portfolio) familyTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Portfolio de la familia' equals: (report at: 1).
	self assert:  Character tab asString,'Cuenta mia' equals: (report at: 2)

	!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:48:57' prior: 50888855!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 2).

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:50:38' prior: 50889065!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount portfolio |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 2).

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:52:53' prior: 50889099!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount portfolio |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 5).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 5).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:54:41' prior: 50889150!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 5).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 5).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:55:15' prior: 50889227!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 5 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:55:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:55:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 15:55:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:55:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:55:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:55:19'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:55:19'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:55:31' prior: 50889304!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 13 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:55:36'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:55:36'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 15:55:36'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:55:36'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:55:36'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:55:36'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:55:36'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:57:23' prior: 50889411!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 30 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 13 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:57:47' prior: 50889518!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 30 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 13 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	

	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 15:57:51' prior: 50889598!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 20 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 13 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	

	! !

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:58:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:58:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 15:58:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 15:58:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 15:58:01'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:58:01'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:58:01'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:59:00'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 15:59:49' prior: 50888719!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 15:59:51'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 16:00:25' prior: 50889791!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs, self balance.
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:00:29'!
ERROR!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 16:00:54' prior: 50889816!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs, self balance.
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:01:19'!
ERROR!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 16:02:31' prior: 50889842!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs, 'Balance = ',(self balance asString).
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:02:34'!
ERROR!

self balance asString!

 report size!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:04:31' prior: 50889678!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 20 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 15 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	
	self assert: Character tab asString, Character tab asString,'Balance = -50' equals: (report at: 14).	
	self assert: Character tab asString,'Balance = -50' equals: (report at: 15).	
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:04:53'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:07:03'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:07:24'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:08:02'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:08:17' prior: 50889896!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 20 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 15 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	
	self assert: Character tab asString, Character tab asString,'Balance = -20' equals: (report at: 14).	
	self assert: Character tab asString,'Balance = -50' equals: (report at: 15).	
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:08:18'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:08:50' prior: 50889999!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 20 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 15 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	
	self assert: Character tab asString, Character tab asString,'Balance = -20' equals: (report at: 14).	
	self assert: Character tab asString,'Balance = 20' equals: (report at: 15).	
	! !
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:09:32' prior: 50890089!
test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild

	|  familyPorfolio childPortfolio report  angelesAccount childAccount juansAccount anotherAccount |
	
	familyPorfolio :=  Portfolio named: 'Portfolio de la familia'.
	childPortfolio := Portfolio named: 'Portfolio de hijos'.
	
	childAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 60 on: childAccount.
	Withdraw register: 20 on: childAccount.
	
	juansAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angelesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	anotherAccount := ReceptiveAccount named: 'Ahother account'.
	
	Deposit register: 40 on: juansAccount .
	Withdraw register: 10 on: juansAccount .
	
	Transfer register: 50 from: angelesAccount  to: anotherAccount. 
	
	childPortfolio add: juansAccount.
	childPortfolio add: angelesAccount.
	
	familyPorfolio add: childAccount.
	familyPorfolio add: childPortfolio.
	
	
	report := (PortfolioSpecialTreeReport with: familyPorfolio) specialTreeReport. 
 	
	self assert: 15 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 60' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 20' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 40' equals: (report at: 5).
	self assert: Character tab asString,'Portfolio de hijos' equals: (report at: 6).
	self assert: Character tab asString, Character tab asString,'Cuenta de Juan' equals: (report at: 7).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Deposit for 40' equals: (report at: 8).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Extraction for 10' equals: (report at: 9).	
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = 30' equals: (report at: 10).	
	self assert: Character tab asString, Character tab asString,'Cuenta de Angeles' equals: (report at: 11).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Output by transfer of 50' equals: (report at: 12).
	self assert: Character tab asString, Character tab asString,Character tab asString,'Balance = -50' equals: (report at: 13).	
	self assert: Character tab asString, Character tab asString,'Balance = -20' equals: (report at: 14).	
	self assert: Character tab asString,'Balance = 20' equals: (report at: 15).	
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:10:08'!
FAILURE!
!Portfolio methodsFor: 'accounts management' stamp: 'DB 11/16/2020 16:12:15' prior: 50889868!
specialfamilyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs,(Character tab asString), 'Balance = ',(self balance asString).
	! !

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:12:19'!
PASSED!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:12:21'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:12:21'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:12:21'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:12:21'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:12:21'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:12:21'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:12:55' prior: 50888272!
test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1).
	self assert:  'Balance = 0' equals: (report at: 2).

	! !

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:12:56'!
FAILURE!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:13:16' prior: 50890316!
test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport

	|  portfolio report |
	
	portfolio :=  Portfolio named: 'Empty Portfolio'.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	self assert: 2 equals: report size.
	self assert:  'Empty Portfolio' equals: (report at: 1).
	self assert:  Character tab asString,'Balance = 0' equals: (report at: 2).

	! !

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:13:17'!
PASSED!
!PortfolioTreeReportTest methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:13:44' prior: 50888886!
test05SpecialTreeReportForPortfolioWithOneChildReturns

	|  portfolio report myAccount |
	
	portfolio :=  Portfolio named: 'Portfolio de la familia'.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	Deposit register: 100 on: myAccount. 
	Withdraw register: 50 on: myAccount.
	portfolio add: myAccount.
	
	report := (PortfolioSpecialTreeReport with: portfolio) specialTreeReport. 
 	
	
	self assert: 6 equals: report size.
	self assert: 'Portfolio de la familia' equals: (report at: 1).
	self assert: Character tab asString,'Cuenta mia' equals: (report at: 2).
	self assert: Character tab asString, Character tab asString,'Deposit for 100' equals: (report at: 3).
	self assert: Character tab asString, Character tab asString,'Extraction for 50' equals: (report at: 4).	
	self assert: Character tab asString, Character tab asString,'Balance = 50' equals: (report at: 5).
	self assert: Character tab asString, 'Balance = 50' equals: (report at: 6).

	! !

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:13:45'!
PASSED!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:13:48'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:13:48'!
PASSED!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:13:48'!
PASSED!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:13:48'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:13:48'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:13:48'!
PASSED!
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:14:29' prior: 50887427!
familyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	! !
!Account methodsFor: 'transactions' stamp: 'DB 11/16/2020 16:15:48'!
reportTreeTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].! !
!Account methodsFor: 'transactions' stamp: 'DB 11/16/2020 16:16:14' prior: 50890431!
reportTreeTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].
! !
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:19:39' prior: 50890263!
specialfamilyTree: aReport tabs: tabs



	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs,(Character tab asString), 'Balance = ',(self balance asString).
	! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'DB 11/16/2020 16:21:16' overrides: 50885536!
reportTo: aReport
	aReport reportAsReceptiveAccount: self. 
	
	! !
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:23:16'!
reportTo: aReport tabs: tabs
	aReport reportAsPortfolio: self tabs: tabs.
	accounts do: [:anAccount |
		aReport reportTo: aReport.
	].
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:23:52' prior: 50887294!
familyTreeReport 

	portfolio reportTo: self tabs: ''.
	^report.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:24:21'!
reportAsReceptiveAccount: anAccount


	portfolio reportTo: self tabs: ''.
	^report.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:24:27'!
reportAsReceptiveAccount: anAccount tabs: tabs.


	portfolio reportTo: self tabs: ''.
	^report.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:25:06' prior: 50890490!
reportAsReceptiveAccount: anAccount tabs: tabs.

	self addMe: tabs,(Character tab asString),(anAccount name)
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:25:07' prior: 50890497!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(Character tab asString),(anAccount name)
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:25:14'!
reportAsPortfolioAccount: anAccount tabs: tabs.
	self addMe: tabs,(Character tab asString),(anAccount name)
	! !

!methodRemoval: PortfolioTreeReport #reportAsReceptiveAccount: stamp: 'DB 11/16/2020 16:25:19'!
reportAsReceptiveAccount: anAccount


	portfolio reportTo: self tabs: ''.
	^report.
	!
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:27:17' prior: 50890471!
reportTo: aReport tabs: tabs
	aReport reportAsPortfolioPrefix: self tabs: tabs.
	accounts do: [:anAccount |
		aReport reportTo: aReport.
	].
	aReport reportAsPortfolioPostfix: self tabs: tabs.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:27:44'!
reportAsPortfolioPrefix: anAccount tabs: tabs.
	self addMe: tabs,(Character tab asString),(anAccount name)
	! !

!methodRemoval: PortfolioTreeReport #reportAsPortfolioAccount:tabs: stamp: 'DB 11/16/2020 16:27:44'!
reportAsPortfolioAccount: anAccount tabs: tabs.
	self addMe: tabs,(Character tab asString),(anAccount name)
	!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:27:53'!
reportAsPortfolioPostfix: anAccount tabs: tabs.
	
	! !
!Account methodsFor: 'transactions' stamp: 'DB 11/16/2020 16:31:21'!
tabs: tabs reportTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'DB 11/16/2020 16:31:21' overrides: 50890549!
tabs: tabs reportTo: aReport
	aReport reportAsReceptiveAccount: self. 
	
	! !
!SummaryReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:31:21' prior: 50885176!
summary

	account tabs: tabs reportTo: self.
	summary add: 'Balance = ' , account balance asString .
	^summary.! !
!TransferNetReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:31:21' prior: 50885183!
transferNet

	account tabs: tabs reportTo: self.
	^net.! !
!Account methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:31:21' prior: 50890549!
tabs: tabs reportTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].! !

!methodRemoval: Account #reportTo: stamp: 'DB 11/16/2020 16:31:21'!
reportTo: aReport

	self transactions do: [ :aTransaction | 
		aTransaction reportTo: aReport.
	].!

!methodRemoval: ReceptiveAccount #reportTo: stamp: 'DB 11/16/2020 16:31:21'!
reportTo: aReport
	aReport reportAsReceptiveAccount: self. 
	
	!
!ReceptiveAccount methodsFor: 'composition' stamp: 'DB 11/16/2020 16:31:43'!
reportTo: aReport tabs: tabs 
	aReport reportAsReceptiveAccount: self tabs: tabs.
	
	! !

!methodRemoval: ReceptiveAccount #tabs:reportTo: stamp: 'DB 11/16/2020 16:31:48'!
tabs: tabs reportTo: aReport
	aReport reportAsReceptiveAccount: self. 
	
	!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:33:03'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:03'!
ERROR!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:33:03'!
ERROR!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:33:03'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:03'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:33:03'!
PASSED!

!testRun: #PortfolioTreeReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:33:08'!
FAILURE!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:08'!
ERROR!

!testRun: #PortfolioTreeReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:33:08'!
ERROR!

!testRun: #PortfolioTreeReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:33:08'!
PASSED!

!testRun: #PortfolioTreeReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:08'!
PASSED!

!testRun: #PortfolioTreeReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:33:08'!
PASSED!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:24'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:33:52'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:34:00'!
ERROR!

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:34:07'!
ERROR!
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:34:31' prior: 50890523!
reportTo: aReport tabs: tabs
	aReport reportAsPortfolioPrefix: self tabs: tabs.
	accounts do: [:anAccount |
		aReport reportTo: aReport tabs: tabs.
	].
	aReport reportAsPortfolioPostfix: self tabs: tabs.
	! !

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:34:52'!
ERROR!
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:35:06' prior: 50890666!
reportTo: aReport tabs: tabs
	aReport reportAsPortfolioPrefix: self tabs: tabs.
	accounts do: [:anAccount |
		anAccount reportTo: aReport tabs: tabs.
	].
	aReport reportAsPortfolioPostfix: self tabs: tabs.
	! !

!testRun: #PortfolioTreeReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:35:48'!
FAILURE!

Object subclass: #PortfolioReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:37:22'!
Object subclass: #PortfolioReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PortfolioReport subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioSpecialTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:37:33'!
PortfolioReport subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:37:39'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:38:05' prior: 50890532!
reportAsPortfolioPrefix: anAccount tabs: tabs.
	self addMe: tabs,anAccount name
	! !

!classRenamed: #PortfolioTreeReportTest as: #PortfolioReportTest stamp: 'DB 11/16/2020 16:38:31'!
Smalltalk renameClassNamed: #PortfolioTreeReportTest as: #PortfolioReportTest!

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:38:35'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:38:35'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:38:35'!
FAILURE!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:38:35'!
PASSED!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:38:35'!
PASSED!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:38:35'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:38:35'!
FAILURE!

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:38:50'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:38:54'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:38:57'!
FAILURE!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:38:57'!
FAILURE!
!Portfolio methodsFor: 'reports' stamp: 'DB 11/16/2020 16:41:12' prior: 50890679!
reportTo: aReport tabs: tabs
	aReport reportAsPortfolioPrefix: self tabs: tabs.
	accounts do: [:anAccount |
		anAccount reportTo: aReport tabs:(Character tab asString), tabs.
	].
	aReport reportAsPortfolioPostfix: self tabs: tabs.
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:41:25' prior: 50890504!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(anAccount name)
	! !

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:42:00'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:42:00'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:42:00'!
PASSED!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:42:00'!
PASSED!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:42:00'!
PASSED!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:42:00'!
PASSED!
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:42:30' prior: 50888752!
specialTreeReport

	portfolio reportTo: self tabs: ''.
	^report.
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:42:57'!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(anAccount name)! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:44:03' prior: 50890801!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(anAccount name).
			
	report := (SummaryReport with: anAccount) summary.
			
	report do: [ :aDetail |
		self addMe: tabs,(Character tab asString), aDetail.
	].! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:44:08' prior: 50890844!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(anAccount name).
			
	report := (SummaryReport with: anAccount) summary.
	report do: [ :aDetail |
		self addMe: tabs,(Character tab asString), aDetail.
	].! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:44:20' prior: 50890855!
reportAsReceptiveAccount: anAccount tabs: tabs| detail |
.
	self addMe: tabs,(anAccount name).
			
	detail := (SummaryReport with: anAccount) summary.
	detail do: [ :aDetail |
		self addMe: tabs,(Character tab asString), aDetail.
	].! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:44:29' prior: 50890866!
reportAsReceptiveAccount: anAccount tabs: tabs

	| detail |.
	self addMe: tabs,(anAccount name).
			
	detail := (SummaryReport with: anAccount) summary.
	detail do: [ :aDetail |
		self addMe: tabs,(Character tab asString), aDetail.
	].! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:44:59' prior: 50890838!
reportAsReceptiveAccount: anAccount tabs: tabs

	| detail |.
	self addMe: tabs,(anAccount name).
			
	detail := (SummaryReport with: anAccount) summary.
	detail do: [ :aDetail |
		self addMe: tabs,(Character tab asString), aDetail.
	].! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:41:25' prior: 50890877!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,(anAccount name)
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:45:30'!
reportAsPortfolioPostfix: anAccount tabs: tabs.
	
	! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:46:05' prior: 50890905!
reportAsPortfolioPostfix: anAccount tabs: tabs.
	
	self addMe: tabs,(Character tab asString), 'Balance = ',(self balance asString).! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:46:33'!
reportAsPortfolioPrefix: anAccount tabs: tabs.
	self addMe: tabs,anAccount name
	! !

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:46:45'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:46:45'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:46:45'!
PASSED!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:46:45'!
ERROR!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:46:45'!
ERROR!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:46:45'!
ERROR!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:46:48'!
ERROR!
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:47:30' prior: 50890911!
reportAsPortfolioPostfix: anAccount tabs: tabs.
	
	self addMe: tabs,(Character tab asString), 'Balance = ',(anAccount balance asString).! !

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:47:32'!
PASSED!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:47:33'!
PASSED!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:47:34'!
PASSED!

!methodRemoval: Portfolio #specialfamilyTree:tabs: stamp: 'DB 11/16/2020 16:47:50'!
specialfamilyTree: aReport tabs: tabs



	aReport addMe: tabs,self name.
	accounts do: [:anAccount | |report|
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [
			aReport addMe: tabs,(Character tab asString),(anAccount name).
			
			report := (SummaryReport with: anAccount) summary.
			
			report do: [ :aDetail |
				aReport addMe: tabs,(Character tab asString),(Character tab asString), aDetail.
			]
			
		].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount specialfamilyTree: aReport tabs: tabs,(Character tab asString)].
	].
	aReport addMe: tabs,(Character tab asString), 'Balance = ',(self balance asString).
	!

!methodRemoval: Portfolio #familyTree:tabs: stamp: 'DB 11/16/2020 16:47:55'!
familyTree: aReport tabs: tabs

	aReport addMe: tabs,self name.
	accounts do: [:anAccount |
		(anAccount isKindOf: ReceptiveAccount) ifTrue: [aReport addMe: tabs,(Character tab asString),(anAccount name)].
		(anAccount isKindOf: Portfolio) ifTrue: [anAccount familyTree: aReport tabs: tabs,(Character tab asString)].
	].
	!
!PortfolioReport methodsFor: 'no messages' stamp: 'DB 11/16/2020 16:49:12'!
reportAsPortfolioPostfix: anAccount tabs: tabs
	self subclassResponsibility .! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:49:14' prior: 50891008!
reportAsPortfolioPostfix: anAccount tabs: tabs
	self subclassResponsibility.! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:49:30' prior: 50891014!
reportAsPortfolioPostfix: anAccount tabs: tabs
	self subclassResponsibility.! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:49:43' prior: 50890954 overrides: 50891020!
reportAsPortfolioPostfix: anAccount tabs: tabs
	
	self addMe: tabs,(Character tab asString), 'Balance = ',(anAccount balance asString).! !
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:49:48' prior: 50890919!
reportAsPortfolioPrefix: anAccount tabs: tabs
	self addMe: tabs,anAccount name
	! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:49:57'!
reportAsPortfolioPrefix: anAccount tabs: tabs
	self subclassResponsibility.! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:50:26'!
reportAsReceptiveAccount: anAccount tabs: tabs
	self subclassResponsibility.! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:50:56'!
addMe: name| report |
.

	report add: name.! !

PortfolioReport subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioSpecialTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:51:07'!
PortfolioReport subclass: #PortfolioSpecialTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTreeReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:51:13'!
PortfolioReport subclass: #PortfolioTreeReport
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #PortfolioReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:51:30' prior: 50891053!
addMe: name! !

Object subclass: #PortfolioReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioReport category: 'Portfolio-Solucion' stamp: 'DB 11/16/2020 16:51:36'!
Object subclass: #PortfolioReport
	instanceVariableNames: 'portfolio report'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:51:46' prior: 50891089!
addMe: name
	! !
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:51:57' prior: 50891106!
addMe: name
	report add: name.! !

!methodRemoval: PortfolioSpecialTreeReport #addMe: stamp: 'DB 11/16/2020 16:52:05'!
addMe: name.

	report add: name.

	!

!methodRemoval: PortfolioTreeReport #addMe: stamp: 'DB 11/16/2020 16:52:10'!
addMe: name.

	report add: name.

	!

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:52:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'DB 11/16/2020 16:52:20'!
PASSED!

!testRun: #ReportSummaryTest #test06SummaryReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test07SummaryReportForDepositReturnsBalanceAndDeposit stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test08SummaryReportForWithdrawReturnsBalanceAndWithdraw stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test09SummaryReportForTransferReturnsBalanceAndTransferTransaction stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test10SummaryOfPortfolioWithoutAccountsHasOnlyBalance stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test11SummaryOfPortfolioWithOneAccount stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportSummaryTest #test12SummaryOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'DB 11/16/2020 16:52:25'!
PASSED!

!testRun: #ReportTransferNetTest #test01TransferNetReportForEmptyAccountReturnsOnlyBalance stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test02TransferNetReportForDepositReturnsZero stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test03TransferNetReportForWithdrawReturnsZero stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test04TransferNetReportForATransferReturnsNetBalance stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test05TransferNetOfAPortfolioWithoutAccountsReturnsZero stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test06TransferNetOfAPortfolioWithOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 16:52:28'!
PASSED!

!testRun: #ReportTransferNetTest #test07TransferNetOfAPortfolioWithMoreThanOneAccountReturnsTransferNetAccountValue stamp: 'DB 11/16/2020 16:52:28'!
PASSED!
!PortfolioReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:53:01'!
initializeWith: aPortfolio
	portfolio := aPortfolio.
	report := OrderedCollection new.! !
!PortfolioReport class methodsFor: 'nil' stamp: 'DB 11/16/2020 16:53:33'!
with: aPortfolio

	^self new initializeWith: aPortfolio 
	! !

!methodRemoval: PortfolioSpecialTreeReport class #with: stamp: 'DB 11/16/2020 16:53:42'!
with: aPortfolio

	^self new initializeWith: aPortfolio 
	!

!methodRemoval: PortfolioTreeReport class #with: stamp: 'DB 11/16/2020 16:53:47'!
with: aPortfolio

	^self new initializeWith: aPortfolio 
	!

!methodRemoval: PortfolioTreeReport #initializeWith: stamp: 'DB 11/16/2020 16:53:58'!
initializeWith: aPortfolio
	portfolio := aPortfolio.
	report := OrderedCollection new.!

!methodRemoval: PortfolioSpecialTreeReport #initializeWith: stamp: 'DB 11/16/2020 16:54:03'!
initializeWith: aPortfolio
	portfolio := aPortfolio.
	report := OrderedCollection new.!
!PortfolioSpecialTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:55:18' prior: 50891035 overrides: 50891041!
reportAsPortfolioPrefix: anAccount tabs: tabs

	self addMe: tabs,anAccount name
	! !
!PortfolioTreeReport methodsFor: 'as yet unclassified' stamp: 'DB 11/16/2020 16:55:43' prior: 50890899 overrides: 50891047!
reportAsReceptiveAccount: anAccount tabs: tabs.
	self addMe: tabs,anAccount name
	! !

!testRun: #PortfolioReportTest #test01TreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

!testRun: #PortfolioReportTest #test02TreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

!testRun: #PortfolioReportTest #test03TreeReportForPortfolioWithMoreThanOneChildReturns stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

!testRun: #PortfolioReportTest #test04SpecialTreeReportForEmptyPortfolioReturnsEmptyReport stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

!testRun: #PortfolioReportTest #test05SpecialTreeReportForPortfolioWithOneChildReturns stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

!testRun: #PortfolioReportTest #test06SpecialTreeReportForPortfolioWithOneChildAndPorfolioChild stamp: 'DB 11/16/2020 16:55:55'!
PASSED!

----SNAPSHOT----(16 November 2020 16:55:58) CuisUniversity-4384.image priorSource: 17813273!