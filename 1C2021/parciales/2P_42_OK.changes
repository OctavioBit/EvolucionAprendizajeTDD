

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (5 July 2021 16:59:52) as C:\Users\Mart√≠n\Desktop\windows64\CuisUniversity-4532.image!


----End fileIn of C:\Users\Mart√≠n\Downloads\ISW1-2021-1C-2doParcial.st----!

Object subclass: #RondaDeTruco
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:37:21'!
Object subclass: #RondaDeTruco
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTrucoTest category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:37:32'!
TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

----End fileIn of C:\Users\Mart√≠n\Desktop\MarsRover-WithHeading.st----!
!RondaDeTrucoTest methodsFor: 'no messages' stamp: 'MS 7/5/2021 17:49:05'!
test01! !

----End fileIn of C:\Users\Mart√≠n\Desktop\MarsRover-WithHeading.st----!
!RondaDeTrucoTest methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 17:54:36'!
test01NoSePuedeCrearRondaConCartasRepetidas
	! !

!methodRemoval: RondaDeTrucoTest #test01 stamp: 'MS 7/5/2021 17:54:40'!
test01!
!RondaDeTrucoTest methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 17:55:33' prior: 50860986!
test01NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie rondaDeTruco |
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.! !
!RondaDeTrucoTest methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 17:56:47'!
test01NoSePuedeCrearRondaConCartasInsuficientes

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.! !

!methodRemoval: RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 17:56:57'!
test01NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie rondaDeTruco |
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 17:57:15'!
ERROR!
!RondaDeTruco class methodsFor: 'instance creation' stamp: 'MS 7/5/2021 17:57:30'!
mano: anOrderedCollection pie: anOrderedCollection2 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeMano: anOrderedCollection pie: anOrderedCollection2 ! !
!RondaDeTruco class methodsFor: 'instance creation' stamp: 'MS 7/5/2021 17:58:03' prior: 50861025!
mano: cartasDeMano pie: cartasDePie 
	^self new initializeMano: cartasDeMano pie: cartasDePie ! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 17:58:06'!
ERROR!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:58:19'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasDeMano_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:58:19'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasDeMano_CHANGE_ME cartasDePie_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 17:58:19'!
initializeMano: cartasDeMano pie: cartasDePie 
	self shouldBeImplemented.
	cartasDeMano_CHANGE_ME := cartasDeMano.
	cartasDePie_CHANGE_ME := cartasDePie.! !

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:58:48'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasDeMano_CHANGE_ME cartasDePie_CHANGE_ME cartasMano'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:58:49'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasDeMano_CHANGE_ME cartasDePie_CHANGE_ME cartasMano cartasPie'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 17:58:46' prior: 50861063!
initializeMano: cartasDeMano pie: cartasDePie 
	cartasMano := cartasDeMano.
	cartasPie := cartasDePie.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 17:58:52'!
PASSED!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 17:58:52'!
PASSED!

Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 17:59:01'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:00:51' prior: 50861002!
test01NoSePuedeCrearRondaConCartasInsuficientes

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorInvalidAmountOfCards.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:03:18' prior: 50861117!
test01NoSePuedeCrearRondaConCartasInsuficientes

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCantidadDeCartasInvalida.! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 18:03:56'!
errorCantidadDeCartasInvalida
	
	^'El truco se juega con 3 cartas para cada jugador'! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:04:28'!
FAILURE!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:04:28'!
FAILURE!
!RondaDeTruco class methodsFor: 'instance creation' stamp: 'MS 7/5/2021 18:05:08' prior: 50861036!
mano: cartasDeMano pie: cartasDePie 
	
	self assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	
	^self new initializeMano: cartasDeMano pie: cartasDePie ! !
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:05:35'!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	self false.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:05:42'!
FAILURE!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:05:42'!
FAILURE!
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:06:11' prior: 50861165!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	
	^ self error: self errorCantidadDeCartasInvalida.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:06:14'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:06:29'!
test01NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCantidadDeCartasInvalida.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:07:24'!
test02NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCantidadDeCartasInvalida.! !

!methodRemoval: RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:07:24'!
test01NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection new.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCantidadDeCartasInvalida.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:08:25' prior: 50861200!
test02NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection new.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCantidadDeCartasInvalida.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:08:54' prior: 50861226!
test02NoSePuedeCrearRondaConCartasRepetidas

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeBasto.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCartasRepetidas.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:08:58'!
ERROR!
!RondaDeTruco class methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 18:09:10'!
errorCartasRepetidas
	self shouldBeImplemented.! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 18:09:40' prior: 50861264!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas'! !
!RondaDeTruco class methodsFor: 'instance creation' stamp: 'MS 7/5/2021 18:10:12' prior: 50861157!
mano: cartasDeMano pie: cartasDePie 
	
	self assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	self assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie.
	
	^self new initializeMano: cartasDeMano pie: cartasDePie ! !
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:10:27'!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	
	^ self error: self errorCartasRepetidas .! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:10:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:10:28'!
FAILURE!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:10:28'!
FAILURE!
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:11:43' prior: 50861178!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	
	^ ((cartasDeMano size = 3) and: (cartasDePie size = 3)) ifFalse: [^ self error: self errorCantidadDeCartasInvalida].
	
	! !
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:11:52' prior: 50861304!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie.
	
	((cartasDeMano size = 3) and: (cartasDePie size = 3)) ifFalse: [^ self error: self errorCantidadDeCartasInvalida].
	
	! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:11:55'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:11:55'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:24:42'!
test03ManoGanaPrimerySegundoEnfrentamiento

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeEspada with: CartaDeTruco anchoDeBasto.
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCartasRepetidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:25:22' prior: 50861329!
test03ManoGanaPrimerySegundoEnfrentamiento

	| cartasDeMano cartasDePie |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	self should: [ RondaDeTruco mano: cartasDeMano pie: cartasDePie. ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCartasRepetidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:25:38' prior: 50861347!
test03ManoGanaPrimerySegundoEnfrentamiento

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:26:50'!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
! !

!methodRemoval: RondaDeTrucoTest #test03ManoGanaPrimerySegundoEnfrentamiento stamp: 'MS 7/5/2021 18:26:50'!
test03ManoGanaPrimerySegundoEnfrentamiento

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:27:03'!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:29:16' prior: 50861381!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto) ] 
		raise: Error 
		withMessageText: RondaDeTruco errorCartasRepetidas.! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:29:28'!
ERROR!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:30:03' prior: 50861429!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto) ] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:30:10'!
ERROR!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:30:10'!
ERROR!
!RondaDeTruco class methodsFor: 'asserting' stamp: 'MS 7/5/2021 18:33:09' prior: 50861286!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	
	^ (cartasDeMano anySatisfy: [:cartaDeMano | cartasDePie includes: cartaDeMano.]) ifTrue: [^ self error: self errorCartasRepetidas.].
	
	! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 18:33:11'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 18:33:11'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:33:11'!
ERROR!

!testRun: #RondaDeTrucoTest #test04NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 18:33:11'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:33:11'!
ERROR!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:33:43'!
ERROR!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:33:43'!
ERROR!
!RondaDeTruco class methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 18:33:49'!
errorEnfrentarCartasNoPoseidas
	self shouldBeImplemented.! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 18:34:17' prior: 50861516!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador'! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:34:23'!
FAILURE!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:34:23'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 18:35:13'!
enfrentar: cartaDePie con: cartaDeMano
	^ self error: self class errorEnfrentarCartasNoPoseidas ! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:35:15'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:36:44' prior: 50861413!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	self should: [ rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto) ] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:36:55' prior: 50861543!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	self should: [ rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto) ] 
		raise: Error 
		withMessageText: RondaDeTruco errorReutilizarCartas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:37:39' prior: 50861565!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto).
	
	self should: [rondaDeTruco enfrentar: CartaDeTruco anchoDeEspada con: (CartaDeTruco anchoDeBasto) ] 
		raise: Error 
		withMessageText: RondaDeTruco errorReutilizarCartas.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 18:37:40'!
ERROR!
!RondaDeTruco methodsFor: 'error handling' stamp: 'MS 7/5/2021 18:37:43' overrides: 16881409!
error: aString 
	self shouldBeImplemented.! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 18:38:12'!
errorReutilizarCartas
	^ 'No se pueden jugar cartas que ya fueron utilizadas'! !

!methodRemoval: RondaDeTruco #error: stamp: 'MS 7/5/2021 18:38:31'!
error: aString 
	self shouldBeImplemented.!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:38:34'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:38:52'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 18:38:54'!
ERROR!

!testRun: #RondaDeTrucoTest #test04NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 18:38:54'!
ERROR!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 18:47:29' prior: 50861533!
enfrentar: cartaDePie con: cartaDeMano
	

	^ self error: self class errorEnfrentarCartasNoPoseidas ! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:52:19' prior: 50861454!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarCarta: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 18:52:34'!
jugarCarta: cartaDeTruco

	^ self error: self class errorEnfrentarCartasNoPoseidas ! !

!methodRemoval: RondaDeTruco #enfrentar:con: stamp: 'MS 7/5/2021 18:52:36'!
enfrentar: cartaDePie con: cartaDeMano
	

	^ self error: self class errorEnfrentarCartasNoPoseidas !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 18:52:38'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:53:02' prior: 50861587!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 18:59:00'!
test04

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarCarta: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarCarta: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco jugadaInvalida.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:08:01'!
juegaMano: cartaDeTruco

	^ self error: self class errorEnfrentarCartasNoPoseidas ! !

!methodRemoval: RondaDeTruco #jugarCarta: stamp: 'MS 7/5/2021 19:08:01'!
jugarCarta: cartaDeTruco

	^ self error: self class errorEnfrentarCartasNoPoseidas !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:08:15' prior: 50861648!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco juegaMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:08:16'!
PASSED!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:08:25'!
juegaPie: cartaDeTruco

	^ self error: self class errorEnfrentarCartasNoPoseidas ! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:08:57' prior: 50861699!
test04

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco juegaMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco juegaMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:09:46'!
test04NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco juegaMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco juegaMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 19:10:21'!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador'! !

!methodRemoval: RondaDeTrucoTest #test04 stamp: 'MS 7/5/2021 19:13:10'!
test04

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco juegaMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco juegaMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:13:16'!
test05NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.! !

!methodRemoval: RondaDeTrucoTest #test04NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:13:16'!
test04NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:14:10' prior: 50861720!
juegaMano: cartaDeTruco

	^ (cartasMano includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:14:21' prior: 50861755!
juegaPie: cartaDeTruco

	^ (cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:15:07' prior: 50861861!
juegaMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:16:17' prior: 50861875!
juegaMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:16:27'!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	! !
!RondaDeTrucoTest methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 19:16:27' prior: 50861731!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 19:16:27' prior: 50861782!
test04NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!methodRemoval: RondaDeTruco #juegaMano: stamp: 'MS 7/5/2021 19:16:27'!
juegaMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:16:41'!
jugarPie: cartaDeTruco

	^ (cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].! !

!methodRemoval: RondaDeTruco #juegaPie: stamp: 'MS 7/5/2021 19:16:41'!
juegaPie: cartaDeTruco

	^ (cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:18:46' prior: 50861946!
jugarPie: cartaDeTruco

	^ (cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:19:27' prior: 50861889!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	! !

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 19:21:01'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie turno'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:20:59'!
assertTurnoMano
	(turno = 0) ifFalse: [^ self error: self class errorTurnoInvalido ]! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:21:14'!
assertTurnoPie
	(turno = 1) ifFalse: [^ self error: self class errorTurnoInvalido ]! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:21:41' prior: 50861959!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:03'!
ERROR!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:03'!
ERROR!
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 19:22:17' prior: 50861090!
initializeMano: cartasDeMano pie: cartasDePie 

	cartasMano := cartasDeMano.
	cartasPie := cartasDePie.
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 19:22:19'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 19:22:19'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:22:19'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:19'!
FAILURE!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:22:19'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:19'!
FAILURE!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:22'!
FAILURE!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:22'!
FAILURE!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:22:36' prior: 50861918!
test04NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:37'!
FAILURE!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:22:37'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:23:03' prior: 50861966!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	turno := 1.
	! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:23:05'!
PASSED!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:23:21' prior: 50861993!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:23:24'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:24:44' prior: 50861829!
test05NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:24:54' prior: 50862092!
test05NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:25:01'!
ERROR!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:25:17' prior: 50862080!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:25:19'!
FAILURE!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:25:19'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:25:43' prior: 50862068!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	cartasMano remove: cartaDeTruco.
	turno := 1.
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:25:49' prior: 50862143!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	cartasMano remove: cartaDeTruco.
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:25:51'!
ERROR!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:25:51'!
ERROR!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:26:19' prior: 50862168!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	cartasPie remove: cartaDeTruco.
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:26:23'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:30:43'!
test05NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:30:49'!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!methodRemoval: RondaDeTrucoTest #test05NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:30:49'!
test05NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:31:11' prior: 50862220!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:31:34' prior: 50862269!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 19:36:35'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie turno cartasJugadas'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:36:33' prior: 50862158!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	cartasMano remove: cartaDeTruco.
	
	cartasJugadas add: cartaDeTruco.
	turno := 1.
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:36:42' prior: 50862326!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	cartasMano remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	turno := 1.
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:36:46' prior: 50862184!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	cartasPie remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	turno := 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:39:06' prior: 50862348!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	cartasPie remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 0.].
	
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:39:18' prior: 50862337!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	cartasMano remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 1.].
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:39:27' prior: 50862370!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	
	cartasMano remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 1].
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:39:30' prior: 50862358!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	
	cartasPie remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 0].
	
	! !
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 19:39:50' prior: 50862007!
initializeMano: cartasDeMano pie: cartasDePie 

	cartasMano := cartasDeMano.
	cartasPie := cartasDePie.
	turno := 0.
	cartasJugadas := OrderedCollection new.! !
!RondaDeTruco methodsFor: 'nil' stamp: 'MS 7/5/2021 19:40:27'!
enfrentar! !
!RondaDeTruco methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 19:42:28' prior: 50862416!
enfrentar
	| cartaMano cartaPie |
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 0. cartaMano := cartasJugadas at: 1]
				ifFalse:  [cartaMano := cartasJugadas at: 0. cartaPie := cartasJugadas at: 1]! !
!RondaDeTruco methodsFor: 'as yet unclassified' stamp: 'MS 7/5/2021 19:42:33' prior: 50862420!
enfrentar
	| cartaMano cartaPie |
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 0. cartaMano := cartasJugadas at: 1]
				ifFalse:  [cartaMano := cartasJugadas at: 0. cartaPie := cartasJugadas at: 1].! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:42:52'!
jugoMano
	^ turno = 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:43:23' prior: 50862430!
enfrentar
	| cartaMano cartaPie |
	
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 0. cartaMano := cartasJugadas at: 1]
				ifFalse:  [cartaMano := cartasJugadas at: 0. cartaPie := cartasJugadas at: 1].! !

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 19:45:03'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie turno cartasJugadas enfrentamientosMano'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 19:45:04'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie turno cartasJugadas enfrentamientosMano enfrentamientosPie'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:45:01' prior: 50862443!
enfrentar
	| cartaMano cartaPie |
	
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 0. cartaMano := cartasJugadas at: 1]
				ifFalse:  [cartaMano := cartasJugadas at: 0. cartaPie := cartasJugadas at: 1].
				
	(cartaMano mataA: cartaPie) ifTrue: [enfrentamientosMano := enfrentamientosMano +1]
						    ifFalse: [enfrentamientosPie := enfrentamientosPie +1]! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:45:48' prior: 50862472!
enfrentar
	| cartaMano cartaPie |
	
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 0. cartaMano := cartasJugadas at: 1]
				ifFalse:  [cartaMano := cartasJugadas at: 0. cartaPie := cartasJugadas at: 1].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano.] ifFalse: [self ganoPie.]! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:45:59'!
ganoMano
	enfrentamientosMano := enfrentamientosMano +1.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:46:16' prior: 50862499!
ganoMano
	enfrentamientosMano := enfrentamientosMano +1.
	cartasJugadas := OrderedCollection new.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:46:33' prior: 50862504!
ganoMano
	enfrentamientosMano := enfrentamientosMano +1.
	cartasJugadas := OrderedCollection new.
	turno := 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:46:49'!
ganoPie
	enfrentamientosPie := enfrentamientosPie +1.
	cartasJugadas := OrderedCollection new.
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:47:19'!
ERROR!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:47:19'!
ERROR!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:47:53' prior: 50862487!
enfrentar
	| cartaMano cartaPie |
	
	self jugoMano ifTrue: [cartaPie := cartasJugadas at: 1. cartaMano := cartasJugadas at: 2]
				ifFalse:  [cartaMano := cartasJugadas at: 1. cartaPie := cartasJugadas at: 2].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano.] ifFalse: [self ganoPie.]! !

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:47:55'!
ERROR!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:47:55'!
ERROR!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:48:23' prior: 50862510!
ganoMano
	turno := 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:48:27' prior: 50862516!
ganoPie
	turno := 0.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 19:48:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 19:48:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:48:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:48:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:48:28'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:48:28'!
FAILURE!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:48:28'!
FAILURE!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:48:33'!
FAILURE!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:48:33'!
FAILURE!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:48:43' prior: 50862293!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:48:44'!
FAILURE!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:49:03' prior: 50862588!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:49:04'!
PASSED!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 19:49:06'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 19:49:06'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:49:06'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:49:06'!
PASSED!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:49:06'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:49:06'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:49:51'!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:50:31' prior: 50862664!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada.
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:50:58' prior: 50862688!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:51:03' prior: 50862715!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorJuegoTerminado .
		
! !
!RondaDeTruco class methodsFor: 'error description' stamp: 'MS 7/5/2021 19:51:33'!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino'! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 19:51:40' prior: 50862742!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:51:51' prior: 50862439!
jugoMano
	enfrentamientosMano := enfrentamientosMano +1.
	cartasJugadas := OrderedCollection new.
	^ turno = 0.! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:52:01' prior: 50862801!
jugoMano
	^ turno = 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:52:09' prior: 50862549!
ganoMano
	enfrentamientosMano := enfrentamientosMano +1.
	cartasJugadas := OrderedCollection new.
	turno := 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:52:20' prior: 50862553!
ganoPie
	enfrentamientosPie := enfrentamientosPie +1.
	cartasJugadas := OrderedCollection new.
	turno := 0.! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:53:22' prior: 50861982!
assertTurnoMano
	(turno = 0) ifFalse: [^ self error: self class errorTurnoInvalido ]! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:53:36' prior: 50862383!
jugarMano: cartaDeTruco

	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoMano.
	self assertRondaTerminada.
	
	cartasMano remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 1].
	! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:53:40' prior: 50862396!
jugarPie: cartaDeTruco

	(cartasPie includes: cartaDeTruco) ifFalse:[	self error: self class errorEnfrentarCartasNoPoseidas].
	
	self assertTurnoPie.
	self assertRondaTerminada.
	
	cartasPie remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 0].
	
	! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:53:49'!
assertRondaTerminada! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:54:14' prior: 50862858!
assertRondaTerminada
	^ (enfrentamientosMano = 2) or: enfrentamientosPie = 2.! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 19:54:20' prior: 50862862!
assertRondaTerminada
	^ (enfrentamientosMano = 2) or: (enfrentamientosPie = 2).! !
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 19:54:45' prior: 50862409!
initializeMano: cartasDeMano pie: cartasDePie 

	cartasMano := cartasDeMano.
	cartasPie := cartasDePie.
	turno := 0.
	cartasJugadas := OrderedCollection new.
	enfrentamientosPie := 0.
	enfrentamientosMano := 0.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:54:48'!
FAILURE!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:54:48'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:55:11' prior: 50862819!
ganoPie
	enfrentamientosPie := enfrentamientosPie +1.
	cartasJugadas := OrderedCollection new.
	turno := 1.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:55:16'!
FAILURE!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:55:16'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:57:52' prior: 50862530!
enfrentar
	| cartaMano cartaPie |
	
	self jugoMano ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano.] ifFalse: [self ganoPie.]! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:57:54'!
PASSED!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:57:54'!
FAILURE!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:57:54'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 19:58:24' prior: 50862903!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano.] ifFalse: [self ganoPie.]! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 19:58:26'!
PASSED!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:58:26'!
FAILURE!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 19:58:26'!
FAILURE!

 (enfrentamientosMano = 2) or: (enfrentamientosPie = 2).!
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 20:01:47' prior: 50862868!
assertRondaTerminada
	((enfrentamientosMano = 2) or: (enfrentamientosPie = 2)) ifTrue: [^ self error: self class errorRondaTerminada ].! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 20:01:49' prior: 50862983!
assertRondaTerminada
	((enfrentamientosMano = 2) or: (enfrentamientosPie = 2)) ifTrue: [^ self error: self class errorRondaTerminada].! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:01:51'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:07:11'!
test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:07:47' prior: 50863000!
test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:08:03' prior: 50863028!
test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:08:43'!
FAILURE!

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:08:43'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:09:25' prior: 50862942!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:09:38' prior: 50863084!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie]
	ifFalse: [].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:10:24' prior: 50863097!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie]
	ifFalse: [turno := 0].! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:10:27'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:11:44'!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:11:53' prior: 50863128!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:12:07' prior: 50863153!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:12:13'!
ERROR!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:12:13'!
ERROR!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:12:27' prior: 50863178!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:12:30'!
FAILURE!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:12:30'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:14:00' prior: 50863111!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie]
	ifFalse: [self empardado].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:14:11' prior: 50863250!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie] 	ifFalse: [self empardado].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:17:39'!
empardado! !

!classDefinition: #RondaDeTruco category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 20:19:13'!
Object subclass: #RondaDeTruco
	instanceVariableNames: 'cartasMano cartasPie turno cartasJugadas enfrentamientosMano enfrentamientosPie primerRondaParda'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:19:11' prior: 50863278!
empardado
	turno := 0.
	primerRondaParda := true.! !
!RondaDeTruco methodsFor: 'initialization' stamp: 'MS 7/5/2021 20:19:21' prior: 50862874!
initializeMano: cartasDeMano pie: cartasDePie 

	cartasMano := cartasDeMano.
	cartasPie := cartasDePie.
	turno := 0.
	cartasJugadas := OrderedCollection new.
	enfrentamientosPie := 0.
	enfrentamientosMano := 0.
	primerRondaParda  := false.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:20:36' prior: 50862812!
ganoMano
	enfrentamientosMano := enfrentamientosMano +1.
	primerRondaParda ifTrue: [enfrentamientosMano := enfrentamientosMano +1.].
	
	cartasJugadas := OrderedCollection new.
	turno := 0.! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:20:50' prior: 50862890!
ganoPie
	enfrentamientosPie := enfrentamientosPie +1.
	primerRondaParda ifTrue: [enfrentamientosPie := enfrentamientosPie +1.].
	
	cartasJugadas := OrderedCollection new.
	turno := 1.! !

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:20:52'!
FAILURE!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:20:52'!
FAILURE!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:20:57' prior: 50863214!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:22:40'!
FAILURE!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:22:40'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:25:38' prior: 50863292!
empardado
	turno := 0.
	primerRondaParda := true.
	cartasJugadas := OrderedCollection new.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:25:39'!
FAILURE!

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:25:39'!
PASSED!

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:25:39'!
FAILURE!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 20:27:13' prior: 50863264!
enfrentar
	| cartaMano cartaPie |
	
	(self jugoMano) ifTrue: [cartaPie := cartasJugadas first. cartaMano := cartasJugadas second]
				ifFalse:  [cartaMano := cartasJugadas first. cartaPie := cartasJugadas second].
				
	(cartaMano mataA: cartaPie) ifTrue: [self ganoMano].
	(cartaPie mataA: cartaMano) ifTrue: [self ganoPie].
	(cartaPie empardaCon: cartaMano) 	ifTrue: [self empardado].! !

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:27:15'!
PASSED!

----QUIT----(5 July 2021 20:30:09) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (5 July 2021 20:30:16) as C:\Users\Mart√≠n\Desktop\windows64\CuisUniversity-4532.image!

!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 20:39:55'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:39:55'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:39:55'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:44:29'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:44:29'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 20:44:29'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:44:29'!
PASSED!
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 20:44:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:44:29'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:44:30'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:44:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:44:30'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:47:14'!
test03NoManoNopuedeUsarCartasNoPoseidasPorLaMano

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!methodRemoval: RondaDeTrucoTest #test03NoSePuedenUsarCartasNoPoseidas stamp: 'MS 7/5/2021 20:47:14'!
test03NoSePuedenUsarCartasNoPoseidas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:47:32'!
test04PieNopuedeUsarCartasNoPoseidasPorElPie

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:47:39'!
test03ManoNopuedeUsarCartasNoPoseidasPorLaMano

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!methodRemoval: RondaDeTrucoTest #test03NoManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:47:39'!
test03NoManoNopuedeUsarCartasNoPoseidasPorLaMano

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:48:02' prior: 50865040!
test04PieNopuedeUsarCartasNoPoseidasPorElPie

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:48:12'!
test05NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!methodRemoval: RondaDeTrucoTest #test04NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:48:12'!
test04NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:48:17'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:48:17'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:48:17'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:50:07'!
test05ManoNoPuedeReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!methodRemoval: RondaDeTrucoTest #test05NoSePuedenReutilizarCartas stamp: 'MS 7/5/2021 20:50:07'!
test05NoSePuedenReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:50:28'!
test06PieNoPuedeReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:51:00' prior: 50866001!
test06PieNoPuedeReutilizarCartas

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:51:05'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:51:11'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:51:11'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:51:11'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:51:12'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:51:12'!
PASSED!

!methodRemoval: RondaDeTruco class #errorReutilizarCartas stamp: 'MS 7/5/2021 20:51:48'!
errorReutilizarCartas
	^ 'No se pueden jugar cartas que ya fueron utilizadas'!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:51:51'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:51:52'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:51:52'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:51:52'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:51:52'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:53:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:53:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:53:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:53:44'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:54:17'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:54:23'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:54:24'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:54:24'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:54:24'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:54:24'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:55:16'!
PASSED!

!testRun: #RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:55:16'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:55:16'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:55:16'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:56:30'!
test09NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:56:30'!
test08NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:56:38'!
test07NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!methodRemoval: RondaDeTrucoTest #test05NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:56:38'!
test05NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:56:45'!
test08NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test07NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:56:45'!
test07NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:56:51'!
test09NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !

!methodRemoval: RondaDeTrucoTest #test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:56:51'!
test08NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:56:54'!
test10NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test09NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:56:54'!
test09NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:58:25'!
test07NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!methodRemoval: RondaDeTrucoTest #test06NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 20:58:25'!
test06NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:58:30'!
test08NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!methodRemoval: RondaDeTrucoTest #test07NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 20:58:30'!
test07NoSePuedenSaltearTurnos

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:58:44'!
test09NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test08NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 20:58:44'!
test08NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:58:48'!
test10NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !

!methodRemoval: RondaDeTrucoTest #test09NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 20:58:48'!
test09NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 20:58:54'!
test11NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test10NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 20:58:54'!
test10NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:01:46'!
test07PieNoPuedeEmpezarRonda

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:02:39'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:02:47'!
test08NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!methodRemoval: RondaDeTrucoTest #test07NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:02:47'!
test07NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:03:28'!
test09NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!methodRemoval: RondaDeTrucoTest #test08NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:03:28'!
test08NoPuedeIniciarEnfrentamientoQuienPerdio

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:04:51'!
test10NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test09NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:04:51'!
test09NoSePuedeJugarEnRondaTerminada

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:04:58'!
test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !

!methodRemoval: RondaDeTrucoTest #test10NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:04:58'!
test10NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:05:02'!
test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!methodRemoval: RondaDeTrucoTest #test11NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:05:02'!
test11NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:05:22'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:05:22'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:05:22'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:05:22'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:05:22'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:06:05'!
test13
! !
!RondaDeTruco methodsFor: 'testing' stamp: 'MS 7/5/2021 21:06:48'!
puntosMano
	^ enfrentamientosMano ! !
!RondaDeTruco methodsFor: 'testing' stamp: 'MS 7/5/2021 21:06:54'!
puntosPie
	^ enfrentamientosMano ! !
!RondaDeTruco methodsFor: 'testing' stamp: 'MS 7/5/2021 21:06:56' prior: 50871968!
puntosPie
	^ enfrentamientosPie ! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:07:24'!
test13PieGanaDosEnfrentamientosEsGanador
	! !

!methodRemoval: RondaDeTrucoTest #test13 stamp: 'MS 7/5/2021 21:07:27'!
test13
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:07:42' prior: 50871976!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:08:29' prior: 50871983!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:09:04' prior: 50872006!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:09:44' prior: 50872029!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosPie = 2.
	self assert: rondaDeTruco puntosMano = 0.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:10:57'!
test13ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganoMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:11:01'!
test14ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganoMano.
! !

!methodRemoval: RondaDeTrucoTest #test13ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:11:04'!
test13ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganoMano.
!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:11:22' prior: 50872052!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosPie = 2.
	self assert: rondaDeTruco puntosMano = 0.
	self assert: rondaDeTruco ganoPie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:11:56' prior: 50872103!
test14ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganoMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:11:58' prior: 50872184!
test14ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganoMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:12:08' prior: 50872211!
test14ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco puntosMano = 2.
	self assert: rondaDeTruco puntosPie = 0.
	self assert: rondaDeTruco ganaRondaMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:12:17' prior: 50872157!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco puntosPie = 2.
	self assert: rondaDeTruco puntosMano = 0.
	self assert: rondaDeTruco ganaRondaPie.
! !
!RondaDeTruco methodsFor: 'testing' stamp: 'MS 7/5/2021 21:12:47'!
ganaRondaMano
	^ enfrentamientosMano = 2.! !
!RondaDeTruco methodsFor: 'testing' stamp: 'MS 7/5/2021 21:12:54'!
ganaRondaPie
	^ enfrentamientosPie = 2.! !

!methodRemoval: RondaDeTruco #puntosMano stamp: 'MS 7/5/2021 21:13:06'!
puntosMano
	^ enfrentamientosMano !

!methodRemoval: RondaDeTruco #puntosPie stamp: 'MS 7/5/2021 21:13:08'!
puntosPie
	^ enfrentamientosPie !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:13:14' prior: 50872238!
test14ManoGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:13:17' prior: 50872265!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	
	self assert: rondaDeTruco ganaRondaPie.
! !
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:13:20'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:13:20'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:13:20'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:13:20'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:13:21'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:13:21'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:13:21'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:13:21'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:13:21'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:13:21'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:13:21'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:13:21'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:21'!
ERROR!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:21'!
PASSED!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:21'!
ERROR!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:32'!
ERROR!

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:32'!
PASSED!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:32'!
ERROR!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:37'!
ERROR!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:37'!
ERROR!

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:13:47'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:14:58' prior: 50872330!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).

	
	self assert: rondaDeTruco ganaRondaPie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:15:00' prior: 50873250!
test13PieGanaDosEnfrentamientosEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco anchoDeBasto.
	rondaDeTruco jugarMano: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaPie.
! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:15:05'!
PASSED!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:15:08'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:15:12'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:15:12'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:15:12'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:15:12'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:15:12'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:17:08'!
test15PieGanaPardaEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:17:26' prior: 50874140!
test15PieGanaPardaEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaPie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:17:30' prior: 50874164!
test15PieGanaPardaEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaPie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:18:21' prior: 50874188!
test15PieGanaPardaEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro .
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	
	self assert: rondaDeTruco ganaRondaPie.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:18:23' prior: 50874212!
test15PieGanaPardaEsGanador

	| cartasDeMano cartasDePie rondaDeTruco |
	
	cartasDeMano := OrderedCollection with: CartaDeTruco sieteDeOro with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasDePie := OrderedCollection with: CartaDeTruco anchoDeEspada with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco := RondaDeTruco mano: cartasDeMano pie: cartasDePie.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada.
	
	self assert: rondaDeTruco ganaRondaPie.
! !

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:18:25'!
PASSED!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:18:28'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:18:28'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	([
	(cartasMano
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(cartaDeTruco
			cover: (49 to: 60)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{39 to: 47}) ifFalse: [ ^ [
		(self coverAll:
			{75 to: 78}) error:
			([
			([
			(self coverAll:
				{87 to: 90}) class ] valueCoveringAll:
				{92 to: 96}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{98 to: 127}) ] valueCoveringAll:
			{80 to: 85} ]] valueCoveringAll:
		{63 to: 70}.
	[
	(self coverAll:
		{134 to: 137}) assertTurnoMano ] valueCoveringAll:
		{139 to: 153}.
	[
	(self coverAll:
		{157 to: 160}) assertRondaTerminada ] valueCoveringAll:
		{162 to: 181}.
	[
	(cartasMano
		cover: (187 to: 196)
		declaredAt: (28 to: 37)) remove:
		(cartaDeTruco
			cover: (206 to: 217)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{198 to: 204}.
	[
	(cartasJugadas
		cover: (221 to: 233)
		declaredAt: (221 to: 233)) add:
		(cartaDeTruco
			cover: (240 to: 251)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{235 to: 238}.
	[
	([
	([
	(cartasJugadas
		cover: (258 to: 270)
		declaredAt: (221 to: 233)) size ] valueCoveringAll:
		{272 to: 275}) =
		(2 coverAll:
			{279 to: 279}) ] valueCoveringAll:
		{277 to: 277})
		ifTrue: [
			[
			(self coverAll:
				{291 to: 294}) enfrentar ] valueCoveringAll:
				{296 to: 304} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{326 to: 326})
				cover: (317 to: 321)
				declaredAt: (317 to: 321) ]] valueCoveringAll:
		{282 to: 288. 307 to: 314}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:18:28'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	([
	(cartasPie
		cover: (27 to: 35)
		declaredAt: (27 to: 35)) includes:
		(cartaDeTruco
			cover: (47 to: 58)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{37 to: 45}) ifFalse: [
		[
		(self coverAll:
			{71 to: 74}) error:
			([
			([
			(self coverAll:
				{83 to: 86}) class ] valueCoveringAll:
				{88 to: 92}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{94 to: 123}) ] valueCoveringAll:
			{76 to: 81} ]] valueCoveringAll:
		{61 to: 68}.
	[
	(self coverAll:
		{130 to: 133}) assertTurnoPie ] valueCoveringAll:
		{135 to: 148}.
	[
	(self coverAll:
		{152 to: 155}) assertRondaTerminada ] valueCoveringAll:
		{157 to: 176}.
	[
	(cartasPie
		cover: (182 to: 190)
		declaredAt: (27 to: 35)) remove:
		(cartaDeTruco
			cover: (200 to: 211)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{192 to: 198}.
	[
	(cartasJugadas
		cover: (215 to: 227)
		declaredAt: (215 to: 227)) add:
		(cartaDeTruco
			cover: (234 to: 245)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{229 to: 232}.
	[
	([
	([
	(cartasJugadas
		cover: (252 to: 264)
		declaredAt: (215 to: 227)) size ] valueCoveringAll:
		{266 to: 269}) =
		(2 coverAll:
			{273 to: 273}) ] valueCoveringAll:
		{271 to: 271})
		ifTrue: [
			[
			(self coverAll:
				{285 to: 288}) enfrentar ] valueCoveringAll:
				{290 to: 298} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{320 to: 320})
				cover: (311 to: 315)
				declaredAt: (311 to: 315) ]] valueCoveringAll:
		{276 to: 282. 301 to: 308}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:18:28'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:18:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:18:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:18:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:18:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:18:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:18:29'!
PASSED!
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 21:20:11' prior: 50862832!
jugarMano: cartaDeTruco

	self assertManoJuegaCartaValida: cartaDeTruco.
	self assertTurnoMano.
	self assertRondaTerminada.
	
	cartasMano remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 1].
	! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 21:20:26'!
assertManoJuegaCartaValida: cartaDeTruco
	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 21:20:30'!
assertPieJuegaCartaValida: cartaDeTruco
	(cartasMano includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].! !
!RondaDeTruco methodsFor: 'juego' stamp: 'MS 7/5/2021 21:20:48' prior: 50862845!
jugarPie: cartaDeTruco

	self assertPieJuegaCartaValida: cartaDeTruco.
	self assertTurnoPie.
	self assertRondaTerminada.
	
	cartasPie remove: cartaDeTruco.
	cartasJugadas add: cartaDeTruco.
	
	(cartasJugadas size = 2) ifTrue: [self enfrentar] ifFalse: [turno := 0].
	
	! !
!RondaDeTruco methodsFor: 'asserting' stamp: 'MS 7/5/2021 21:20:59' prior: 50875120!
assertPieJuegaCartaValida: cartaDeTruco
	(cartasPie includes: cartaDeTruco) ifFalse: [^ self error: self class errorEnfrentarCartasNoPoseidas].! !
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:21:59'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:21:59'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	(self coverAll:
		{27 to: 30}) assertManoJuegaCartaValida:
		(cartaDeTruco
			cover: (60 to: 71)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{32 to: 58}.
	[
	(self coverAll:
		{75 to: 78}) assertTurnoMano ] valueCoveringAll:
		{80 to: 94}.
	[
	(self coverAll:
		{98 to: 101}) assertRondaTerminada ] valueCoveringAll:
		{103 to: 122}.
	[
	(cartasMano
		cover: (128 to: 137)
		declaredAt: (128 to: 137)) remove:
		(cartaDeTruco
			cover: (147 to: 158)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{139 to: 145}.
	[
	(cartasJugadas
		cover: (162 to: 174)
		declaredAt: (162 to: 174)) add:
		(cartaDeTruco
			cover: (181 to: 192)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{176 to: 179}.
	[
	([
	([
	(cartasJugadas
		cover: (199 to: 211)
		declaredAt: (162 to: 174)) size ] valueCoveringAll:
		{213 to: 216}) =
		(2 coverAll:
			{220 to: 220}) ] valueCoveringAll:
		{218 to: 218})
		ifTrue: [
			[
			(self coverAll:
				{232 to: 235}) enfrentar ] valueCoveringAll:
				{237 to: 245} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{267 to: 267})
				cover: (258 to: 262)
				declaredAt: (258 to: 262) ]] valueCoveringAll:
		{223 to: 229. 248 to: 255}.! !
!Behavior method!
assertManoJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasMano
		cover: (44 to: 53)
		declaredAt: (44 to: 53)) includes:
		(cartaDeTruco
			cover: (65 to: 76)
			declaredAt: (29 to: 40)) ] valueCoveringAll:
		{55 to: 63}) ifFalse: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{114 to: 143}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{79 to: 86}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:21:59'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	(self coverAll:
		{26 to: 29}) assertPieJuegaCartaValida:
		(cartaDeTruco
			cover: (58 to: 69)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{31 to: 56}.
	[
	(self coverAll:
		{73 to: 76}) assertTurnoPie ] valueCoveringAll:
		{78 to: 91}.
	[
	(self coverAll:
		{95 to: 98}) assertRondaTerminada ] valueCoveringAll:
		{100 to: 119}.
	[
	(cartasPie
		cover: (125 to: 133)
		declaredAt: (125 to: 133)) remove:
		(cartaDeTruco
			cover: (143 to: 154)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{135 to: 141}.
	[
	(cartasJugadas
		cover: (158 to: 170)
		declaredAt: (158 to: 170)) add:
		(cartaDeTruco
			cover: (177 to: 188)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{172 to: 175}.
	[
	([
	([
	(cartasJugadas
		cover: (195 to: 207)
		declaredAt: (158 to: 170)) size ] valueCoveringAll:
		{209 to: 212}) =
		(2 coverAll:
			{216 to: 216}) ] valueCoveringAll:
		{214 to: 214})
		ifTrue: [
			[
			(self coverAll:
				{228 to: 231}) enfrentar ] valueCoveringAll:
				{233 to: 241} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{263 to: 263})
				cover: (254 to: 258)
				declaredAt: (254 to: 258) ]] valueCoveringAll:
		{219 to: 225. 244 to: 251}.! !
!Behavior method!
assertPieJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasPie
		cover: (43 to: 51)
		declaredAt: (43 to: 51)) includes:
		(cartaDeTruco
			cover: (63 to: 74)
			declaredAt: (28 to: 39)) ] valueCoveringAll:
		{53 to: 61}) ifFalse: [ ^ [
		(self coverAll:
			{89 to: 92}) error:
			([
			([
			(self coverAll:
				{101 to: 104}) class ] valueCoveringAll:
				{106 to: 110}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{112 to: 141}) ] valueCoveringAll:
			{94 to: 99} ]] valueCoveringAll:
		{77 to: 84}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:22:00'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:22:00'!
PASSED!

!classRemoval: #MarsRoverHeadingWest stamp: 'MS 7/5/2021 21:27:49'!
MarsRoverHeading subclass: #MarsRoverHeadingWest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingSouth stamp: 'MS 7/5/2021 21:27:49'!
MarsRoverHeading subclass: #MarsRoverHeadingSouth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingNorth stamp: 'MS 7/5/2021 21:27:49'!
MarsRoverHeading subclass: #MarsRoverHeadingNorth
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeadingEast stamp: 'MS 7/5/2021 21:27:49'!
MarsRoverHeading subclass: #MarsRoverHeadingEast
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverHeading stamp: 'MS 7/5/2021 21:27:50'!
Object subclass: #MarsRoverHeading
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRover stamp: 'MS 7/5/2021 21:27:50'!
Object subclass: #MarsRover
	instanceVariableNames: 'position head'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

!classRemoval: #MarsRoverTest stamp: 'MS 7/5/2021 21:27:50'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover-WithHeading'!

----End fileIn of C:\Users\Mart√≠n\Desktop\MarsRover-Observer.st----!
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	(self coverAll:
		{27 to: 30}) assertManoJuegaCartaValida:
		(cartaDeTruco
			cover: (60 to: 71)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{32 to: 58}.
	[
	(self coverAll:
		{75 to: 78}) assertTurnoMano ] valueCoveringAll:
		{80 to: 94}.
	[
	(self coverAll:
		{98 to: 101}) assertRondaTerminada ] valueCoveringAll:
		{103 to: 122}.
	[
	(cartasMano
		cover: (128 to: 137)
		declaredAt: (128 to: 137)) remove:
		(cartaDeTruco
			cover: (147 to: 158)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{139 to: 145}.
	[
	(cartasJugadas
		cover: (162 to: 174)
		declaredAt: (162 to: 174)) add:
		(cartaDeTruco
			cover: (181 to: 192)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{176 to: 179}.
	[
	([
	([
	(cartasJugadas
		cover: (199 to: 211)
		declaredAt: (162 to: 174)) size ] valueCoveringAll:
		{213 to: 216}) =
		(2 coverAll:
			{220 to: 220}) ] valueCoveringAll:
		{218 to: 218})
		ifTrue: [
			[
			(self coverAll:
				{232 to: 235}) enfrentar ] valueCoveringAll:
				{237 to: 245} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{267 to: 267})
				cover: (258 to: 262)
				declaredAt: (258 to: 262) ]] valueCoveringAll:
		{223 to: 229. 248 to: 255}.! !
!Behavior method!
assertManoJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasMano
		cover: (44 to: 53)
		declaredAt: (44 to: 53)) includes:
		(cartaDeTruco
			cover: (65 to: 76)
			declaredAt: (29 to: 40)) ] valueCoveringAll:
		{55 to: 63}) ifFalse: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{114 to: 143}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{79 to: 86}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	(self coverAll:
		{26 to: 29}) assertPieJuegaCartaValida:
		(cartaDeTruco
			cover: (58 to: 69)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{31 to: 56}.
	[
	(self coverAll:
		{73 to: 76}) assertTurnoPie ] valueCoveringAll:
		{78 to: 91}.
	[
	(self coverAll:
		{95 to: 98}) assertRondaTerminada ] valueCoveringAll:
		{100 to: 119}.
	[
	(cartasPie
		cover: (125 to: 133)
		declaredAt: (125 to: 133)) remove:
		(cartaDeTruco
			cover: (143 to: 154)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{135 to: 141}.
	[
	(cartasJugadas
		cover: (158 to: 170)
		declaredAt: (158 to: 170)) add:
		(cartaDeTruco
			cover: (177 to: 188)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{172 to: 175}.
	[
	([
	([
	(cartasJugadas
		cover: (195 to: 207)
		declaredAt: (158 to: 170)) size ] valueCoveringAll:
		{209 to: 212}) =
		(2 coverAll:
			{216 to: 216}) ] valueCoveringAll:
		{214 to: 214})
		ifTrue: [
			[
			(self coverAll:
				{228 to: 231}) enfrentar ] valueCoveringAll:
				{233 to: 241} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{263 to: 263})
				cover: (254 to: 258)
				declaredAt: (254 to: 258) ]] valueCoveringAll:
		{219 to: 225. 244 to: 251}.! !
!Behavior method!
assertPieJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasPie
		cover: (43 to: 51)
		declaredAt: (43 to: 51)) includes:
		(cartaDeTruco
			cover: (63 to: 74)
			declaredAt: (28 to: 39)) ] valueCoveringAll:
		{53 to: 61}) ifFalse: [ ^ [
		(self coverAll:
			{89 to: 92}) error:
			([
			([
			(self coverAll:
				{101 to: 104}) class ] valueCoveringAll:
				{106 to: 110}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{112 to: 141}) ] valueCoveringAll:
			{94 to: 99} ]] valueCoveringAll:
		{77 to: 84}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:29:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:29:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:29:29'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:29:29'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:29:30'!
PASSED!
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:29:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:29:30'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:29:30'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:29:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:29:30'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:31:33' overrides: 16927572!
setUp! !

!classDefinition: #RondaDeTrucoTest category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 21:33:09'!
TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: 'cartasMano'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTrucoTest category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 21:33:09'!
TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: 'cartasMano cartasPie'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:33:08' prior: 50877806 overrides: 16927572!
setUp
	cartasMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasPie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).! !

!classDefinition: #RondaDeTrucoTest category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 21:33:59'!
TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: 'cartasMano cartasPie cartasManoParaParda'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!

!classDefinition: #RondaDeTrucoTest category: 'ISW1-2021-1C-2doParcial' stamp: 'MS 7/5/2021 21:34:01'!
TestCase subclass: #RondaDeTrucoTest
	instanceVariableNames: 'cartasMano cartasPie cartasManoParaParda cartasPieParaParda'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-2doParcial'!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:33:58' prior: 50877827 overrides: 16927572!
setUp
	cartasMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasPie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	cartasManoParaParda := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasPieParaParda := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:34:26' prior: 50865061!
test03ManoNopuedeUsarCartasNoPoseidasPorLaMano


	| rondaDeTruco |
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:34:29' prior: 50877878!
test03ManoNopuedeUsarCartasNoPoseidasPorLaMano
	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:34:31'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:34:48' prior: 50865104!
test04PieNopuedeUsarCartasNoPoseidasPorElPie

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:34:49'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:34:54' prior: 50865954!
test05ManoNoPuedeReutilizarCartas

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:34:55'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:35:03' prior: 50866025!
test06PieNoPuedeReutilizarCartas

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto.

	self should: [ rondaDeTruco jugarPie: CartaDeTruco sieteDeOro] 
		raise: Error 
		withMessageText: RondaDeTruco errorEnfrentarCartasNoPoseidas.! !

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:35:05'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:35:13' prior: 50870892!
test07PieNoPuedeEmpezarRonda

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:35:14'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:35:19' prior: 50870690!
test08NoSePuedenSaltearTurnos

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido.! !

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:35:21'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:35:30' prior: 50870963!
test09NoPuedeIniciarEnfrentamientoQuienPerdio

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .! !

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:35:32'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:35:41' prior: 50871011!
test10NoSePuedeJugarEnRondaTerminada

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:35:42'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:36:14' prior: 50871065!
test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	
	| rondaDeTruco |
	rondaDeTruco := RondaDeTruco mano: cartasManoParaParda pie: cartasPieParaParda.
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:36:18' prior: 50878030!
test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasManoParaParda pie: cartasPieParaParda.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:36:21'!
ERROR!

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:36:21'!
ERROR!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:36:18' prior: 50878046!
test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasManoParaParda pie: cartasPieParaParda.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).

	self should: [ rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4)] 
		raise: Error 
		withMessageText: RondaDeTruco errorTurnoInvalido .
		
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:37:16' prior: 50877858 overrides: 16927572!
setUp
	cartasMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasPie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	cartasPieParaParda := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasManoParaParda := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:37:18'!
PASSED!

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:37:20'!
ERROR!

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:37:20'!
ERROR!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:37:37' prior: 50878085 overrides: 16927572!
setUp
	cartasMano := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: CartaDeTruco anchoDeBasto.
	cartasPie := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).
	
	cartasManoParaParda := OrderedCollection with: CartaDeTruco anchoDeEspada with: CartaDeTruco sieteDeEspada with: (CartaDeTruco copaCon: 5).
	cartasPieParaParda := OrderedCollection with: CartaDeTruco sieteDeOro with: (CartaDeTruco bastoCon: 4) with: (CartaDeTruco bastoCon: 5).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:37:39'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:37:48' prior: 50871114!
test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasManoParaParda pie: cartasPieParaParda.
	
	rondaDeTruco jugarMano:  (CartaDeTruco copaCon: 5).
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 5).
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).

	self should: [ rondaDeTruco jugarMano: CartaDeTruco sieteDeEspada] 
		raise: Error 
		withMessageText: RondaDeTruco errorRondaTerminada .
		
! !

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:37:49'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:37:49'!
PASSED!
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:38:16' prior: 50872306!
test14ManoGanaDosEnfrentamientosEsGanador


	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaMano.
! !
!RondaDeTrucoTest methodsFor: 'tests' stamp: 'MS 7/5/2021 21:38:18' prior: 50878216!
test14ManoGanaDosEnfrentamientosEsGanador

	| rondaDeTruco |
	
	rondaDeTruco := RondaDeTruco mano: cartasMano pie: cartasPie.
	
	rondaDeTruco jugarMano: CartaDeTruco anchoDeEspada.
	rondaDeTruco jugarPie: CartaDeTruco sieteDeOro.
	rondaDeTruco jugarMano: CartaDeTruco anchoDeBasto .
	rondaDeTruco jugarPie: (CartaDeTruco bastoCon: 4).
	
	self assert: rondaDeTruco ganaRondaMano.
! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:38:19'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:38:22'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	(self coverAll:
		{27 to: 30}) assertManoJuegaCartaValida:
		(cartaDeTruco
			cover: (60 to: 71)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{32 to: 58}.
	[
	(self coverAll:
		{75 to: 78}) assertTurnoMano ] valueCoveringAll:
		{80 to: 94}.
	[
	(self coverAll:
		{98 to: 101}) assertRondaTerminada ] valueCoveringAll:
		{103 to: 122}.
	[
	(cartasMano
		cover: (128 to: 137)
		declaredAt: (128 to: 137)) remove:
		(cartaDeTruco
			cover: (147 to: 158)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{139 to: 145}.
	[
	(cartasJugadas
		cover: (162 to: 174)
		declaredAt: (162 to: 174)) add:
		(cartaDeTruco
			cover: (181 to: 192)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{176 to: 179}.
	[
	([
	([
	(cartasJugadas
		cover: (199 to: 211)
		declaredAt: (162 to: 174)) size ] valueCoveringAll:
		{213 to: 216}) =
		(2 coverAll:
			{220 to: 220}) ] valueCoveringAll:
		{218 to: 218})
		ifTrue: [
			[
			(self coverAll:
				{232 to: 235}) enfrentar ] valueCoveringAll:
				{237 to: 245} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{267 to: 267})
				cover: (258 to: 262)
				declaredAt: (258 to: 262) ]] valueCoveringAll:
		{223 to: 229. 248 to: 255}.! !
!Behavior method!
assertManoJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasMano
		cover: (44 to: 53)
		declaredAt: (44 to: 53)) includes:
		(cartaDeTruco
			cover: (65 to: 76)
			declaredAt: (29 to: 40)) ] valueCoveringAll:
		{55 to: 63}) ifFalse: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{114 to: 143}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{79 to: 86}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	(self coverAll:
		{26 to: 29}) assertPieJuegaCartaValida:
		(cartaDeTruco
			cover: (58 to: 69)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{31 to: 56}.
	[
	(self coverAll:
		{73 to: 76}) assertTurnoPie ] valueCoveringAll:
		{78 to: 91}.
	[
	(self coverAll:
		{95 to: 98}) assertRondaTerminada ] valueCoveringAll:
		{100 to: 119}.
	[
	(cartasPie
		cover: (125 to: 133)
		declaredAt: (125 to: 133)) remove:
		(cartaDeTruco
			cover: (143 to: 154)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{135 to: 141}.
	[
	(cartasJugadas
		cover: (158 to: 170)
		declaredAt: (158 to: 170)) add:
		(cartaDeTruco
			cover: (177 to: 188)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{172 to: 175}.
	[
	([
	([
	(cartasJugadas
		cover: (195 to: 207)
		declaredAt: (158 to: 170)) size ] valueCoveringAll:
		{209 to: 212}) =
		(2 coverAll:
			{216 to: 216}) ] valueCoveringAll:
		{214 to: 214})
		ifTrue: [
			[
			(self coverAll:
				{228 to: 231}) enfrentar ] valueCoveringAll:
				{233 to: 241} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{263 to: 263})
				cover: (254 to: 258)
				declaredAt: (254 to: 258) ]] valueCoveringAll:
		{219 to: 225. 244 to: 251}.! !
!Behavior method!
assertPieJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasPie
		cover: (43 to: 51)
		declaredAt: (43 to: 51)) includes:
		(cartaDeTruco
			cover: (63 to: 74)
			declaredAt: (28 to: 39)) ] valueCoveringAll:
		{53 to: 61}) ifFalse: [ ^ [
		(self coverAll:
			{89 to: 92}) error:
			([
			([
			(self coverAll:
				{101 to: 104}) class ] valueCoveringAll:
				{106 to: 110}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{112 to: 141}) ] valueCoveringAll:
			{94 to: 99} ]] valueCoveringAll:
		{77 to: 84}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:38:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:38:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:38:30'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:38:30'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:38:31'!
PASSED!
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:38:31'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:38:31'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:38:31'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:38:31'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:38:31'!
PASSED!
!Behavior method!
anchoDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(1 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
espadaCon: unNumero
	^ [
	(self coverAll:
		{24 to: 27})
		palo:
			([
			(self coverAll:
				{35 to: 38}) espada ] valueCoveringAll:
				{40 to: 45})
		numero:
			(unNumero
				cover: (55 to: 62)
				declaredAt: (12 to: 19)) ] valueCoveringAll:
		{29 to: 33. 47 to: 53}.! !
!Behavior method!
espada
	^ #espada coverAll:
		{12 to: 18}.! !
!Behavior method!
palo: unPalo numero: unNumero
	[
	(self coverAll:
		{35 to: 38}) assertN˙meroEsV·lido:
		(unNumero
			cover: (62 to: 69)
			declaredAt: (22 to: 29)) ] valueCoveringAll:
		{40 to: 60}.
	[
	(self coverAll:
		{73 to: 76}) assertPaloEsV·lido:
		(unPalo
			cover: (98 to: 103)
			declaredAt: (7 to: 12)) ] valueCoveringAll:
		{78 to: 96}.
	^ [
	([
	(self coverAll:
		{110 to: 113}) new ] valueCoveringAll:
		{115 to: 117})
		initializePalo:
			(unPalo
				cover: (135 to: 140)
				declaredAt: (7 to: 12))
		numero:
			(unNumero
				cover: (150 to: 157)
				declaredAt: (22 to: 29)) ] valueCoveringAll:
		{119 to: 133. 142 to: 148}.! !
!Behavior method!
assertN˙meroEsV·lido: unNumero
	[
	([
	(unNumero
		cover: (34 to: 41)
		declaredAt: (23 to: 30)) <
		(1 coverAll:
			{45 to: 45}) ] valueCoveringAll:
		{43 to: 43}) ifTrue: [
		[
		(self coverAll:
			{57 to: 60}) error:
			([
			(self coverAll:
				{69 to: 72}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{74 to: 110}) ] valueCoveringAll:
			{62 to: 67} ]] valueCoveringAll:
		{47 to: 53}.
	[
	([
	(unNumero
		cover: (116 to: 123)
		declaredAt: (23 to: 30)) >
		(12 coverAll:
			{127 to: 128}) ] valueCoveringAll:
		{125 to: 125}) ifTrue: [
		[
		(self coverAll:
			{140 to: 143}) error:
			([
			(self coverAll:
				{152 to: 155}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{157 to: 193}) ] valueCoveringAll:
			{145 to: 150} ]] valueCoveringAll:
		{130 to: 136}.
	[
	([
	(unNumero
		cover: (200 to: 207)
		declaredAt: (23 to: 30))
		between:
			(8 coverAll:
				{218 to: 218})
		and:
			(9 coverAll:
				{225 to: 225}) ] valueCoveringAll:
		{209 to: 216. 220 to: 223}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(self coverAll:
				{250 to: 253}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{255 to: 291}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(unNumero
		cover: (297 to: 304)
		declaredAt: (23 to: 30)) isInteger ] valueCoveringAll:
		{306 to: 314}) ifFalse: [
		[
		(self coverAll:
			{327 to: 330}) error:
			([
			(self coverAll:
				{339 to: 342}) numeroDeCartaInvalidoErrorDescription ] valueCoveringAll:
				{344 to: 380}) ] valueCoveringAll:
			{332 to: 337} ]] valueCoveringAll:
		{316 to: 323}.! !
!Behavior method!
assertPaloEsV·lido: unPalo
	^ [
	([
	([
	(self coverAll:
		{33 to: 36}) palos ] valueCoveringAll:
		{38 to: 42}) includes:
		(unPalo
			cover: (54 to: 59)
			declaredAt: (21 to: 26)) ] valueCoveringAll:
		{44 to: 52}) ifFalse: [
		[
		(self coverAll:
			{73 to: 76}) error:
			([
			(self coverAll:
				{85 to: 88}) paloInvalidoErrorDescription ] valueCoveringAll:
				{90 to: 117}) ] valueCoveringAll:
			{78 to: 83} ]] valueCoveringAll:
		{62 to: 69}.! !
!Behavior method!
basto
	^ #basto coverAll:
		{11 to: 16}.! !
!Behavior method!
oro
	^ #oro coverAll:
		{9 to: 12}.! !
!Behavior method!
copa
	^ #copa coverAll:
		{10 to: 14}.! !
!Behavior method!
palos
	"No se puede acceder a self en backtick, por eso se usa CartaDeTruco como receiver - Hernan"
	^ `{CartaDeTruco espada. CartaDeTruco basto. CartaDeTruco oro. CartaDeTruco copa}` coverAll:
		{105 to: 185}.! !
!Behavior method!
initializePalo: unPalo numero: unNumero
	(palo _ unPalo
		cover: (53 to: 58)
		declaredAt: (17 to: 22))
		cover: (45 to: 48)
		declaredAt: (45 to: 48).
	(numero _ unNumero
		cover: (72 to: 79)
		declaredAt: (32 to: 39))
		cover: (62 to: 67)
		declaredAt: (62 to: 67).! !
!Behavior method!
sieteDeEspada
	^ [
	(self coverAll:
		{19 to: 22}) espadaCon:
		(7 coverAll:
			{34 to: 35}) ] valueCoveringAll:
		{24 to: 33}.! !
!Behavior method!
anchoDeBasto
	^ [
	(self coverAll:
		{18 to: 21}) bastoCon:
		(1 coverAll:
			{32 to: 33}) ] valueCoveringAll:
		{23 to: 31}.! !
!Behavior method!
bastoCon: unNumero
	^ [
	(self coverAll:
		{23 to: 26})
		palo:
			([
			(self coverAll:
				{34 to: 37}) basto ] valueCoveringAll:
				{39 to: 43})
		numero:
			(unNumero
				cover: (53 to: 60)
				declaredAt: (11 to: 18)) ] valueCoveringAll:
		{28 to: 32. 45 to: 51}.! !
!Behavior method!
sieteDeOro
	^ [
	(self coverAll:
		{16 to: 19}) oroCon:
		(7 coverAll:
			{28 to: 29}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
oroCon: unNumero
	^ [
	(self coverAll:
		{21 to: 24})
		palo:
			([
			(self coverAll:
				{32 to: 35}) oro ] valueCoveringAll:
				{37 to: 39})
		numero:
			(unNumero
				cover: (49 to: 56)
				declaredAt: (9 to: 16)) ] valueCoveringAll:
		{26 to: 30. 41 to: 47}.! !
!Behavior method!
copaCon: unNumero
	^ [
	(self coverAll:
		{22 to: 25})
		palo:
			([
			(self coverAll:
				{33 to: 36}) copa ] valueCoveringAll:
				{38 to: 41})
		numero:
			(unNumero
				cover: (51 to: 58)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
		{27 to: 31. 43 to: 49}.! !
!Behavior method!
errorCantidadDeCartasInvalida
	^ 'El truco se juega con 3 cartas para cada jugador' coverAll:
		{35 to: 84}.! !
!Behavior method!
mano: cartasDeMano pie: cartasDePie
	[
	(self coverAll:
		{41 to: 44})
		assertCantidadDeCartasValidaMano:
			(cartasDeMano
				cover: (80 to: 91)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (99 to: 109)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{46 to: 78. 93 to: 97}.
	[
	(self coverAll:
		{113 to: 116})
		assertSinCartasRepetidasEntreMano:
			(cartasDeMano
				cover: (153 to: 164)
				declaredAt: (7 to: 18))
		yPie:
			(cartasDePie
				cover: (172 to: 182)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{118 to: 151. 166 to: 170}.
	^ [
	([
	(self coverAll:
		{189 to: 192}) new ] valueCoveringAll:
		{194 to: 196})
		initializeMano:
			(cartasDeMano
				cover: (214 to: 225)
				declaredAt: (7 to: 18))
		pie:
			(cartasDePie
				cover: (232 to: 242)
				declaredAt: (25 to: 35)) ] valueCoveringAll:
		{198 to: 212. 227 to: 230}.! !
!Behavior method!
assertCantidadDeCartasValidaMano: cartasDeMano yPie: cartasDePie
	self coverAll:
		{136 to: 139}.
	[
	([
	([
	([
	(cartasDeMano
		cover: (72 to: 83)
		declaredAt: (35 to: 46)) size ] valueCoveringAll:
		{85 to: 88}) =
		(3 coverAll:
			{92 to: 92}) ] valueCoveringAll:
		{90 to: 90}) and:
		([
		([
		(cartasDePie
			cover: (101 to: 111)
			declaredAt: (54 to: 64)) size ] valueCoveringAll:
			{113 to: 116}) =
			(3 coverAll:
				{120 to: 120}) ] valueCoveringAll:
			{118 to: 118}) ] valueCoveringAll:
		{95 to: 98}) ifFalse: [ ^ [
		(self coverAll:
			{148 to: 151}) error:
			([ self errorCantidadDeCartasInvalida ] valueCoveringAll:
				{153 to: 181}) ] valueCoveringAll:
			{141 to: 146} ]] valueCoveringAll:
		{124 to: 131}.! !

!testRun: #RondaDeTrucoTest #test01NoSePuedeCrearRondaConCartasInsuficientes stamp: 'MS 7/5/2021 21:42:43'!
PASSED!
!Behavior method!
errorCartasRepetidas
	^ 'No se puede jugar al truco con cartas repetidas' coverAll:
		{25 to: 73}.! !
!Behavior method!
assertSinCartasRepetidasEntreMano: cartasDeMano yPie: cartasDePie
	^ [
	([
	(cartasDeMano
		cover: (73 to: 84)
		declaredAt: (36 to: 47)) anySatisfy: [ :cartaDeMano |
		[
		(cartasDePie
			cover: (114 to: 124)
			declaredAt: (55 to: 65)) includes:
			(cartaDeMano
				cover: (136 to: 146)
				declaredAt: (100 to: 110)) ] valueCoveringAll:
			{126 to: 134} ]] valueCoveringAll:
		{86 to: 96}) ifTrue: [ ^ [
		(self coverAll:
			{162 to: 165}) error:
			([
			(self coverAll:
				{174 to: 177}) errorCartasRepetidas ] valueCoveringAll:
				{179 to: 198}) ] valueCoveringAll:
			{167 to: 172} ]] valueCoveringAll:
		{151 to: 157}.! !
!Behavior method!
= unaCarta
	^ [
	([
	(unaCarta
		cover: (18 to: 25)
		declaredAt: (3 to: 10)) isKindOf:
		([
		(self coverAll:
			{37 to: 40}) class ] valueCoveringAll:
			{42 to: 46}) ] valueCoveringAll:
		{27 to: 35}) and: [
		[
		([
		(unaCarta
			cover: (56 to: 63)
			declaredAt: (3 to: 10)) paloEs:
			(palo
				cover: (73 to: 76)
				declaredAt: (73 to: 76)) ] valueCoveringAll:
			{65 to: 71}) and: [
			[
			(unaCarta
				cover: (86 to: 93)
				declaredAt: (3 to: 10)) numeroEs:
				(numero
					cover: (105 to: 110)
					declaredAt: (105 to: 110)) ] valueCoveringAll:
				{95 to: 103} ]] valueCoveringAll:
			{79 to: 82} ]] valueCoveringAll:
		{49 to: 52}.! !
!Behavior method!
paloEs: unPalo
	^ [
	(palo
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		(unPalo
			cover: (26 to: 31)
			declaredAt: (9 to: 14)) ] valueCoveringAll:
		{24 to: 24}.! !
!Behavior method!
numeroEs: unNumero
	^ [
	(numero
		cover: (23 to: 28)
		declaredAt: (23 to: 28)) =
		(unNumero
			cover: (32 to: 39)
			declaredAt: (11 to: 18)) ] valueCoveringAll:
		{30 to: 30}.! !

!testRun: #RondaDeTrucoTest #test02NoSePuedeCrearRondaConCartasRepetidas stamp: 'MS 7/5/2021 21:42:43'!
PASSED!
!Behavior method!
initializeMano: cartasDeMano pie: cartasDePie
	(cartasMano _ cartasDeMano
		cover: (64 to: 75)
		declaredAt: (17 to: 28))
		cover: (50 to: 59)
		declaredAt: (50 to: 59).
	(cartasPie _ cartasDePie
		cover: (92 to: 102)
		declaredAt: (35 to: 45))
		cover: (79 to: 87)
		declaredAt: (79 to: 87).
	(turno _ 0 coverAll:
		{115 to: 115})
		cover: (106 to: 110)
		declaredAt: (106 to: 110).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (136 to: 152)
		declaredAt: (136 to: 152)) new ] valueCoveringAll:
		{154 to: 156})
		cover: (119 to: 131)
		declaredAt: (119 to: 131).
	(enfrentamientosPie _ 0 coverAll:
		{182 to: 182})
		cover: (160 to: 177)
		declaredAt: (160 to: 177).
	(enfrentamientosMano _ 0 coverAll:
		{209 to: 209})
		cover: (186 to: 204)
		declaredAt: (186 to: 204).
	(primerRondaParda _ false coverAll:
		{234 to: 238})
		cover: (213 to: 228)
		declaredAt: (213 to: 228).! !
!Behavior method!
errorEnfrentarCartasNoPoseidas
	^ 'No se pueden jugar cartas no poseÌdas por el jugador' coverAll:
		{35 to: 88}.! !
!Behavior method!
jugarMano: cartaDeTruco
	[
	(self coverAll:
		{27 to: 30}) assertManoJuegaCartaValida:
		(cartaDeTruco
			cover: (60 to: 71)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{32 to: 58}.
	[
	(self coverAll:
		{75 to: 78}) assertTurnoMano ] valueCoveringAll:
		{80 to: 94}.
	[
	(self coverAll:
		{98 to: 101}) assertRondaTerminada ] valueCoveringAll:
		{103 to: 122}.
	[
	(cartasMano
		cover: (128 to: 137)
		declaredAt: (128 to: 137)) remove:
		(cartaDeTruco
			cover: (147 to: 158)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{139 to: 145}.
	[
	(cartasJugadas
		cover: (162 to: 174)
		declaredAt: (162 to: 174)) add:
		(cartaDeTruco
			cover: (181 to: 192)
			declaredAt: (12 to: 23)) ] valueCoveringAll:
		{176 to: 179}.
	[
	([
	([
	(cartasJugadas
		cover: (199 to: 211)
		declaredAt: (162 to: 174)) size ] valueCoveringAll:
		{213 to: 216}) =
		(2 coverAll:
			{220 to: 220}) ] valueCoveringAll:
		{218 to: 218})
		ifTrue: [
			[
			(self coverAll:
				{232 to: 235}) enfrentar ] valueCoveringAll:
				{237 to: 245} ]
		ifFalse: [
			(turno _ 1 coverAll:
				{267 to: 267})
				cover: (258 to: 262)
				declaredAt: (258 to: 262) ]] valueCoveringAll:
		{223 to: 229. 248 to: 255}.! !
!Behavior method!
assertManoJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasMano
		cover: (44 to: 53)
		declaredAt: (44 to: 53)) includes:
		(cartaDeTruco
			cover: (65 to: 76)
			declaredAt: (29 to: 40)) ] valueCoveringAll:
		{55 to: 63}) ifFalse: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{114 to: 143}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{79 to: 86}.! !

!testRun: #RondaDeTrucoTest #test03ManoNopuedeUsarCartasNoPoseidasPorLaMano stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
assertTurnoMano
	[
	([
	(turno
		cover: (19 to: 23)
		declaredAt: (19 to: 23)) =
		(0 coverAll:
			{27 to: 27}) ] valueCoveringAll:
		{25 to: 25}) ifFalse: [ ^ [
		(self coverAll:
			{42 to: 45}) error:
			([
			([
			(self coverAll:
				{54 to: 57}) class ] valueCoveringAll:
				{59 to: 63}) errorTurnoInvalido ] valueCoveringAll:
				{65 to: 82}) ] valueCoveringAll:
			{47 to: 52} ]] valueCoveringAll:
		{30 to: 37}.! !
!Behavior method!
assertRondaTerminada
	[
	([
	([
	(enfrentamientosMano
		cover: (25 to: 43)
		declaredAt: (25 to: 43)) =
		(2 coverAll:
			{47 to: 47}) ] valueCoveringAll:
		{45 to: 45}) or:
		([
		(enfrentamientosPie
			cover: (55 to: 72)
			declaredAt: (55 to: 72)) =
			(2 coverAll:
				{76 to: 76}) ] valueCoveringAll:
			{74 to: 74}) ] valueCoveringAll:
		{50 to: 52}) ifTrue: [ ^ [
		(self coverAll:
			{91 to: 94}) error:
			([
			([
			(self coverAll:
				{103 to: 106}) class ] valueCoveringAll:
				{108 to: 112}) errorRondaTerminada ] valueCoveringAll:
				{114 to: 132}) ] valueCoveringAll:
			{96 to: 101} ]] valueCoveringAll:
		{80 to: 86}.! !
!Behavior method!
jugarPie: cartaDeTruco
	[
	(self coverAll:
		{26 to: 29}) assertPieJuegaCartaValida:
		(cartaDeTruco
			cover: (58 to: 69)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{31 to: 56}.
	[
	(self coverAll:
		{73 to: 76}) assertTurnoPie ] valueCoveringAll:
		{78 to: 91}.
	[
	(self coverAll:
		{95 to: 98}) assertRondaTerminada ] valueCoveringAll:
		{100 to: 119}.
	[
	(cartasPie
		cover: (125 to: 133)
		declaredAt: (125 to: 133)) remove:
		(cartaDeTruco
			cover: (143 to: 154)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{135 to: 141}.
	[
	(cartasJugadas
		cover: (158 to: 170)
		declaredAt: (158 to: 170)) add:
		(cartaDeTruco
			cover: (177 to: 188)
			declaredAt: (11 to: 22)) ] valueCoveringAll:
		{172 to: 175}.
	[
	([
	([
	(cartasJugadas
		cover: (195 to: 207)
		declaredAt: (158 to: 170)) size ] valueCoveringAll:
		{209 to: 212}) =
		(2 coverAll:
			{216 to: 216}) ] valueCoveringAll:
		{214 to: 214})
		ifTrue: [
			[
			(self coverAll:
				{228 to: 231}) enfrentar ] valueCoveringAll:
				{233 to: 241} ]
		ifFalse: [
			(turno _ 0 coverAll:
				{263 to: 263})
				cover: (254 to: 258)
				declaredAt: (254 to: 258) ]] valueCoveringAll:
		{219 to: 225. 244 to: 251}.! !
!Behavior method!
assertPieJuegaCartaValida: cartaDeTruco
	[
	([
	(cartasPie
		cover: (43 to: 51)
		declaredAt: (43 to: 51)) includes:
		(cartaDeTruco
			cover: (63 to: 74)
			declaredAt: (28 to: 39)) ] valueCoveringAll:
		{53 to: 61}) ifFalse: [ ^ [
		(self coverAll:
			{89 to: 92}) error:
			([
			([
			(self coverAll:
				{101 to: 104}) class ] valueCoveringAll:
				{106 to: 110}) errorEnfrentarCartasNoPoseidas ] valueCoveringAll:
				{112 to: 141}) ] valueCoveringAll:
			{94 to: 99} ]] valueCoveringAll:
		{77 to: 84}.! !

!testRun: #RondaDeTrucoTest #test04PieNopuedeUsarCartasNoPoseidasPorElPie stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
assertTurnoPie
	[
	([
	(turno
		cover: (18 to: 22)
		declaredAt: (18 to: 22)) =
		(1 coverAll:
			{26 to: 26}) ] valueCoveringAll:
		{24 to: 24}) ifFalse: [ ^ [
		(self coverAll:
			{41 to: 44}) error:
			([
			([
			(self coverAll:
				{53 to: 56}) class ] valueCoveringAll:
				{58 to: 62}) errorTurnoInvalido ] valueCoveringAll:
				{64 to: 81}) ] valueCoveringAll:
			{46 to: 51} ]] valueCoveringAll:
		{29 to: 36}.! !
!Behavior method!
enfrentar
	| cartaMano cartaPie |
	[
	([
	(self coverAll:
		{39 to: 42}) jugoMano ] valueCoveringAll:
		{44 to: 51})
		ifTrue: [
			(cartaPie _ [
			(cartasJugadas
				cover: (75 to: 87)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{89 to: 93})
				cover: (63 to: 70)
				declaredAt: (24 to: 31).
			(cartaMano _ [
			(cartasJugadas
				cover: (109 to: 121)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{123 to: 128})
				cover: (96 to: 104)
				declaredAt: (14 to: 22) ]
		ifFalse: [
			(cartaMano _ [
			(cartasJugadas
				cover: (159 to: 171)
				declaredAt: (75 to: 87)) first ] valueCoveringAll:
				{173 to: 177})
				cover: (146 to: 154)
				declaredAt: (14 to: 22).
			(cartaPie _ [
			(cartasJugadas
				cover: (192 to: 204)
				declaredAt: (75 to: 87)) second ] valueCoveringAll:
				{206 to: 211})
				cover: (180 to: 187)
				declaredAt: (24 to: 31) ]] valueCoveringAll:
		{54 to: 60. 135 to: 142}.
	[
	([
	(cartaMano
		cover: (222 to: 230)
		declaredAt: (14 to: 22)) mataA:
		(cartaPie
			cover: (239 to: 246)
			declaredAt: (24 to: 31)) ] valueCoveringAll:
		{232 to: 237}) ifTrue: [
		[
		(self coverAll:
			{258 to: 261}) ganoMano ] valueCoveringAll:
			{263 to: 270} ]] valueCoveringAll:
		{249 to: 255}.
	[
	([
	(cartaPie
		cover: (276 to: 283)
		declaredAt: (24 to: 31)) mataA:
		(cartaMano
			cover: (292 to: 300)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{285 to: 290}) ifTrue: [
		[
		(self coverAll:
			{312 to: 315}) ganoPie ] valueCoveringAll:
			{317 to: 323} ]] valueCoveringAll:
		{303 to: 309}.
	[
	([
	(cartaPie
		cover: (329 to: 336)
		declaredAt: (24 to: 31)) empardaCon:
		(cartaMano
			cover: (350 to: 358)
			declaredAt: (14 to: 22)) ] valueCoveringAll:
		{338 to: 348}) ifTrue: [
		[
		(self coverAll:
			{371 to: 374}) empardado ] valueCoveringAll:
			{376 to: 384} ]] valueCoveringAll:
		{362 to: 368}.! !
!Behavior method!
jugoMano
	^ [
	(turno
		cover: (13 to: 17)
		declaredAt: (13 to: 17)) =
		(0 coverAll:
			{21 to: 21}) ] valueCoveringAll:
		{19 to: 19}.! !
!Behavior method!
mataA: cartaPerdedora
	^ [
	([
	(self coverAll:
		{26 to: 29}) valor ] valueCoveringAll:
		{31 to: 35}) <
		([
		(cartaPerdedora
			cover: (39 to: 52)
			declaredAt: (8 to: 21)) valor ] valueCoveringAll:
			{54 to: 58}) ] valueCoveringAll:
		{37 to: 37}.! !
!Behavior method!
valor
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) valorDe:
		(self coverAll:
			{31 to: 34}) ] valueCoveringAll:
		{22 to: 29}.! !
!Behavior method!
valorDe: unaCarta
	[
	([
	(self coverAll:
		{23 to: 26}) ordenDePrioridad ] valueCoveringAll:
		{28 to: 43}) withIndexDo: [ :bloqueDeVerificacion :index |
		[
		([
		(bloqueDeVerificacion
			cover: (94 to: 113)
			declaredAt: (61 to: 80)) value:
			(unaCarta
				cover: (122 to: 129)
				declaredAt: (10 to: 17)) ] valueCoveringAll:
			{115 to: 120}) ifTrue: [ ^ index
				cover: (143 to: 147)
				declaredAt: (83 to: 87) ]] valueCoveringAll:
			{132 to: 138} ]] valueCoveringAll:
		{45 to: 56}.
	[
	(self coverAll:
		{156 to: 159}) error:
		([
		(self coverAll:
			{168 to: 171}) tablaDeValoresIncorrectaOCartaInvalidaErrorDescription ] valueCoveringAll:
			{173 to: 226}) ] valueCoveringAll:
		{161 to: 166}.! !
!Behavior method!
ordenDePrioridad
	^ [
	(ordenDePrioridad
		cover: (22 to: 37)
		declaredAt: (22 to: 37)) ifNil: [
		[
		(self coverAll:
			{48 to: 51}) initializeOrdenDePrioridad ] valueCoveringAll:
			{53 to: 78} ]] valueCoveringAll:
		{39 to: 44}.! !
!Behavior method!
esAnchoDeEspada
	^ [
	([
	(self coverAll:
		{21 to: 24}) esAncho ] valueCoveringAll:
		{26 to: 32}) and: [
		[
		(self coverAll:
			{41 to: 44}) esDeEspada ] valueCoveringAll:
			{46 to: 55} ]] valueCoveringAll:
		{34 to: 37}.! !
!Behavior method!
esAncho
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(1 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esDeEspada
	^ [
	(self coverAll:
		{16 to: 19}) paloEs:
		([
		(self coverAll:
			{29 to: 32}) espada ] valueCoveringAll:
			{34 to: 39}) ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
espada
	^ [
	([
	(self coverAll:
		{12 to: 15}) class ] valueCoveringAll:
		{17 to: 21}) espada ] valueCoveringAll:
		{23 to: 28}.! !
!Behavior method!
esAnchoDeBasto
	^ [
	([
	(self coverAll:
		{20 to: 23}) esAncho ] valueCoveringAll:
		{25 to: 31}) and: [
		[
		(self coverAll:
			{40 to: 43}) esDeBasto ] valueCoveringAll:
			{45 to: 53} ]] valueCoveringAll:
		{33 to: 36}.! !
!Behavior method!
esSieteDeEspadas
	^ [
	([
	(self coverAll:
		{22 to: 25}) esSiete ] valueCoveringAll:
		{27 to: 33}) and: [
		[
		(self coverAll:
			{42 to: 45}) esDeEspada ] valueCoveringAll:
			{47 to: 56} ]] valueCoveringAll:
		{35 to: 38}.! !
!Behavior method!
esSiete
	^ [
	(self coverAll:
		{13 to: 16}) numeroEs:
		(7 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{18 to: 26}.! !
!Behavior method!
esSieteDeOro
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esDeOro
	^ [
	(self coverAll:
		{13 to: 16}) paloEs:
		([
		(self coverAll:
			{26 to: 29}) oro ] valueCoveringAll:
			{31 to: 33}) ] valueCoveringAll:
		{18 to: 24}.! !
!Behavior method!
oro
	^ [
	([
	(self coverAll:
		{9 to: 12}) class ] valueCoveringAll:
		{14 to: 18}) oro ] valueCoveringAll:
		{20 to: 22}.! !
!Behavior method!
ganoMano
	(enfrentamientosMano _ [
	(enfrentamientosMano
		cover: (11 to: 29)
		declaredAt: (11 to: 29)) +
		(1 coverAll:
			{55 to: 55}) ] valueCoveringAll:
		{54 to: 54})
		cover: (34 to: 52)
		declaredAt: (11 to: 29).
	[
	(primerRondaParda
		cover: (59 to: 74)
		declaredAt: (59 to: 74)) ifTrue: [
		(enfrentamientosMano _ [
		(enfrentamientosMano
			cover: (85 to: 103)
			declaredAt: (11 to: 29)) +
			(1 coverAll:
				{129 to: 129}) ] valueCoveringAll:
			{128 to: 128})
			cover: (108 to: 126)
			declaredAt: (11 to: 29) ]] valueCoveringAll:
		{76 to: 82}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (154 to: 170)
		declaredAt: (154 to: 170)) new ] valueCoveringAll:
		{172 to: 174})
		cover: (137 to: 149)
		declaredAt: (137 to: 149).
	(turno _ 0 coverAll:
		{187 to: 187})
		cover: (178 to: 182)
		declaredAt: (178 to: 182).! !
!Behavior method!
empardaCon: cartaParda
	^ [
	([
	(self coverAll:
		{27 to: 30}) valor ] valueCoveringAll:
		{32 to: 36}) =
		([
		(cartaParda
			cover: (40 to: 49)
			declaredAt: (13 to: 22)) valor ] valueCoveringAll:
			{51 to: 55}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test05ManoNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test06PieNoPuedeReutilizarCartas stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
errorTurnoInvalido
	^ 'No puede jugar dos veces el mismo jugador' coverAll:
		{23 to: 65}.! !

!testRun: #RondaDeTrucoTest #test07PieNoPuedeEmpezarRonda stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test08NoSePuedenSaltearTurnos stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test09NoPuedeIniciarEnfrentamientoQuienPerdio stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
esDeBasto
	^ [
	(self coverAll:
		{15 to: 18}) paloEs:
		([
		(self coverAll:
			{28 to: 31}) basto ] valueCoveringAll:
			{33 to: 37}) ] valueCoveringAll:
		{20 to: 26}.! !
!Behavior method!
basto
	^ [
	([
	(self coverAll:
		{11 to: 14}) class ] valueCoveringAll:
		{16 to: 20}) basto ] valueCoveringAll:
		{22 to: 26}.! !
!Behavior method!
esAnchoFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esAncho ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeOro ] valueCoveringAll:
			{43 to: 49}) or: [
			[
			(self coverAll:
				{57 to: 60}) esDeCopa ] valueCoveringAll:
				{62 to: 69} ]] valueCoveringAll:
			{51 to: 53} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
esRey
	^ [
	(self coverAll:
		{11 to: 14}) numeroEs:
		(12 coverAll:
			{26 to: 27}) ] valueCoveringAll:
		{16 to: 24}.! !
!Behavior method!
esCaballo
	^ [
	(self coverAll:
		{15 to: 18}) numeroEs:
		(11 coverAll:
			{30 to: 31}) ] valueCoveringAll:
		{20 to: 28}.! !
!Behavior method!
esSota
	^ [
	(self coverAll:
		{12 to: 15}) numeroEs:
		(10 coverAll:
			{27 to: 28}) ] valueCoveringAll:
		{17 to: 25}.! !
!Behavior method!
esSieteFalso
	^ [
	([
	(self coverAll:
		{18 to: 21}) esSiete ] valueCoveringAll:
		{23 to: 29}) and: [
		[
		([
		(self coverAll:
			{38 to: 41}) esDeCopa ] valueCoveringAll:
			{43 to: 50}) or: [
			[
			(self coverAll:
				{58 to: 61}) esDeBasto ] valueCoveringAll:
				{63 to: 71} ]] valueCoveringAll:
			{52 to: 54} ]] valueCoveringAll:
		{31 to: 34}.! !
!Behavior method!
errorRondaTerminada
	^ 'No puede jugar si la ronda termino' coverAll:
		{24 to: 59}.! !

!testRun: #RondaDeTrucoTest #test10NoSePuedeJugarEnRondaTerminada stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
empardado
	(turno _ 0 coverAll:
		{21 to: 21})
		cover: (12 to: 16)
		declaredAt: (12 to: 16).
	(primerRondaParda _ true coverAll:
		{45 to: 48})
		cover: (25 to: 40)
		declaredAt: (25 to: 40).
	(cartasJugadas _ [
	(OrderedCollection
		cover: (69 to: 85)
		declaredAt: (69 to: 85)) new ] valueCoveringAll:
		{87 to: 89})
		cover: (52 to: 64)
		declaredAt: (52 to: 64).! !

!testRun: #RondaDeTrucoTest #test11NoPuedeJugarPieSiPrimerEnfrentamientoFuePardo stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test12NoSePuedeJugarSiRondaTerminoPorEnfrentamientoPardo stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
ganoPie
	(enfrentamientosPie _ [
	(enfrentamientosPie
		cover: (10 to: 27)
		declaredAt: (10 to: 27)) +
		(1 coverAll:
			{52 to: 52}) ] valueCoveringAll:
		{51 to: 51})
		cover: (32 to: 49)
		declaredAt: (10 to: 27).
	[
	(primerRondaParda
		cover: (56 to: 71)
		declaredAt: (56 to: 71)) ifTrue: [
		(enfrentamientosPie _ [
		(enfrentamientosPie
			cover: (82 to: 99)
			declaredAt: (10 to: 27)) +
			(1 coverAll:
				{124 to: 124}) ] valueCoveringAll:
			{123 to: 123})
			cover: (104 to: 121)
			declaredAt: (10 to: 27) ]] valueCoveringAll:
		{73 to: 79}.
	(cartasJugadas _ [
	(OrderedCollection
		cover: (149 to: 165)
		declaredAt: (149 to: 165)) new ] valueCoveringAll:
		{167 to: 169})
		cover: (132 to: 144)
		declaredAt: (132 to: 144).
	(turno _ 1 coverAll:
		{182 to: 182})
		cover: (173 to: 177)
		declaredAt: (173 to: 177).! !
!Behavior method!
ganaRondaPie
	^ [
	(enfrentamientosPie
		cover: (17 to: 34)
		declaredAt: (17 to: 34)) =
		(2 coverAll:
			{38 to: 38}) ] valueCoveringAll:
		{36 to: 36}.! !

!testRun: #RondaDeTrucoTest #test13PieGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:42:44'!
PASSED!
!Behavior method!
ganaRondaMano
	^ [
	(enfrentamientosMano
		cover: (18 to: 36)
		declaredAt: (18 to: 36)) =
		(2 coverAll:
			{40 to: 40}) ] valueCoveringAll:
		{38 to: 38}.! !

!testRun: #RondaDeTrucoTest #test14ManoGanaDosEnfrentamientosEsGanador stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

!testRun: #RondaDeTrucoTest #test15PieGanaPardaEsGanador stamp: 'MS 7/5/2021 21:42:44'!
PASSED!

----QUIT----(5 July 2021 21:42:55) CuisUniversity-4532.image priorSource: 17016931!