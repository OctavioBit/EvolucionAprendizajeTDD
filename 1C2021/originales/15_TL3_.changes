

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (29 May 2021 21:52:12) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


----End fileIn of /Users/urichami/Downloads/Portfolio-Solucion.st----!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 21:55:42'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 21:55:29'!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver by: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 21:55:52' prior: 50860061!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 21:56:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 21:56:39'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 21:56:39'!
ERROR!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:57:20'!
from: aReceptiveAccount to: aReceptiveAccount2 for: aSmallInteger 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFrom: aReceptiveAccount to: aReceptiveAccount2 for: aSmallInteger ! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:58:05' prior: 50860114!
from: sender to: receiver for: amount 
	^self new initializeFrom: sender to: receiver for: amount ! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 21:58:09'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 21:58:27'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 21:58:27'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 21:58:28'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:58:28'!
initializeFrom: sender to: receiver for: amount 
	self shouldBeImplemented.
	sender_CHANGE_ME := sender.
	receiver_CHANGE_ME := receiver.
	amount_CHANGE_ME := amount.! !
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:59:28' prior: 50860158!
initializeFrom: sender to: receiver for: amount 
	Withdraw register: amount on: sender.
	Deposit register: amount on: receiver.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 21:59:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 21:59:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 21:59:36'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:01:36'!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:01'!
test08assertAccountBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 22:02:01'!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:14'!
test08assertAccountsBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountBalanceAfterTransferIsCorrect stamp: 'UC 5/29/2021 22:02:14'!
test08assertAccountBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:31'!
test08assertAccountBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountsBalanceAfterTransferIsCorrect stamp: 'UC 5/29/2021 22:02:31'!
test08assertAccountsBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:03:19'!
test08assertAccountsBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:03:19'!
test08assertAccountBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:06:16' prior: 50860206!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer pataSender).
	self assert: (receiver hasRegistered: transfer pataReceiver).! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:06:49'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:06:51'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender pataReceiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:06:46' prior: 50860167!
initializeFrom: sender to: receiver for: amount 
	pataSender := Withdraw register: amount on: sender.
	pataReceiver := Deposit register: amount on: receiver.! !
!Transfer methodsFor: 'nil' stamp: 'UC 5/29/2021 22:07:06'!
pataSender
	^pataSender! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:07:13'!
pataReceiver
	^pataReceiver! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:07:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:07:16'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:10:41'!
test10
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer pataSender transfer) equals:  (_transfer).
	self assert: (_transfer pataReceiver transfer) equals:  (_transfer).! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:10:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:10:44'!
ERROR!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:10:44'!
ERROR!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:11:33'!
transfer
	self shouldBeImplemented.! !

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:12:23'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:12:19' prior: 50860440!
transfer
	^transfer! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:14:02'!
register: aValue forTransfer: aTransfer on: account 

	| transaction |
	
	transaction := self for: aValue withTransfer: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Deposit class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:14:27'!
for: aValue withTransfer: aTransfer

	^ self new initializeFor: aValue withTransfer: aTransfer. ! !

!methodRemoval: Deposit class #for:withTransfer: stamp: 'UC 5/29/2021 22:14:43'!
for: aValue withTransfer: aTransfer

	^ self new initializeFor: aValue withTransfer: aTransfer. !
!AccountTransaction class methodsFor: 'nil' stamp: 'UC 5/29/2021 22:15:12'!
for: aValue withTransfer: aTransfer
	! !
!AccountTransaction class methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:15:33' prior: 50860477!
for: aValue withTransfer: aTransfer
	^ self new initializeFor: aValue withTransfer: aTransfer.
	! !
!AccountTransaction methodsFor: 'nil' stamp: 'UC 5/29/2021 22:16:34'!
initializeFor: aValue withTransfer: aTransfer
	| transfer value |
	value := aValue.
	transfer := aTransfer! !

AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:16:47'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:16:52'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:17:46' prior: 50860488!
initializeFor: aValue withTransfer: aTransfer
	| transfer2 value2 |
	value2 := aValue.
	transfer2 := aTransfer! !

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:18:00'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:18:01'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:17:59' prior: 50860529!
initializeFor: aValue withTransfer: aTransfer
	
	value := aValue.
	transfer := aTransfer! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:18:07' prior: 50860552!
initializeFor: aValue withTransfer: aTransfer
	value := aValue.
	transfer := aTransfer! !

!methodRemoval: Withdraw #transfer stamp: 'UC 5/29/2021 22:18:31'!
transfer
	^transfer!
!AccountTransaction methodsFor: 'nil' stamp: 'UC 5/29/2021 22:18:40'!
transfer
	^transfer! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:18:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:18:45'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:18:45'!
FAILURE!

_transfer pataSender transfer!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:20:52' prior: 50860342!
initializeFrom: sender to: receiver for: amount 
	pataSender := Withdraw register: amount forTransfer: self on: sender.
	pataReceiver := Deposit register: amount forTransfer: self on: receiver.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:20:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:20:55'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:24:11'!
test11
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer value) equals:  (100).
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:24:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 22:24:13'!
FAILURE!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 22:24:13'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:24:37' prior: 50860655!
test11
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:24:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 22:24:44'!
FAILURE!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 22:24:44'!
FAILURE!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:25:37'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender pataReceiver value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:25:36' prior: 50860610!
initializeFrom: sender to: receiver for: _value 
	pataSender := Withdraw register: _value forTransfer: self on: sender.
	pataReceiver := Deposit register: _value forTransfer: self on: receiver.
	value := _value.! !
!Transfer methodsFor: 'nil' stamp: 'UC 5/29/2021 22:25:47' overrides: 16881508!
value
	^value! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 22:25:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 22:25:49'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:30:01'!
test12lasPatasNoGuardanElValue
	
	! !

100 == 100!

TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportsTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 22:51:21'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:51:55'!
test01
	! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:52:23' prior: 50860833!
test01
	| emptyAccount |
	emptyAccount := ReceptiveAccount new.
	! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 5/29/2021 22:53:04'!
getAccountSummaryFor: account
	^account accountSummary.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:55:04' prior: 50860837!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 0)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:55:11'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:55:11'!
ERROR!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 22:55:24'!
accountSummary
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 22:55:43' prior: 50860860!
accountSummary
	^OrderedCollection with: 'Balance = 0'! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:55:47'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:55:51'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:55:51'!
ERROR!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:09' prior: 50860847!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 22:56:11'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:26'!
test02
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:31' prior: 50860888!
test02
	| account report |
	account := ReceptiveAccount new.
	report := self getAccountSummaryFor: account.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:58:35' prior: 50860897!
test02
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:58:52' prior: 50860877!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:02:16' prior: 50860906!
test02
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:02:21'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:02:21'!
FAILURE!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:02:21'!
FAILURE!

'Depósito por ' 	, transactions at: 0 value!

'Hola' , 1!

'Hola' , 1 printString!

'Hola', 1 printString!

'Hola', 1 asString!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:08:57' prior: 50860865!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: ('Depósito por ' 	, transactions at: 0 value asString) with: ('Balance = ' 	, self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:02'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:09:05'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:05'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:05'!
ERROR!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:09:31' prior: 50860952!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, (transactions at: 0 value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:34'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:50'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:52'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:53'!
ERROR!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:09:56'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:56'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:09:56'!
ERROR!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:10:19' prior: 50860971!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, (transactions at: 1 value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:22'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:23'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:26'!
ERROR!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:26'!
ERROR!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:10:40' prior: 50860997!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, ((transactions at: 1) value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:41'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:10:43'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:10:43'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:11:44'!
xtest
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:12:47'!
test03
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !

!methodRemoval: ReportsTest #xtest stamp: 'UC 5/29/2021 23:12:50'!
xtest
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:13:32'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:13:32'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:13:32'!
FAILURE!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:13:32'!
FAILURE!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:15:59' prior: 50861016!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self balance = 0 ifFalse: [
		transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ]
		summary add: 'Balance = ' 	, (self balance printString).
		^summary
	].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:16:01'!
ERROR!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:16:19' prior: 50861087!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self balance = 0 ifFalse: [
		transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ].
		summary add: 'Balance = ' 	, (self balance printString).
		^summary
	].
	^OrderedCollection with: 'Balance = 0'
! !

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:16:20'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:16:26'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:16:26'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:16:26'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:16:55'!
xtest04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:17:38' prior: 50861102!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:17:43'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:17:43'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:17:43'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:18:24'!
test04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #xtest04 stamp: 'UC 5/29/2021 23:18:26'!
xtest04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:18:29'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:18:29'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:18:29'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/29/2021 23:18:29'!
FAILURE!

!testRun: #ReportsTest #test04 stamp: 'UC 5/29/2021 23:18:29'!
FAILURE!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:20:24' prior: 50861138!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)]
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReportsTest #test04 stamp: 'UC 5/29/2021 23:20:27'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/29/2021 23:20:30'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/29/2021 23:20:30'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/29/2021 23:20:30'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/29/2021 23:20:30'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/29/2021 23:20:30'!
PASSED!

AccountTransaction subclass: #Send
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:29'!
AccountTransaction subclass: #Send
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Receive
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:34'!
AccountTransaction subclass: #Receive
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:44'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:49'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:53'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Receive
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:32:58'!
AccountTransaction subclass: #Receive
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Send
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:33:02'!
AccountTransaction subclass: #Send
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!methodRemoval: AccountTransaction #transfer stamp: 'UC 5/29/2021 23:33:24'!
transfer
	^transfer!
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:33:38'!
transfer 
	^transfer! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:33:46'!
transfer
	^transfer! !

!methodRemoval: AccountTransaction #initializeFor:withTransfer: stamp: 'UC 5/29/2021 23:34:37'!
initializeFor: aValue withTransfer: aTransfer
	value := aValue.
	transfer := aTransfer!
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:34:41'!
initializeWith: aTransfer
	transfer := aTransfer! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:34:45'!
initializeWith: aTransfer
	transfer := aTransfer! !

!methodRemoval: AccountTransaction class #for:withTransfer: stamp: 'UC 5/29/2021 23:35:18'!
for: aValue withTransfer: aTransfer
	^ self new initializeFor: aValue withTransfer: aTransfer.
	!
!Deposit class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:35:50' overrides: 50859969!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!Withdraw class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:35:54' overrides: 50859969!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!Receive class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:38:39' overrides: 50859969!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 23:39:57' prior: 50860766!
initializeFrom: sender to: receiver for: _value 
	pataSender := Send register: self on: sender.
	pataReceiver := Receive register: self on: receiver.
	value := _value.! !
!Send class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:41:30' overrides: 50859969!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Send class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:03'!
for: aTransfer
	^self new initializeFor: aTransfer! !
!Receive class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:10'!
for: aTransfer
	^self new initializeFor: aTransfer! !
!Receive methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:42:23'!
initializeFor: aTransfer
	transfer := aTransfer! !
!Send methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:42:29'!
initializeFor: aTransfer
	transfer := aTransfer! !
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:44' overrides: 50859951!
value
	^transfer value.! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:56' overrides: 50859951!
value
	^transfer value.! !
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:45:21' overrides: 50859955!
affectBalance: aBalance

	^aBalance + self value ! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:45:32' overrides: 50859955!
affectBalance: aBalance

	^aBalance - self value ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/29/2021 23:45:42'!
PASSED!

----STARTUP---- (29 May 2021 23:50:24) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


!classDefinition: #PortfolioTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:16:26'!
test01BalanceOfPortfolioWithoutAccountsIsZero

	self assert: 0 equals: Portfolio new balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'NR 5/27/2021 17:36:04'!
test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance

	| account portfolio |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	self assert: account balance equals: portfolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:23:25'!
test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortofolio |
	
	simplePortfolioAccount := ReceptiveAccount new.
	Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	Withdraw register: 50 on: composedPortfolioAccount.
	composedPortofolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolioAccount balance + simplePortfolio balance) equals: composedPortofolio balance! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:43:15'!
test04PortfolioWithoutAccountsHasNoRegisteredTransaction

	self deny: (Portfolio new hasRegistered: (Deposit for: 100))! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:43:11'!
test05PortfolioHasRegisteredItsAccountsTransactions

	| account portfolio deposit |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	self assert: (portfolio hasRegistered: deposit)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:06'!
test06PortfolioLooksForRegisteredTransactionsRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	self assert: (composedPortfolio hasRegistered: simplePortfolioAccountDeposit).
	self assert: (composedPortfolio hasRegistered: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:10'!
test07PortfolioHasNoTransactionWhenHasNoAccounts

	self assert: Portfolio new transactions isEmpty! !
!PortfolioTest methodsFor: 'tests' stamp: 'NR 6/22/2020 07:31:19'!
test08PortfolioTransactionsIncludesAllItsAccountsTransactions

	| account portfolio accountDeposit anotherAccount portfolioTransactions anotherAccountWithdraw |
	
	account := ReceptiveAccount new.
	accountDeposit := Deposit register: 100 on: account.
	anotherAccount := ReceptiveAccount new.
	anotherAccountWithdraw := Withdraw register: 100 on: account.
	portfolio := Portfolio with: account.
	
	portfolioTransactions := portfolio transactions.
	
	self assert: 2 equals: portfolioTransactions size.
	self assert: (portfolioTransactions includes: accountDeposit).
	self assert: (portfolioTransactions includes: anotherAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:20'!
test09PortfolioTransactionsAreCalculatedRecursively

	| simplePortfolioAccount simplePortfolio composedPortfolioAccount composedPortfolio composedPortfolioAccountWithdraw simplePortfolioAccountDeposit composedPortfolioTransactions |
	
	simplePortfolioAccount := ReceptiveAccount new.
	simplePortfolioAccountDeposit := Deposit register: 100 on: simplePortfolioAccount.
	simplePortfolio := Portfolio with: simplePortfolioAccount.
	
	composedPortfolioAccount := ReceptiveAccount new.
	composedPortfolioAccountWithdraw := Withdraw register: 50 on: composedPortfolioAccount.
	composedPortfolio := Portfolio with: simplePortfolio with: composedPortfolioAccount.
	
	composedPortfolioTransactions := composedPortfolio transactions.
	self assert: 2 equals: composedPortfolioTransactions size.
	self assert: (composedPortfolioTransactions includes: simplePortfolioAccountDeposit).
	self assert: (composedPortfolioTransactions includes: composedPortfolioAccountWithdraw)! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:24'!
test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce

	| account portfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: portfolio accountsSize.
			self assert: (portfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:28'!
test11PortfolioCanNotIncludeAccountOfItsPortfolios

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	composedPortfolio := Portfolio with: simplePortfolio.
	
	self 
		should: [ composedPortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: composedPortfolio accountsSize.
			self assert: (composedPortfolio accountsIncludes: simplePortfolio) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 11:58:32'!
test12PortfolioCanNotIncludeItself

	| account simplePortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio with: account.
	
	self 
		should: [ simplePortfolio add: simplePortfolio ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: 1 equals: simplePortfolio accountsSize.
			self assert: (simplePortfolio accountsIncludes: account) ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:01:51'!
test13ComposedPortfolioCanNotHaveParentPortfolioAccount

	| account simplePortfolio composedPortfolio |
	
	account := ReceptiveAccount new.
	simplePortfolio := Portfolio new.
	composedPortfolio := Portfolio with: simplePortfolio.
	composedPortfolio add: account.
	
	self 
		should: [ simplePortfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: simplePortfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/25/2019 12:12:16'!
test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively

	| account leftParentPortfolio leftRootParentPortfolio portfolio rightParentPortfolio rightRootParentPortfolio |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio new.
	leftParentPortfolio := Portfolio with: portfolio .
	leftRootParentPortfolio := Portfolio with: leftParentPortfolio.
	leftRootParentPortfolio add: account.
	
	rightParentPortfolio := Portfolio with: portfolio .
	rightRootParentPortfolio := Portfolio with: rightParentPortfolio.
	rightRootParentPortfolio add: account.

	self 
		should: [ portfolio add: account ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolio accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'HAW 5/29/2019 16:31:18'!
test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !

!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccountTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:19:48'!
test01ReceptiveAccountHaveZeroAsBalanceWhenCreated 

	| account |
	
	account := ReceptiveAccount new.

	self assert: 0 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:19:54'!
test02DepositIncreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount  new.
	Deposit register: 100 on: account.
		
	self assert: 100 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:02'!
test03WithdrawDecreasesBalanceOnTransactionValue 

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
		
	self assert: 50 equals: account balance .
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:32'!
test04WithdrawValueMustBePositive 

	| account withdrawValue |
	
	account := ReceptiveAccount new.
	withdrawValue := 50.
	
	self assert: withdrawValue equals: (Withdraw register: withdrawValue on: account) value
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:46'!
test05ReceptiveAccountKnowsRegisteredTransactions 

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	withdraw := Withdraw register: 50 on: account.
		
	self assert: (account hasRegistered: deposit).
	self assert: (account hasRegistered: withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:20:54'!
test06ReceptiveAccountDoNotKnowNotRegisteredTransactions

	| account deposit withdraw |
	
	account := ReceptiveAccount new.
	deposit :=  Deposit for: 100.
	withdraw := Withdraw for: 50.
		
	self deny: (account hasRegistered: deposit).
	self deny: (account hasRegistered:withdraw).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'HAW 5/23/2019 15:21:24'!
test07AccountKnowsItsTransactions 

	| account1 deposit1 |
	
	account1 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account1.
		
	self assert: 1 equals: account1 transactions size .
	self assert: (account1 transactions includes: deposit1).
! !

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:23:47'!
hasRegistered: aTransaction

	self subclassResponsibility ! !
!Account methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:24:25'!
isComposedBy: anAccount

	self subclassResponsibility ! !
!Account methodsFor: 'balance' stamp: 'HAW 5/25/2019 12:23:40'!
balance

	self subclassResponsibility ! !
!Account methodsFor: 'transactions' stamp: 'HAW 5/25/2019 12:23:27'!
addTransactionsTo: aCollectionOfTransactions

	self subclassResponsibility ! !
!Account methodsFor: 'transactions' stamp: 'HAW 5/25/2019 12:23:15'!
transactions

	self subclassResponsibility ! !
!Account methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:24:04'!
addedTo: aPortfolio

	self subclassResponsibility ! !

!classDefinition: #Portfolio category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Portfolio category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:20'!
accountsIncludes: anAccount

	^accounts includes: anAccount ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:05:04'!
accountsIsEmpty
	
	^accounts isEmpty ! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 11:49:06'!
accountsSize
	
	^accounts size! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:19:20'!
add: accountToAdd

	self assertCanAdd: accountToAdd.
		
	accounts add: accountToAdd.
	accountToAdd addedTo: self 
	! !
!Portfolio methodsFor: 'accounts management' stamp: 'HAW 5/25/2019 12:17:31'!
rootParents
	
	| rootParents |
	
	rootParents := Set new.
	self addRootParentsTo: rootParents.
	
	^ rootParents! !
!Portfolio methodsFor: 'initialization' stamp: 'HAW 5/25/2019 12:03:18' overrides: 16896425!
initialize

	accounts := OrderedCollection new.
	parents := OrderedCollection new.! !
!Portfolio methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:19:36' overrides: 50861848!
balance
	
	^accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ]! !
!Portfolio methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:42:55' overrides: 50861852!
addTransactionsTo: aCollectionOfTransactions

	accounts do: [ :anAccount | anAccount addTransactionsTo: aCollectionOfTransactions ]! !
!Portfolio methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:38:32' overrides: 50861857!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	accounts do: [ :anAccount | anAccount addTransactionsTo: transactions ].
	
	^transactions ! !
!Portfolio methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:02:59' overrides: 50861861!
addedTo: aPortfolio 
	
	parents add: aPortfolio ! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/25/2019 12:20:56'!
anyRootParentIsComposedBy: accountToAdd

	^self rootParents anySatisfy: [ :aParent | aParent isComposedBy: accountToAdd]! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/25/2019 11:28:29' overrides: 50861840!
hasRegistered: aTransaction

	^accounts anySatisfy: [ :anAccount | anAccount hasRegistered: aTransaction ]! !
!Portfolio methodsFor: 'testing' stamp: 'HAW 5/29/2019 16:24:54' overrides: 50861844!
isComposedBy: anAccount

	^ self = anAccount or: [ accounts anySatisfy: [ :composedAccount | (composedAccount isComposedBy: anAccount) or: [ anAccount isComposedBy: composedAccount ]]]! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 12:17:31'!
addRootParentsTo: rootParents

	parents 
		ifEmpty: [ rootParents add: self ] 
		ifNotEmpty: [ parents do: [ :aParent | aParent addRootParentsTo: rootParents ]]! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 12:20:36'!
assertCanAdd: accountToAdd

	(self anyRootParentIsComposedBy: accountToAdd) ifTrue: [ self signalCanNotAddAccount ].
! !
!Portfolio methodsFor: 'account management - private' stamp: 'HAW 5/25/2019 11:48:34'!
signalCanNotAddAccount
	
	self error: self class canNotAddAccountErrorMessage! !

!classDefinition: 'Portfolio class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Portfolio class
	instanceVariableNames: ''!

!classDefinition: 'Portfolio class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:33'!
Portfolio class
	instanceVariableNames: ''!
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:48:55'!
canNotAddAccountErrorMessage
	
	^'Can not add repeated account to a portfolio'! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:18:21'!
with: anAccount

	^self new 
		add: anAccount;
		yourself! !
!Portfolio class methodsFor: 'as yet unclassified' stamp: 'HAW 5/25/2019 11:23:59'!
with: anAccount with: anotherAccount

	^self new 
		add: anAccount;
		add: anotherAccount;
		yourself! !

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:35' overrides: 16896425!
initialize

	super initialize.
	transactions := OrderedCollection new.! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HAW 5/25/2019 11:38:52' overrides: 50861852!
addTransactionsTo: aCollectionOfTransactions

	aCollectionOfTransactions addAll: transactions ! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37'!
register: aTransaction

	transactions add: aTransaction 
! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'HernanWilkinson 7/13/2011 18:37' overrides: 50861857!
transactions 

	^ transactions copy! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:24:46' overrides: 50861848!
balance

	^transactions 
		inject: 0
		into: [ :currentBalance :transaction | transaction affectBalance: currentBalance ]! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'NR 10/21/2019 18:55:56' overrides: 50861840!
hasRegistered: aTransaction

	^ transactions includes: aTransaction 
! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'HAW 5/25/2019 11:54:51' overrides: 50861844!
isComposedBy: anAccount

	^self = anAccount ! !
!ReceptiveAccount methodsFor: 'composition' stamp: 'HAW 5/25/2019 12:03:32' overrides: 50861861!
addedTo: aPortfolio 
	
	! !

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'value' stamp: 'HernanWilkinson 9/12/2011 12:25' overrides: 16881508!
value 

	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:39'!
affectBalance: aBalance

	self subclassResponsibility ! !

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction class
	instanceVariableNames: ''!

!classDefinition: 'AccountTransaction class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction class
	instanceVariableNames: ''!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'NR 10/21/2019 18:54:27'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Deposit methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:45'!
initializeFor: aValue

	value := aValue ! !
!Deposit methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:38' overrides: 50862089!
value

	^ value! !
!Deposit methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:02' overrides: 50862093!
affectBalance: aBalance

	^aBalance + value ! !

!classDefinition: 'Deposit class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Deposit class
	instanceVariableNames: ''!

!classDefinition: 'Deposit class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Deposit class
	instanceVariableNames: ''!
!Deposit class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:38'!
for: aValue

	^ self new initializeFor: aValue ! !

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Withdraw methodsFor: 'initialization' stamp: 'HernanWilkinson 7/13/2011 18:46'!
initializeFor: aValue

	value := aValue ! !
!Withdraw methodsFor: 'value' stamp: 'HernanWilkinson 7/13/2011 18:33' overrides: 50862089!
value

	^ value! !
!Withdraw methodsFor: 'balance' stamp: 'HAW 5/25/2019 11:25:15' overrides: 50862093!
affectBalance: aBalance

	^aBalance - value! !

!classDefinition: 'Withdraw class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Withdraw class
	instanceVariableNames: ''!

!classDefinition: 'Withdraw class' category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Withdraw class
	instanceVariableNames: ''!
!Withdraw class methodsFor: 'instance creation' stamp: 'HernanWilkinson 7/13/2011 18:33'!
for: aValue

	^ self new initializeFor: aValue ! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 21:55:29'!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver by: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 21:55:52' prior: 50862208!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:57:20'!
from: aReceptiveAccount to: aReceptiveAccount2 for: aSmallInteger 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFrom: aReceptiveAccount to: aReceptiveAccount2 for: aSmallInteger ! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:58:05' prior: 50862229!
from: sender to: receiver for: amount 
	^self new initializeFrom: sender to: receiver for: amount ! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:58:28'!
initializeFrom: sender to: receiver for: amount 
	self shouldBeImplemented.
	sender_CHANGE_ME := sender.
	receiver_CHANGE_ME := receiver.
	amount_CHANGE_ME := amount.! !
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 21:59:28' prior: 50862270!
initializeFrom: sender to: receiver for: amount 
	Withdraw register: amount on: sender.
	Deposit register: amount on: receiver.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:01:36'!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:01'!
test08assertAccountBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08 stamp: 'UC 5/29/2021 23:50:34'!
test08
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:14'!
test08assertAccountsBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountBalanceAfterTransferIsCorrect stamp: 'UC 5/29/2021 23:50:34'!
test08assertAccountBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:02:31'!
test08assertAccountBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountsBalanceAfterTransferIsCorrect stamp: 'UC 5/29/2021 23:50:34'!
test08assertAccountsBalanceAfterTransferIsCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:03:19'!
test08assertAccountsBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 23:50:34'!
test08assertAccountBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:06:16' prior: 50862286!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer pataSender).
	self assert: (receiver hasRegistered: transfer pataReceiver).! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender pataReceiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:06:46' prior: 50862279!
initializeFrom: sender to: receiver for: amount 
	pataSender := Withdraw register: amount on: sender.
	pataReceiver := Deposit register: amount on: receiver.! !
!Transfer methodsFor: 'nil' stamp: 'UC 5/29/2021 22:07:06'!
pataSender
	^pataSender! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:07:13'!
pataReceiver
	^pataReceiver! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:10:41'!
test10
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer pataSender transfer) equals:  (_transfer).
	self assert: (_transfer pataReceiver transfer) equals:  (_transfer).! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:11:33'!
transfer
	self shouldBeImplemented.! !

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:12:19' prior: 50862449!
transfer
	^transfer! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:14:02'!
register: aValue forTransfer: aTransfer on: account 

	| transaction |
	
	transaction := self for: aValue withTransfer: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Deposit class methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:14:27'!
for: aValue withTransfer: aTransfer

	^ self new initializeFor: aValue withTransfer: aTransfer. ! !

!methodRemoval: Deposit class #for:withTransfer: stamp: 'UC 5/29/2021 23:50:34'!
for: aValue withTransfer: aTransfer

	^ self new initializeFor: aValue withTransfer: aTransfer. !
!AccountTransaction class methodsFor: 'nil' stamp: 'UC 5/29/2021 22:15:12'!
for: aValue withTransfer: aTransfer
	! !
!AccountTransaction class methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:15:33' prior: 50862486!
for: aValue withTransfer: aTransfer
	^ self new initializeFor: aValue withTransfer: aTransfer.
	! !
!AccountTransaction methodsFor: 'nil' stamp: 'UC 5/29/2021 22:16:34'!
initializeFor: aValue withTransfer: aTransfer
	| transfer value |
	value := aValue.
	transfer := aTransfer! !

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:17:46' prior: 50862497!
initializeFor: aValue withTransfer: aTransfer
	| transfer2 value2 |
	value2 := aValue.
	transfer2 := aTransfer! !

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:17:59' prior: 50862534!
initializeFor: aValue withTransfer: aTransfer
	
	value := aValue.
	transfer := aTransfer! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 22:18:07' prior: 50862557!
initializeFor: aValue withTransfer: aTransfer
	value := aValue.
	transfer := aTransfer! !

!methodRemoval: Withdraw #transfer stamp: 'UC 5/29/2021 23:50:34'!
transfer
	^transfer!
!AccountTransaction methodsFor: 'nil' stamp: 'UC 5/29/2021 22:18:40'!
transfer
	^transfer! !
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:20:52' prior: 50862422!
initializeFrom: sender to: receiver for: amount 
	pataSender := Withdraw register: amount forTransfer: self on: sender.
	pataReceiver := Deposit register: amount forTransfer: self on: receiver.! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:24:11'!
test11
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer value) equals:  (100).
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:24:37' prior: 50862585!
test11
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender pataReceiver value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 22:25:36' prior: 50862576!
initializeFrom: sender to: receiver for: _value 
	pataSender := Withdraw register: _value forTransfer: self on: sender.
	pataReceiver := Deposit register: _value forTransfer: self on: receiver.
	value := _value.! !
!Transfer methodsFor: 'nil' stamp: 'UC 5/29/2021 22:25:47' overrides: 16881508!
value
	^value! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 22:30:01'!
test12lasPatasNoGuardanElValue
	
	! !

!classDefinition: #ReportsTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportsTest category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:51:55'!
test01
	! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:52:23' prior: 50862648!
test01
	| emptyAccount |
	emptyAccount := ReceptiveAccount new.
	! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 5/29/2021 22:53:04'!
getAccountSummaryFor: account
	^account accountSummary.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:55:04' prior: 50862652!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 0)	.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 22:55:24'!
accountSummary
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 22:55:43' prior: 50862670!
accountSummary
	^OrderedCollection with: 'Balance = 0'! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:09' prior: 50862662!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:26'!
test02
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:56:31' prior: 50862689!
test02
	| account report |
	account := ReceptiveAccount new.
	report := self getAccountSummaryFor: account.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:58:35' prior: 50862698!
test02
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 22:58:52' prior: 50862680!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:02:16' prior: 50862707!
test02
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:08:57' prior: 50862675!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: ('Depósito por ' 	, transactions at: 0 value asString) with: ('Balance = ' 	, self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:09:31' prior: 50862743!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, (transactions at: 0 value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:10:19' prior: 50862753!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, (transactions at: 1 value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:10:40' prior: 50862763!
accountSummary
	self balance = 0 ifFalse: [^OrderedCollection with: 'Depósito por ' 	, ((transactions at: 1) value asString) with: 'Balance = ' 	, (self balance printString) ].
	^OrderedCollection with: 'Balance = 0'
! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:11:44'!
xtest
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:12:47'!
test03
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !

!methodRemoval: ReportsTest #xtest stamp: 'UC 5/29/2021 23:50:34'!
xtest
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:15:59' prior: 50862773!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self balance = 0 ifFalse: [
		transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ]
		summary add: 'Balance = ' 	, (self balance printString).
		^summary
	].
	^OrderedCollection with: 'Balance = 0'
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:16:19' prior: 50862828!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self balance = 0 ifFalse: [
		transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ].
		summary add: 'Balance = ' 	, (self balance printString).
		^summary
	].
	^OrderedCollection with: 'Balance = 0'
! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:16:55'!
xtest04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:17:38' prior: 50862841!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | summary add: 'Depósito por ' 	, (transaction value asString)  ].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/29/2021 23:18:24'!
test04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #xtest04 stamp: 'UC 5/29/2021 23:50:34'!
xtest04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/29/2021 23:20:24' prior: 50862868!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)]
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Send
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Send
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:34'!
AccountTransaction subclass: #Receive
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Receive
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountTransaction category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Deposit category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Withdraw category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Receive
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Receive category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Receive
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Send
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Send category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:50:35'!
AccountTransaction subclass: #Send
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!methodRemoval: AccountTransaction #transfer stamp: 'UC 5/29/2021 23:50:35'!
transfer
	^transfer!
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:33:38'!
transfer 
	^transfer! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:33:46'!
transfer
	^transfer! !

!methodRemoval: AccountTransaction #initializeFor:withTransfer: stamp: 'UC 5/29/2021 23:50:35'!
initializeFor: aValue withTransfer: aTransfer
	value := aValue.
	transfer := aTransfer!
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:34:41'!
initializeWith: aTransfer
	transfer := aTransfer! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:34:45'!
initializeWith: aTransfer
	transfer := aTransfer! !

!methodRemoval: AccountTransaction class #for:withTransfer: stamp: 'UC 5/29/2021 23:50:35'!
for: aValue withTransfer: aTransfer
	^ self new initializeFor: aValue withTransfer: aTransfer.
	!
!Deposit class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:35:50' overrides: 50862108!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!Withdraw class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:35:54' overrides: 50862108!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !
!Receive class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:38:39' overrides: 50862108!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Transfer methodsFor: 'instance creation' stamp: 'UC 5/29/2021 23:39:57' prior: 50862615!
initializeFrom: sender to: receiver for: _value 
	pataSender := Send register: self on: sender.
	pataReceiver := Receive register: self on: receiver.
	value := _value.! !
!Send class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:41:30' overrides: 50862108!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !
!Send class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:03'!
for: aTransfer
	^self new initializeFor: aTransfer! !
!Receive class methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:10'!
for: aTransfer
	^self new initializeFor: aTransfer! !
!Receive methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:42:23'!
initializeFor: aTransfer
	transfer := aTransfer! !
!Send methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:42:29'!
initializeFor: aTransfer
	transfer := aTransfer! !
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:44' overrides: 50862089!
value
	^transfer value.! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:42:56' overrides: 50862089!
value
	^transfer value.! !
!Receive methodsFor: 'nil' stamp: 'UC 5/29/2021 23:45:21' overrides: 50862093!
affectBalance: aBalance

	^aBalance + self value ! !
!Send methodsFor: 'nil' stamp: 'UC 5/29/2021 23:45:32' overrides: 50862093!
affectBalance: aBalance

	^aBalance - self value ! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:53:13' prior: 50862391!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer sendLeg).
	self assert: (receiver hasRegistered: transfer pataReceiver).! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:53:13' prior: 50862437!
test10
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer pataReceiver transfer) equals:  (_transfer).! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 23:53:34' prior: 50863126!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer pataSender).
	self assert: (receiver hasRegistered: transfer pataReceiver).! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:54:16'!
receiveLeg
	^pataReceiver! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:54:16' prior: 50863152!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer pataSender).
	self assert: (receiver hasRegistered: transfer receiveLeg).! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:54:16' prior: 50863139!
test10
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer receiveLeg transfer) equals:  (_transfer).! !

!methodRemoval: Transfer #pataReceiver stamp: 'UC 5/29/2021 23:54:16'!
pataReceiver
	^pataReceiver!
!Transfer methodsFor: 'nil' stamp: 'UC 5/29/2021 23:54:39'!
sendLeg
	^pataSender! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:54:39' prior: 50863169!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer sendLeg).
	self assert: (receiver hasRegistered: transfer receiveLeg).! !

!methodRemoval: Transfer #pataSender stamp: 'UC 5/29/2021 23:54:39'!
pataSender
	^pataSender!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:55:10'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME pataSender receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:55:10' prior: 50863075!
initializeFrom: sender to: receiver for: _value 
	pataSender := Send register: self on: sender.
	receiveLeg := Receive register: self on: receiver.
	value := _value.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:55:10' prior: 50863164!
receiveLeg
	^receiveLeg! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/29/2021 23:55:24'!
Object subclass: #Transfer
	instanceVariableNames: 'sender_CHANGE_ME receiver_CHANGE_ME amount_CHANGE_ME sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:55:24' prior: 50863226!
initializeFrom: sender to: receiver for: _value 
	sendLeg := Send register: self on: sender.
	receiveLeg := Receive register: self on: receiver.
	value := _value.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 5/29/2021 23:55:24' prior: 50863197!
sendLeg
	^sendLeg! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 23:55:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/29/2021 23:55:28'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 23:56:03'!
test08AccountsBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.! !

!methodRemoval: ReceptiveAccountTest #test08assertAccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/29/2021 23:56:03'!
test08assertAccountsBalancesAfterTransferAreCorrect
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	Transfer from: sender to: receiver for: 100.
	self assert: -100 equals: sender balance.
	self assert: 100 equals: receiver balance.!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 23:56:48'!
test09AccountHasRegisteredTransferLegsCorrectly
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer sendLeg).
	self assert: (receiver hasRegistered: transfer receiveLeg).! !

!methodRemoval: ReceptiveAccountTest #test09 stamp: 'UC 5/29/2021 23:56:48'!
test09
	| receiver sender transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	transfer := Transfer from: sender to: receiver for: 100.
	self assert: (sender hasRegistered: transfer sendLeg).
	self assert: (receiver hasRegistered: transfer receiveLeg).!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 23:57:55'!
test10TransferLegCanObtainTransfer
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer receiveLeg transfer) equals:  (_transfer).! !

!methodRemoval: ReceptiveAccountTest #test10 stamp: 'UC 5/29/2021 23:57:55'!
test10
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer receiveLeg transfer) equals:  (_transfer).!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/29/2021 23:59:18'!
test11TransferValueIsCorrect
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	! !

!methodRemoval: ReceptiveAccountTest #test11 stamp: 'UC 5/29/2021 23:59:18'!
test11
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:01:44'!
test13Transferir0
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:01:49'!
test13TransferirNegativo
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:01:58'!
test13TransferirseAUnoMismo
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:02:07'!
xtest13Transferir0
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:02:11'!
xtest13TransferirseAUnoMismo
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:02:15' prior: 50863412!
xtest13TransferirseAUnoMismo
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 5/30/2021 00:02:22'!
xtest13TransferirNegativo
	
	! !

!methodRemoval: ReceptiveAccountTest #test13TransferirseAUnoMismo stamp: 'UC 5/30/2021 00:02:24'!
test13TransferirseAUnoMismo
	
	!

!methodRemoval: ReceptiveAccountTest #test13TransferirNegativo stamp: 'UC 5/30/2021 00:02:25'!
test13TransferirNegativo
	
	!

!methodRemoval: ReceptiveAccountTest #test13Transferir0 stamp: 'UC 5/30/2021 00:02:27'!
test13Transferir0
	
	!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:04:08'!
test05
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/30/2021 00:04:20'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:04:24'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:04:24'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:04:24'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:04:24'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:04:24'!
FAILURE!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:04:24'!
FAILURE!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:04:55' prior: 50862904!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)]
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:04:57'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:05:01'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:05:01'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:05:01'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:05:01'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:05:01'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:05:39'!
test06
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Entrada por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:05:43'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:05:43'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:05:43'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:05:43'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:05:43'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:05:43'!
FAILURE!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:05:43'!
FAILURE!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:06:12' prior: 50863508!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:06:13'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:06:15'!
PASSED!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:08:35' prior: 50863570!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:11:29' prior: 50863609!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !
!Account methodsFor: 'nil' stamp: 'UC 5/30/2021 00:11:41'!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	! !

!methodRemoval: Account #accountSummary stamp: 'UC 5/30/2021 00:11:49'!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 5/30/2021 00:11:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/30/2021 00:11:58'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:15:16'!
test07
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: account.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:15:25'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:16:12' prior: 50863743!
test07
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:16:17'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:16:17'!
ERROR!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:16:17'!
ERROR!
!Account methodsFor: 'report' stamp: 'UC 5/30/2021 00:16:44'!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!methodRemoval: ReceptiveAccount #accountSummary stamp: 'UC 5/30/2021 00:16:44'!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
!

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:16:52'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:18:13'!
test08
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:18:34' prior: 50863771!
test07
	| report portfolio |
	portfolio := Portfolio new.
	
	report := self getAccountSummaryFor: portfolio.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!

!testRun: #ReportsTest #test08 stamp: 'UC 5/30/2021 00:18:42'!
PASSED!
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:20:53' overrides: 50863814!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:20:53' overrides: 50863814!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!methodRemoval: Account #accountSummary stamp: 'UC 5/30/2021 00:20:53'!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:21:40' prior: 50863952!
accountSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:22:53'!
transactionsSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:23:13' prior: 50863997!
accountSummary
	| summary |
	summary := self transactionsSummary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 5/30/2021 00:23:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/30/2021 00:23:16'!
PASSED!
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:23:37' prior: 50863929!
accountSummary
	
	
	
! !
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:25:59' prior: 50864091!
accountSummary
	|summary|
	summary := OrderedCollection new.
	accounts do: [:account | account addTransactionsSummaryTo: summary].
	
	
	
	
! !
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:26:31' prior: 50864095!
accountSummary
	|summary|
	summary := OrderedCollection new.
	accounts do: [:account | account addTransactionsSummaryTo: summary].
	summary add: 'Balance = ' .
	^summary
	
	
	
	
! !
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:26:50' prior: 50864102!
accountSummary
	|summary|
	summary := OrderedCollection new.
	accounts do: [:account | account addTransactionsSummaryTo: summary].
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:27:34'!
transactionsSummary: aSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 5/30/2021 00:27:34' prior: 50864040!
accountSummary
	| summary |
	summary := self transactionsSummary: summary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!methodRemoval: ReceptiveAccount #transactionsSummary stamp: 'UC 5/30/2021 00:27:34'!
transactionsSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:27:57'!
addTransactionsSummaryTo: aSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 5/30/2021 00:27:57' prior: 50864142!
accountSummary
	| summary |
	summary := self addTransactionsSummaryTo: summary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!methodRemoval: ReceptiveAccount #transactionsSummary: stamp: 'UC 5/30/2021 00:27:57'!
transactionsSummary: aSummary
	| summary |
	summary := OrderedCollection new.
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:28:18' prior: 50864170!
addTransactionsSummaryTo: aSummary
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ aSummary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [aSummary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [aSummary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: Receive) ifTrue: [aSummary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 5/30/2021 00:28:40' prior: 50864192!
accountSummary
	| summary |
	summary := OrderedCollection new.
	self addTransactionsSummaryTo: summary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!

!testRun: #ReportsTest #test08 stamp: 'UC 5/30/2021 00:29:01'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:30:35' prior: 50863875!
test08
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: leafPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:18:13' prior: 50864268!
test08
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:31:15'!
test09
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: leafPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:31:34' prior: 50864311!
test09
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: leafPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test08 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!

!testRun: #ReportsTest #test09 stamp: 'UC 5/30/2021 00:31:39'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:31:47' prior: 50864328!
test09
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test08 stamp: 'UC 5/30/2021 00:31:49'!
PASSED!

!testRun: #ReportsTest #test09 stamp: 'UC 5/30/2021 00:31:49'!
ERROR!

!testRun: #ReportsTest #test09 stamp: 'UC 5/30/2021 00:31:49'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 5/30/2021 00:32:03'!
addTransactionsSummaryTo: anOrderedCollection 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 5/30/2021 00:32:17' prior: 50864406!
addTransactionsSummaryTo: aSummary 
	! !

!testRun: #ReportsTest #test09 stamp: 'UC 5/30/2021 00:32:19'!
FAILURE!
!Portfolio methodsFor: 'report' stamp: 'UC 5/30/2021 00:32:47' prior: 50864111!
accountSummary
	|summary|
	summary := OrderedCollection new.
	self addTransactionsSummaryTo: summary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
	
	
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 5/30/2021 00:33:01' prior: 50864412!
addTransactionsSummaryTo: aSummary 
	accounts do: [:account | account addTransactionsSummaryTo: aSummary].! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 5/30/2021 00:33:23'!
PASSED!

!testRun: #ReportsTest #test01 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test02 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test03 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test04 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test05 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test06 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test07 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test08 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!

!testRun: #ReportsTest #test09 stamp: 'UC 5/30/2021 00:33:26'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:34:25'!
test01AccountSummaryOfEmptyAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !

!methodRemoval: ReportsTest #test01 stamp: 'UC 5/30/2021 00:34:25'!
test01
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:35:12'!
test02AccountSummaryForOneDeposit
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test02 stamp: 'UC 5/30/2021 00:35:12'!
test02
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:35:38'!
test03AccountSummaryForManyTransactions
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !

!methodRemoval: ReportsTest #test03 stamp: 'UC 5/30/2021 00:35:38'!
test03
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:36:17'!
test06AccountSummaryForManyTransactions
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !

!methodRemoval: ReportsTest #test03AccountSummaryForManyTransactions stamp: 'UC 5/30/2021 00:36:17'!
test03AccountSummaryForManyTransactions
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:36:40'!
test03AccountSummaryForOneWithdraw
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test04 stamp: 'UC 5/30/2021 00:36:40'!
test04
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:37:02'!
test05AccountSummaryForOneSend
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test05 stamp: 'UC 5/30/2021 00:37:02'!
test05
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:37:08'!
test04AccountSummaryForOneSend
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test05AccountSummaryForOneSend stamp: 'UC 5/30/2021 00:37:08'!
test05AccountSummaryForOneSend
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:37:18'!
test05AccountSummaryForOneReceive
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Entrada por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test06 stamp: 'UC 5/30/2021 00:37:18'!
test06
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Entrada por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:37:50'!
test07AccountSummaryForEmptyPortfolio
	| report portfolio |
	portfolio := Portfolio new.
	
	report := self getAccountSummaryFor: portfolio.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !

!methodRemoval: ReportsTest #test07 stamp: 'UC 5/30/2021 00:37:50'!
test07
	| report portfolio |
	portfolio := Portfolio new.
	
	report := self getAccountSummaryFor: portfolio.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:38:22'!
test01AccountSummaryForEmptyAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.! !

!methodRemoval: ReportsTest #test01AccountSummaryOfEmptyAccount stamp: 'UC 5/30/2021 00:38:22'!
test01AccountSummaryOfEmptyAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getAccountSummaryFor: emptyAccount.
	self assert: 1 equals: (report size)	.
	self assert: 'Balance = 0' equals: (report at: 1)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:01'!
test02AccountSummaryForOneDepositInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test02AccountSummaryForOneDeposit stamp: 'UC 5/30/2021 00:39:01'!
test02AccountSummaryForOneDeposit
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:06'!
test03AccountSummaryForOneWithdrawInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test03AccountSummaryForOneWithdraw stamp: 'UC 5/30/2021 00:39:06'!
test03AccountSummaryForOneWithdraw
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Extracción por 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:10'!
test04AccountSummaryForOneSendInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test04AccountSummaryForOneSend stamp: 'UC 5/30/2021 00:39:10'!
test04AccountSummaryForOneSend
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Salida por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = -100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:13'!
test05AccountSummaryForOneReceiveInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Entrada por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test05AccountSummaryForOneReceive stamp: 'UC 5/30/2021 00:39:13'!
test05AccountSummaryForOneReceive
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getAccountSummaryFor: account.
	self assert: 2 equals: (report size)	.
	self assert: 'Entrada por transferencia de 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:16'!
test06AccountSummaryForManyTransactionsInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.! !

!methodRemoval: ReportsTest #test06AccountSummaryForManyTransactions stamp: 'UC 5/30/2021 00:39:16'!
test06AccountSummaryForManyTransactions
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	Deposit register: 120 on: account. 
	report := self getAccountSummaryFor: account.
	self assert: 3 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Depósito por 120' equals: (report at: 2)	.
	self assert: 'Balance = 220' equals: (report at: 3)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:39:53'!
test08AccountSummaryForPortfolioWithOneAccount
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !

!methodRemoval: ReportsTest #test08 stamp: 'UC 5/30/2021 00:39:53'!
test08
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:40:40'!
test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !

!methodRemoval: ReportsTest #test09 stamp: 'UC 5/30/2021 00:40:40'!
test09
	| account report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Deposit register: 100 on: account.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:40:49'!
test08AccountSummaryForPortfolioWithOneReceptiveAccount
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.! !

!methodRemoval: ReportsTest #test08AccountSummaryForPortfolioWithOneAccount stamp: 'UC 5/30/2021 00:40:49'!
test08AccountSummaryForPortfolioWithOneAccount
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getAccountSummaryFor: portfolio.
	self assert: 5 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Extracción por 50' equals: (report at: 2)	.
	self assert: 'Salida por transferencia de 20' equals: (report at: 3)	.
	self assert: 'Entrada por transferencia de 30' equals: (report at: 4)	.
	self assert: 'Balance = 60' equals: (report at: 5)	.!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:41:45' prior: 50864956!
test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account anotherAccount report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Transfer from: account to: anotherAccount for: 100.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 2 equals: (report size)	.
	self assert: 'Depósito por 100' equals: (report at: 1)	.
	self assert: 'Balance = 100' equals: (report at: 2)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:43:14' prior: 50865047!
test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account anotherAccount report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	leafPortfolio add: account.
	
	Transfer from: account to: anotherAccount for: 100.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 3 equals: (report size)	.
	self assert: report includes: 'Salida por transferencia de 100'	.
	self assert: report includes: 'Entrada por transferencia de 100'.
	self assert: 'Balance = 0' equals: (report last)	.! !

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 5/30/2021 00:43:26'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 5/30/2021 00:43:26'!
FAILURE!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:43:58' prior: 50865069!
test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account anotherAccount report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	rootPortfolio add: leafPortfolio.
	rootPortfolio add: anotherAccount.
	leafPortfolio add: account.
	
	Transfer from: account to: anotherAccount for: 100.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 3 equals: (report size)	.
	self assert: report includes: 'Salida por transferencia de 100'	.
	self assert: report includes: 'Entrada por transferencia de 100'.
	self assert: 'Balance = 0' equals: (report last)	.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 5/30/2021 00:44:14' prior: 50865102!
test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account anotherAccount report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	leafPortfolio add: account.
	
	rootPortfolio add: leafPortfolio.
	rootPortfolio add: anotherAccount.
	
	Transfer from: account to: anotherAccount for: 100.
	report := self getAccountSummaryFor: rootPortfolio.
	self assert: 3 equals: (report size)	.
	self assert: report includes: 'Salida por transferencia de 100'	.
	self assert: report includes: 'Entrada por transferencia de 100'.
	self assert: 'Balance = 0' equals: (report last)	.! !

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 5/30/2021 00:44:22'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 5/30/2021 00:44:24'!
PASSED!

----QUIT----(30 May 2021 12:11:15) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (31 May 2021 20:06:34) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


Object subclass: #ToDo
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ToDo category: 'Portfolio-Solucion' stamp: 'UC 5/31/2021 21:38:48'!
Object subclass: #ToDo
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Transfer
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'UC 5/31/2021 21:38:56'!
Object subclass: #Transfer
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ToDo methodsFor: 'nil' stamp: 'UC 5/31/2021 21:39:09'!
preguntas
	! !
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 5/31/2021 21:47:22' prior: 50865220!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	- Hace falta una subjerarquia? tenemos codigo repetido
	- Tenemos que imprimir un \n al final?
	-Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	-"! !

OrderedCollection with: 'a' with:'b' asString!

OrderedCollection with: 'a' with:'b' print!

OrderedCollection with: 'a' with:'b' printString!
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 5/31/2021 21:48:39' prior: 50865224!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	- Hace falta una subjerarquia? tenemos codigo repetido
	- Tenemos que imprimir un \n al final?
	-Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	-"
	|l|
	(OrderedCollection with: 'a' with:'b') printOn: l
	l printString! !

ToDo preguntas!

ToDo new preguntas !

|l|
	l := String new.
	(OrderedCollection with: 'a' with:'b') printOn: l
	l printString!
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 5/31/2021 21:50:34' prior: 50865240!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	- Hace falta una subjerarquia? tenemos codigo repetido
	- Tenemos que imprimir un \n al final?
	-Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	-"
	|stream|
	stream := Stream new.
	(OrderedCollection with: 'a' with:'b') printOn: stream.
	stream printString
	
! !

ToDo new preguntas!

|stream|
	stream := Stream with:''.
	(OrderedCollection with: 'a' with:'b') printOn: stream.
	stream printString!

|stream|
	stream := Stream new with:''.
	(OrderedCollection with: 'a' with:'b') printOn: stream.
	stream printString!

	(OrderedCollection with: 'a' with:'b') show!

	(OrderedCollection with: 'a' with:'b') value!

	(OrderedCollection with: 'a' with:'b') print!
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 5/31/2021 21:55:26' prior: 50865258!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	- Hace falta una subjerarquia? tenemos codigo repetido
	- Tenemos que imprimir un \n al final?
	-Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	- Que onda con imprimir OrderedCollection?"
	! !
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 5/31/2021 22:19:11' prior: 50865286!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	Pata es un nombre tecnico
	- Hace falta una subjerarquia? tenemos codigo repetido
	Depende de si aporta o no al modelo. Una buena forma de ver si eso tiene un aporte es si la idea que reifica a ambas AccountTransactions tiene nombre. Solo por sacar codigo repetido no deberiamos hacer una superclase.
	- Tenemos que imprimir un \n al final?
	Podemos... Se hace poniendo enter en el string
	- Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	Si
	- Que onda con imprimir OrderedCollection?
	No es necesario, solo importan los tests."
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/1/2021 18:15:45'!
test12TransferValueIsSavedOnce
	
	
	! !

!methodRemoval: ReceptiveAccountTest #test12lasPatasNoGuardanElValue stamp: 'UC 6/1/2021 18:15:48'!
test12lasPatasNoGuardanElValue
	
	!

1020202020000000!

	1020202020000000 class!

	1020202020000000000000000000000 class!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/1/2021 18:17:21' prior: 50865322!
test12TransferValueIsSavedOnce
 	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 	1020202020000000000000000000000.
	self assert: _transfer sendLeg == _transfer receiveLeg.
	
	! !

!classRenamed: #Receive as: #ReceiveLeg stamp: 'UC 6/1/2021 18:17:30'!
Smalltalk renameClassNamed: #Receive as: #ReceiveLeg!
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:30' prior: 50863249!
initializeFrom: sender to: receiver for: _value 
	sendLeg := Send register: self on: sender.
	receiveLeg := ReceiveLeg register: self on: receiver.
	value := _value.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:30' prior: 50864221!
addTransactionsSummaryTo: aSummary
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ aSummary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [aSummary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: Send) ifTrue: [aSummary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [aSummary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !

!classRenamed: #Send as: #SendLeg stamp: 'UC 6/1/2021 18:17:42'!
Smalltalk renameClassNamed: #Send as: #SendLeg!
!ParseNode class methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:42' prior: 16885033 overrides: 16784996!
initClassCachedState
	"
	ParseNode initialize. VariableNode initialize
	"
	LdInstType := 1.
	LdTempType := 2.
	LdLitType := 3.
	LdLitIndType := 4.
	SendType := 5.
	"Back in the day the following constants corresponded to bytecodes.
	 Now they're just unique values that need to be eliminated when and if
	 things like code:type: are cleaned up."
	CodeBases := #(0 16 32 64 208 ).
	CodeLimits := #(16 16 32 32 16 ).
	LdSelf := 112.
	LdTrue := 113.
	LdFalse := 114.
	LdNil := 115.
	LdMinus1 := 116.
	LoadLong := 128.
	LdSuper := 133.
	Pop := 135.
	LdThisContext := 137.
	EndRemote := 125.
	SendPlus := 176.
	SendLeg := 208.
	
	"((ParseNode class >> #initialize) literals select: [:l| l isVariableBinding and: [(ParseNode classPool includesAssociation: l) and: [(self systemNavigation allCallsOn: l localTo: ParseNode) size = 1]]]) sort: [:a :b| a key <= b key]"

	"ParseNode classPool associations select: [:a| (self systemNavigation allCallsOn: a localTo: ParseNode) isEmpty]"! !
!ParseNode class methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:42' prior: 16885073 overrides: 50685238!
releaseClassCachedState

	LdInstType _ LdTempType _ LdLitType _ LdLitIndType _ SendType _ nil.
	CodeBases _ CodeLimits _ nil.
	LdSelf _ LdTrue _ LdFalse _ nil.
	LdNil _ LdMinus1 _ LoadLong _ nil.
	LdSuper _ Pop _ nil.
	LdThisContext _ EndRemote _ nil.
	SendPlus _ SendLeg _ nil! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:42' prior: 50865350!
initializeFrom: sender to: receiver for: _value 
	sendLeg := SendLeg register: self on: sender.
	receiveLeg := ReceiveLeg register: self on: receiver.
	value := _value.! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:17:42' prior: 50865359!
addTransactionsSummaryTo: aSummary
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ aSummary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [aSummary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [aSummary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [aSummary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/1/2021 18:18:05' prior: 50865334!
test12TransferValueIsSavedOnce
 	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 	1020202020000000000000000000000.
	self assert: _transfer sendLeg value == _transfer receiveLeg value.
	
	! !

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/1/2021 18:18:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/1/2021 18:18:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/1/2021 18:18:12'!
PASSED!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/1/2021 18:41:50'!
forEachTransactionDo: aBlock
	self transactions do: aBlock
	
	
! !

Object subclass: #Report
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:42:43'!
Object subclass: #Report
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:43:05'!
Report subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:43:10'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Report methodsFor: 'nil' stamp: 'UC 6/1/2021 18:44:15'!
calculate! !
!AccountSummary class methodsFor: 'nil' stamp: 'UC 6/1/2021 18:45:07'!
for: anAccount
	self initializeFor: anAccount.! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:45:27'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'nil' stamp: 'UC 6/1/2021 18:45:24'!
initializeFor: anAccount
	account := anAccount! !
!AccountSummary methodsFor: 'nil' stamp: 'UC 6/1/2021 18:46:30' overrides: 50865565!
calculate
	|aSummary|
	aSummary := OrderedCollection new.
	account forEachTransactionDo: [ :transaction |
		(transaction isKindOf: Withdraw) ifTrue: [ aSummary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [aSummary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [aSummary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [aSummary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	]! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:47:43' prior: 50865585 overrides: 50865565!
calculate
	| summary |
	summary := OrderedCollection new.
	account forEachTransactionDo: [ :transaction |
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [ summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [ summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [ summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !
!Report methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:48:03' prior: 50865565!
calculate
	self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/1/2021 18:48:27' prior: 50864241!
accountSummary
	^AccountSummary for: self calculate
	
! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/1/2021 18:48:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/1/2021 18:48:34'!
PASSED!
!AccountTransaction methodsFor: 'nil' stamp: 'UC 6/1/2021 18:53:04'!
createReport: aReport
	self subclassResponsibility.! !
!Deposit methodsFor: 'nil' stamp: 'UC 6/1/2021 18:53:36' overrides: 50865684!
createReport: aReport
	^aReport createReportForDeposit: self.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:53:40' prior: 50865689 overrides: 50865684!
createReport: aReport
	aReport createReportForDeposit: self.! !
!ReceiveLeg methodsFor: 'nil' stamp: 'UC 6/1/2021 18:53:55' overrides: 50865684!
createReport: aReport
	aReport createReportForReceiveLeg: self.! !
!SendLeg methodsFor: 'nil' stamp: 'UC 6/1/2021 18:54:08' overrides: 50865684!
createReport: aReport
	aReport createReportForSendLeg: self.! !
!Withdraw methodsFor: 'nil' stamp: 'UC 6/1/2021 18:54:20' overrides: 50865684!
createReport: aReport
	aReport createReportForWithdraw: self.! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:56:17'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account summary2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:56:16' prior: 50865607 overrides: 50865631!
calculate
	account forEachTransactionDo: [ :transaction |
		(transaction isKindOf: Withdraw) ifTrue: [ summary2 add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [ summary2 add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [ summary2 add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [ summary2 add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	summary2 add: 'Balance = ' 	, (account balance printString).
	^summary2! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 18:56:21'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:56:21' prior: 50865724 overrides: 50865631!
calculate
	account forEachTransactionDo: [ :transaction |
		(transaction isKindOf: Withdraw) ifTrue: [ summary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [ summary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [ summary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [ summary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:56:34' prior: 50865580!
initializeFor: anAccount
	account := anAccount.
	summary := OrderedCollection new.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:57:23' prior: 50865755 overrides: 50865631!
calculate
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !
!AccountSummary methodsFor: 'nil' stamp: 'UC 6/1/2021 18:58:09'!
createReportForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:58:42'!
createReportForWithdraw: aTransaction
	summary add: 'Extracción por ', (aTransaction value asString) 
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:59:06'!
createReportForSendLeg: aTransaction
	summary add: 'Salida por transferencia de ' 	, (aTransaction value asString) 
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 18:59:31'!
createReportForReceiveLeg: aTransaction
	summary add: 'Entrada por transferencia de ' 	, (aTransaction value asString)
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 18:59:42'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 18:59:42'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 18:59:42'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 18:59:55'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 18:59:55'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 18:59:55'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 18:59:57'!
ERROR!
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/1/2021 19:00:15' prior: 50862657!
getAccountSummaryFor: account
	^AccountSummary for: account! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:00:23'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:00:26'!
ERROR!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:00:54' prior: 50865568!
for: anAccount
	self initializeFor: anAccount.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:00:58'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:01:00'!
ERROR!
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:01:13' prior: 50865927!
for: anAccount
	self new initializeFor: anAccount.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:01:15'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:01:21'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:01:23'!
ERROR!
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/1/2021 19:02:00' prior: 50865886!
getAccountSummaryFor: account
	^(AccountSummary for: account) calculate! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:02:16'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:02:18'!
ERROR!

(AccountSummary for: account)!

 AccountSummary !
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:03:16' prior: 50865968!
for: anAccount
	^self new initializeFor: anAccount.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:03:21'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:03:21'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:03:21'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:04:16' prior: 50865784 overrides: 50865631!
calculate
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !
!Report methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:04:26'!
createReport
	self subclassResponsibility ! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:04:26' overrides: 50866100!
createReport
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!methodRemoval: Report #calculate stamp: 'UC 6/1/2021 19:04:26'!
calculate
	self subclassResponsibility !

!methodRemoval: AccountSummary #calculate stamp: 'UC 6/1/2021 19:04:26'!
calculate
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary!
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/1/2021 19:04:38' prior: 50866011!
getAccountSummaryFor: account
	^(AccountSummary for: account) createReport! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:04:42'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:04:42'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:04:42'!
ERROR!

!classRenamed: #AccountSummary as: #ReceptiveAccountSummary stamp: 'UC 6/1/2021 19:05:31'!
Smalltalk renameClassNamed: #AccountSummary as: #ReceptiveAccountSummary!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:05:31' prior: 50866124!
getAccountSummaryFor: account
	^(ReceptiveAccountSummary for: account) createReport! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:05:31' prior: 50865636!
accountSummary
	^ReceptiveAccountSummary for: self calculate
	
! !

Report subclass: #PortfolioSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #PortfolioSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 19:05:52'!
Report subclass: #PortfolioSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PortfolioSummary stamp: 'UC 6/1/2021 19:06:46'!
Report subclass: #PortfolioSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 19:07:07'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountSummary stamp: 'UC 6/1/2021 19:07:19'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #ReceptiveAccountSummary as: #AccountSummary stamp: 'UC 6/1/2021 19:07:25'!
Smalltalk renameClassNamed: #ReceptiveAccountSummary as: #AccountSummary!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:07:25' prior: 50866168!
getAccountSummaryFor: account
	^(AccountSummary for: account) createReport! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:07:25' prior: 50866174!
accountSummary
	^AccountSummary for: self calculate
	
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:08:04' prior: 50866105 overrides: 50866100!
createReport
	account createReport: self.
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:08:36'!
createReportForReceptiveAccount: aReceptiveAccount
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:08:52'!
createReportForPortfolio: aPortfolio
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"! !
!Portfolio methodsFor: 'nil' stamp: 'UC 6/1/2021 19:09:33'!
createReport: aReport
	aReport createReportForPortfolio: self.! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'UC 6/1/2021 19:09:48'!
createReport: aReport
	aReport createReportForReceptiveAccount: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:10:04'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:10:11'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:10:35'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:10:40'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:11:42'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:11:47'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:12:24' prior: 50866236 overrides: 50866100!
createReport
	^account createReport: self.
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:12:29'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:12:32'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:12:48' prior: 50866270!
createReport: aReport
	^aReport createReportForReceptiveAccount: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:12:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:12:51'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:12:51'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:12:52'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:12:52'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:12:53'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:12:53'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:13:08'!
createReportForReceptiveAccount
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	! !

!methodRemoval: AccountSummary #createReportForReceptiveAccount: stamp: 'UC 6/1/2021 19:13:12'!
createReportForReceptiveAccount: aReceptiveAccount
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:13:21'!
createReportForPortfolio
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"! !

!methodRemoval: AccountSummary #createReportForPortfolio: stamp: 'UC 6/1/2021 19:13:32'!
createReportForPortfolio: aPortfolio
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:13:57' prior: 50866418!
createReportForPortfolio
	account 
	"
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	"! !
!Portfolio methodsFor: 'report' stamp: 'UC 6/1/2021 19:14:40'!
forEachChildAccountDo: aBlock 
	accounts do: aBlock.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:15:58' prior: 50866437!
createReportForPortfolio
	account forEachChildAccountDo: [ :aChildAccount | aChildAccount createReport: self ].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:16:05'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:16:10'!
ERROR!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:16:22' prior: 50866369!
createReport: aReport
	^aReport createReportForReceptiveAccount.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:16:26'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:16:29'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:16:30'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:16:30'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:16:30'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:16:31'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:16:31'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:16:37' prior: 50866265!
createReport: aReport
	aReport createReportForPortfolio.! !

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:16:38'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:16:54' prior: 50866526!
createReport: aReport
	^aReport createReportForPortfolio.! !

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:16:55'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:16:56'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:18:29'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:19:47'!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount | aChildAccount createReport: self ].! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:20:00' prior: 50866550!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount | aChildAccount createReport: self ].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!methodRemoval: AccountSummary #createReportForPortfolio stamp: 'UC 6/1/2021 19:20:08'!
createReportForPortfolio
	account forEachChildAccountDo: [ :aChildAccount | aChildAccount createReport: self ].
	
	summary add: 'Balance = ' 	, (account balance printString).
	^summary!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:20:11' prior: 50866534!
createReport: aReport
	^aReport createReportForPortfolio: self.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:20:35'!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	! !

!methodRemoval: AccountSummary #createReportForReceptiveAccount stamp: 'UC 6/1/2021 19:20:40'!
createReportForReceptiveAccount
	account forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	!
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:20:43' prior: 50866496!
createReport: aReport
	^aReport createReportForReceptiveAccount: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:20:49'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:20:49'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:20:49'!
FAILURE!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:20:55'!
FAILURE!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:21:43' prior: 50866324 overrides: 50866100!
createReport
	^account createReport: self.! !

Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 19:42:24'!
Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferNet stamp: 'UC 6/1/2021 19:42:29'!
Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 19:42:41'!
Report subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'nil' stamp: 'UC 6/1/2021 19:42:58' overrides: 50866100!
createReport! !
!TransferNet methodsFor: 'nil' stamp: 'UC 6/1/2021 19:43:20'!
initializeFor: anAccount
	account := anAccount.! !
!Report class methodsFor: 'nil' stamp: 'UC 6/1/2021 19:43:36'!
for: anAccount
	^self new initializeFor: anAccount.! !

!methodRemoval: AccountSummary class #for: stamp: 'UC 6/1/2021 19:43:41'!
for: anAccount
	^self new initializeFor: anAccount.!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:44:29' prior: 50866678 overrides: 50866100!
createReport
	^account createReport: self.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:45:27'!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	]! !

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'UC 6/1/2021 19:46:23'!
Report subclass: #TransferNet
	instanceVariableNames: 'account transferNet'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:46:21'!
createReportForSendLeg: aSendLeg
	^ transferNet! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:46:35' prior: 50866714!
createReportForSendLeg: aSendLeg
	transferNet := transferNet + aSendLeg! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:46:51'!
createReportForReceiveLeg: aReceiveLeg
	transferNet := transferNet + aReceiveLeg value! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:47:14' prior: 50866719!
createReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:47:42' prior: 50866724!
createReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:47:54'!
createReportForDeposit: aSendLeg! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:47:58' prior: 50866742!
createReportForDeposit: aTransaction! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:48:10'!
createReportForWidthraw: aTransaction! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:49:23' prior: 50866695 overrides: 50866100!
createReport
	! !
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:49:42'!
test10
	! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/1/2021 19:49:57'!
getTransferNetFor: account
	^(TransferNet for: account) createReport! !
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:50:49'!
test10transferNetForEmptyAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	! !

!methodRemoval: ReportsTest #test10 stamp: 'UC 6/1/2021 19:50:52'!
test10
	!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:50:57'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:50:57'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:50:57'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:50:57'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:51:03'!
FAILURE!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:51:55' prior: 50866756 overrides: 50866100!
createReport
	^0! !

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:52:05'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:52:24'!
test11transferNetFor
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	! !
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:52:51'!
test11transferNetForOneDepositInReceptiveAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	! !

!methodRemoval: ReportsTest #test11transferNetFor stamp: 'UC 6/1/2021 19:52:52'!
test11transferNetFor
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:53:47'!
xtest12transferNetForOneDepositInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report! !
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:54:14'!
test11transferNetForOneReceiveInReceptiveAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	! !

!methodRemoval: ReportsTest #test11transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:54:17'!
test11transferNetForOneDepositInReceptiveAccount
	| emptyAccount report |
	emptyAccount := ReceptiveAccount new.
	report := self getTransferNetFor: emptyAccount.
	self assert: 0 equals: report	.	
	
	!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 19:55:23' prior: 50866861!
test11transferNetForOneReceiveInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	report := self getTransferNetFor: account.
	self assert: 100 equals: report	.
	! !

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:55:27'!
FAILURE!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:55:27'!
FAILURE!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:56:43' prior: 50866819 overrides: 50866100!
createReport
	^account forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	]! !

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:56:54'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:56:54'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:57:37' prior: 50866681!
initializeFor: anAccount
	account := anAccount.
	transferNet := 0.	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:57:40'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:57:40'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:57:40'!
FAILURE!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:57:40'!
FAILURE!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:57:49'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:57:49'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:57:49'!
FAILURE!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:57:49'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:57:58'!
FAILURE!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:58:35' prior: 50866900 overrides: 50866100!
createReport
	account forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	].
	^transferNet.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 19:58:43'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 19:58:43'!
PASSED!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:19' prior: 50866736!
createReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:27'!
xcreateReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet! !

!methodRemoval: TransferNet #createReportForReceiveLeg: stamp: 'UC 6/1/2021 19:59:27'!
createReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:38'!
xcreateReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	]! !

!methodRemoval: TransferNet #createReportForReceptiveAccount: stamp: 'UC 6/1/2021 19:59:38'!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	]!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:44'!
xcreateReportForWidthraw: aTransaction! !

!methodRemoval: TransferNet #createReportForWidthraw: stamp: 'UC 6/1/2021 19:59:44'!
createReportForWidthraw: aTransaction!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:49'!
xcreateReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet! !

!methodRemoval: TransferNet #createReportForSendLeg: stamp: 'UC 6/1/2021 19:59:49'!
createReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 19:59:57'!
xcreateReportForDeposit: aTransaction! !

!methodRemoval: TransferNet #createReportForDeposit: stamp: 'UC 6/1/2021 19:59:57'!
createReportForDeposit: aTransaction!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:00:07'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:00:07'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:07'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:00:26'!
createReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet! !

!methodRemoval: TransferNet #xcreateReportForReceiveLeg: stamp: 'UC 6/1/2021 20:00:26'!
xcreateReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:00:30'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:30'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:00:37'!
test12transferNetForOneDepositInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report! !

!methodRemoval: ReportsTest #xtest12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:40'!
xtest12transferNetForOneDepositInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Deposit register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:00:51'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:51'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:00:54'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:01:06'!
createReportForDeposit: aTransaction! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:01:09'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:09'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:01:32'!
test13transferNetForOneWidthrawInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:01:35'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:35'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:01:44'!
createReportForWidthraw: aTransaction! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:01:47'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:47'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:01:49'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:49'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:01:55'!
ERROR!

!methodRemoval: TransferNet #xcreateReportForWidthraw: stamp: 'UC 6/1/2021 20:02:10'!
xcreateReportForWidthraw: aTransaction!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:02:23'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:02:23'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:02:25'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:02:54'!
createReportForWithdraw: aTransaction! !

!methodRemoval: TransferNet #createReportForWidthraw: stamp: 'UC 6/1/2021 20:02:58'!
createReportForWidthraw: aTransaction!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:03:07'!
test13transferNetForOneWithdrawInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report! !

!methodRemoval: ReportsTest #test13transferNetForOneWidthrawInReceptiveAccount stamp: 'UC 6/1/2021 20:03:13'!
test13transferNetForOneWidthrawInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account. 
	report := self getTransferNetFor: account.
	self assert: 0 equals: report!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:03:22'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:03:22'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:04:19'!
test14transferNetForOneSendInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: account to: ReceptiveAccount new for: 100. 
	report := self getTransferNetFor: account.
	self assert: -100 equals: report! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:04:21'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:04:21'!
ERROR!

!methodRemoval: TransferNet #xcreateReportForDeposit: stamp: 'UC 6/1/2021 20:04:29'!
xcreateReportForDeposit: aTransaction!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:04:38'!
createReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet! !

!methodRemoval: TransferNet #xcreateReportForSendLeg: stamp: 'UC 6/1/2021 20:04:38'!
xcreateReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:04:49'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:04:49'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:06:48'!
test15transferNetForManyTransactionsInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	Deposit register: 120 on: account. 
	Transfer from: account to: ReceptiveAccount new for: 10. 
	report := self getAccountSummaryFor: account.
	self assert: 90 equals: report	.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:06:52'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:06:52'!
FAILURE!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:07:00'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:07:00'!
FAILURE!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:07:33'!
FAILURE!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:07:50' prior: 50867720!
test15transferNetForManyTransactionsInReceptiveAccount
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	Deposit register: 120 on: account. 
	Transfer from: account to: ReceptiveAccount new for: 10. 
	report := self getTransferNetFor: account.
	self assert: 90 equals: report	.! !

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:07:52'!
PASSED!
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:08:11'!
test16transferNetForEmptyPortfolio
	| account report |
	account := ReceptiveAccount new.
	Transfer from: ReceptiveAccount new to: account for: 100. 
	Deposit register: 120 on: account. 
	Transfer from: account to: ReceptiveAccount new for: 10. 
	report := self getTransferNetFor: account.
	self assert: 90 equals: report	.! !
!ReportsTest methodsFor: 'transfer net - tests' stamp: 'UC 6/1/2021 20:08:46' prior: 50867862!
test16transferNetForEmptyPortfolio
	| report portfolio |
	portfolio := Portfolio new.
	
	report := self getTransferNetFor: portfolio.
	self assert: 0 equals: report! !

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:08:48'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:08:48'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:09:15' prior: 50867002 overrides: 50866100!
createReport
	^account createReport: self.! !

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:09:17'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:10:03' prior: 50866558!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount |
		aChildAccount createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:10:27' prior: 50867899!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount |
		aChildAccount createReport: self.
	].
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:10:36' prior: 50867909!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount |
		aChildAccount createReport: self.
	].
	summary add: 'Balance = ' 	, (account balance printString).
	^summary
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:11:00'!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	].
	^transferNet.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:11:44'!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount createReport: self.	
	].
	^transferNet.! !

!methodRemoval: TransferNet #xcreateReportForReceptiveAccount: stamp: 'UC 6/1/2021 20:11:50'!
xcreateReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction createReport: self.	
	]!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:12:02'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:12:02'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:12:02'!
PASSED!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:12:27' prior: 50867934!
createReportForPortfolio: aPortfolio
	"aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount createReport: self.	
	].
	^transferNet."
	^0! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:12:32'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:12:32'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:12:32'!
PASSED!
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 6/1/2021 20:14:05'!
test17transferNetForPortfolioWithOneReceptiveAccount
	| account report portfolio |
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	portfolio add: account.
	
	Deposit register: 100 on: account.
	Withdraw register: 50 on: account.
	Transfer from: account to: ReceptiveAccount new for: 20. 
	Transfer from: ReceptiveAccount new to: account for: 30.
	report := self getTransferNetFor: portfolio.
	self assert: 10 equals: report.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:14:13'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:14:13'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:14:13'!
FAILURE!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:14:52' prior: 50868006!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount createReport: self.	
	].
	^transferNet.! !
!ReportsTest methodsFor: 'account summary - tests' stamp: 'UC 6/1/2021 20:17:25'!
test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio
	| account anotherAccount report rootPortfolio leafPortfolio |
	rootPortfolio := Portfolio new.
	leafPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	leafPortfolio add: account.
	
	rootPortfolio add: leafPortfolio.
	rootPortfolio add: anotherAccount.
	
	Transfer from: account to: ReceptiveAccount new for: 100.
	Transfer from: anotherAccount to: ReceptiveAccount new for: 100.
	Transfer from: ReceptiveAccount new to: anotherAccount for: 10.
	
	report := self getTransferNetFor: rootPortfolio.
	self assert: -190 equals: report.! !

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:17:32'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
FAILURE!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:17:36'!
FAILURE!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:17:36'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:17:36'!
PASSED!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:42:33' prior: 50867917!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount |
		aChildAccount createReport: self.
	].
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:42:37' prior: 50866581!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [ :transaction |
		transaction createReport: self.
	].
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/1/2021 20:43:19' prior: 50866644 overrides: 50866100!
createReport
	account createReport: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/1/2021 20:43:25'!
PASSED!

----STARTUP---- (2 June 2021 17:30:13) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


----End fileIn of /Users/urichami/Facu/ing1/inge1-1c-2021/18-Portfolio2/Portfolio-Solucion.st----!
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:37:21' prior: 50860796!
preguntas
	" - Nombres de los AccountTransaction que actuan como pata.
	Pata es un nombre tecnico
	- Hace falta una subjerarquia? tenemos codigo repetido
	Depende de si aporta o no al modelo. Una buena forma de ver si eso tiene un aporte es si la idea que reifica a ambas AccountTransactions tiene nombre. Solo por sacar codigo repetido no deberiamos hacer una superclase.
	- Tenemos que imprimir un \n al final?
	Podemos... Se hace poniendo enter en el string
	- Puede haber una cuenta sin nombre? Mantenemos ReceptiveAccount new como interfaz publica?
	Si
	- Que onda con imprimir OrderedCollection?
	No es necesario, solo importan los tests.
	
	-Elegir nombre para createReport:
	    perform
	    operate
	    calculate"
	! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/2/2021 17:38:54'!
printReport: aReport
		
	aReport do:[:line | ]! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/2/2021 17:38:57' prior: 50860894!
printReport: aReport
	|printedReport|	
	aReport do:[:line | ]! !

!methodRemoval: ReceptiveAccount #addTransactionsSummaryTo: stamp: 'UC 6/2/2021 17:39:38'!
addTransactionsSummaryTo: aSummary
	transactions do:[:transaction | 
		(transaction isKindOf: Withdraw) ifTrue: [ aSummary add: 'Extracción por ', (transaction value asString) ].
		(transaction isKindOf: Deposit) ifTrue: [aSummary add: 'Depósito por ' 	, (transaction value asString)].
		(transaction isKindOf: SendLeg) ifTrue: [aSummary add: 'Salida por transferencia de ' 	, (transaction value asString)].
		(transaction isKindOf: ReceiveLeg) ifTrue: [aSummary add: 'Entrada por transferencia de ' 	, (transaction value asString)].
	].
	
	
!

!methodRemoval: ReceptiveAccount #accountSummary stamp: 'UC 6/2/2021 17:40:00'!
accountSummary
	^AccountSummary for: self calculate
	
!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:42:20' prior: 50860351!
forEachTransactionDo: aBlock
	self transactions do: aBlock
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:43:11' prior: 50860927!
forEachTransactionDo: aBlock
	transactions do: aBlock
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:44:15' prior: 50860932!
forEachTransactionDo: aBlock
	transactions copy do: aBlock
	
	
! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:44:21' prior: 50860937!
forEachTransactionDo: aBlock
	transactions do: aBlock
	
	
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:46:40' prior: 50860700!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount createReportForEachTransaction: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:47:11' prior: 50860686!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [ :aChildAccount |
		aChildAccount createReport: self.
	].
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:47:53'!
createReportForEachTransaction: aTransaction
	aTransaction createReport: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:48:52' prior: 50860947!
createReportForReceptiveAccount: aReceptiveAccount
	^aReceptiveAccount createReportForEachTransaction: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:49:03' prior: 50860961!
createReportForEachTransaction: aTransaction
	^aTransaction createReport: self.
	! !
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:52:06'!
createReportForEachTransaction: aReport
	transactions do: [:transaction | aReport createReport: transaction]
	
	
! !

!methodRemoval: ReceptiveAccount #forEachTransactionDo: stamp: 'UC 6/2/2021 17:52:11'!
forEachTransactionDo: aBlock
	transactions do: aBlock
	
	
!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:52:47' prior: 50860979!
createReportForEachTransaction: aReport
	transactions do: [:transaction | aReport createReportForEachTransaction: transaction]
	
	
! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:54:58' prior: 50860954!
createReportForPortfolio: aPortfolio
	aPortfolio createReportForEachChildAccount: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:55:30'!
do
	account createReport: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!methodRemoval: AccountSummary #createReport stamp: 'UC 6/2/2021 17:55:30'!
createReport
	account createReport: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:56:18'!
doFor: aReport
	^aReport createReportForReceptiveAccount: self.! !

!methodRemoval: ReceptiveAccount #createReport: stamp: 'UC 6/2/2021 17:56:18'!
createReport: aReport
	^aReport createReportForReceptiveAccount: self.!
!ReceptiveAccount methodsFor: 'report' stamp: 'UC 6/2/2021 17:56:29'!
doForEachTransaction: aReport
	transactions do: [:transaction | aReport createReportForEachTransaction: transaction]
	
	
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:56:29' prior: 50860990!
createReportForEachTransaction: aReport
	transactions do: [:transaction | aReport doForEachTransaction: transaction]
	
	
! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:56:29' prior: 50861026!
doForEachTransaction: aReport
	transactions do: [:transaction | aReport doForEachTransaction: transaction]
	
	
! !

!methodRemoval: ReceptiveAccount #createReportForEachTransaction: stamp: 'UC 6/2/2021 17:56:29'!
createReportForEachTransaction: aReport
	transactions do: [:transaction | aReport doForEachTransaction: transaction]
	
	
!

!methodRemoval: Portfolio #accountSummary stamp: 'UC 6/2/2021 17:57:28'!
accountSummary
	|summary|
	summary := OrderedCollection new.
	self addTransactionsSummaryTo: summary.
	summary add: 'Balance = ' 	, (self balance printString).
	^summary
	
	
	
	
!

!methodRemoval: Portfolio #addTransactionsSummaryTo: stamp: 'UC 6/2/2021 17:57:32'!
addTransactionsSummaryTo: aSummary 
	accounts do: [:account | account addTransactionsSummaryTo: aSummary].!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:57:41'!
doFor: aReport
	^aReport createReportForPortfolio: self.! !

!methodRemoval: Portfolio #createReport: stamp: 'UC 6/2/2021 17:57:41'!
createReport: aReport
	^aReport createReportForPortfolio: self.!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:58:02'!
doFor
	account createReport: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !

!methodRemoval: AccountSummary #doFor stamp: 'UC 6/2/2021 17:58:09'!
doFor
	account createReport: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:58:33' prior: 50861004!
do
	account doFor: self.
	summary add: 'Balance = ' 	, (account balance printString).
	^summary! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:02'!
doForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	! !

!methodRemoval: AccountSummary #createReportForDeposit: stamp: 'UC 6/2/2021 17:59:02'!
createReportForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	!
!SendLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24'!
doFor: aReport
	aReport createReportForSendLeg: self.! !
!AccountTransaction methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24'!
doFor: aReport
	self subclassResponsibility.! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' overrides: 50861111!
doFor: aReport
	aReport createReportForDeposit: self.! !
!ReceiveLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' overrides: 50861111!
doFor: aReport
	aReport createReportForReceiveLeg: self.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' overrides: 50861111!
doFor: aReport
	aReport createReportForWithdraw: self.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' prior: 50860974!
createReportForEachTransaction: aTransaction
	^aTransaction doFor: self.
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' prior: 50860762!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction doFor: self.	
	].
	^transferNet.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' prior: 50860748!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount doFor: self.	
	].
	^transferNet.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:24' prior: 50860740 overrides: 50860643!
createReport
	^account doFor: self.! !

!methodRemoval: SendLeg #createReport: stamp: 'UC 6/2/2021 17:59:24'!
createReport: aReport
	aReport createReportForSendLeg: self.!

!methodRemoval: AccountTransaction #createReport: stamp: 'UC 6/2/2021 17:59:24'!
createReport: aReport
	self subclassResponsibility.!

!methodRemoval: Deposit #createReport: stamp: 'UC 6/2/2021 17:59:24'!
createReport: aReport
	aReport createReportForDeposit: self.!

!methodRemoval: ReceiveLeg #createReport: stamp: 'UC 6/2/2021 17:59:24'!
createReport: aReport
	aReport createReportForReceiveLeg: self.!

!methodRemoval: Withdraw #createReport: stamp: 'UC 6/2/2021 17:59:24'!
createReport: aReport
	aReport createReportForWithdraw: self.!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:43'!
createReportForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	! !

!methodRemoval: AccountSummary #doForDeposit: stamp: 'UC 6/2/2021 17:59:43'!
doForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:54'!
doForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:54'!
doForDeposit: aTransaction! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 17:59:54' prior: 50861116 overrides: 50861111!
doFor: aReport
	aReport doForDeposit: self.! !

!methodRemoval: AccountSummary #createReportForDeposit: stamp: 'UC 6/2/2021 17:59:54'!
createReportForDeposit: aTransaction
	summary add: 'Depósito por ' 	, (aTransaction value asString).
	!

!methodRemoval: TransferNet #createReportForDeposit: stamp: 'UC 6/2/2021 17:59:54'!
createReportForDeposit: aTransaction!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:05'!
doForEachTransaction: aTransaction
	^aTransaction doFor: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:05' prior: 50860967!
createReportForReceptiveAccount: aReceptiveAccount
	^aReceptiveAccount doForEachTransaction: self.
	! !

!methodRemoval: AccountSummary #createReportForEachTransaction: stamp: 'UC 6/2/2021 18:00:05'!
createReportForEachTransaction: aTransaction
	^aTransaction doFor: self.
	!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:14'!
doForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount doFor: self.	
	].
	^transferNet.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:14'!
doForPortfolio: aPortfolio
	aPortfolio createReportForEachChildAccount: self.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:14' prior: 50861067!
doFor: aReport
	^aReport doForPortfolio: self.! !

!methodRemoval: TransferNet #createReportForPortfolio: stamp: 'UC 6/2/2021 18:00:14'!
createReportForPortfolio: aPortfolio
	aPortfolio forEachChildAccountDo: [:aChildAccount | 
		aChildAccount doFor: self.	
	].
	^transferNet.!

!methodRemoval: AccountSummary #createReportForPortfolio: stamp: 'UC 6/2/2021 18:00:14'!
createReportForPortfolio: aPortfolio
	aPortfolio createReportForEachChildAccount: self.
	!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:22'!
doForReceiveLeg: aTransaction
	summary add: 'Entrada por transferencia de ' 	, (aTransaction value asString)
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:22'!
doForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet! !
!ReceiveLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:22' prior: 50861121 overrides: 50861111!
doFor: aReport
	aReport doForReceiveLeg: self.! !

!methodRemoval: AccountSummary #createReportForReceiveLeg: stamp: 'UC 6/2/2021 18:00:22'!
createReportForReceiveLeg: aTransaction
	summary add: 'Entrada por transferencia de ' 	, (aTransaction value asString)
	!

!methodRemoval: TransferNet #createReportForReceiveLeg: stamp: 'UC 6/2/2021 18:00:22'!
createReportForReceiveLeg: aReceiveLeg
	transferNet := aReceiveLeg affectBalance: transferNet!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:32'!
doForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction doFor: self.	
	].
	^transferNet.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:32'!
doForReceptiveAccount: aReceptiveAccount
	^aReceptiveAccount doForEachTransaction: self.
	! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:32' prior: 50861016!
doFor: aReport
	^aReport doForReceptiveAccount: self.! !

!methodRemoval: TransferNet #createReportForReceptiveAccount: stamp: 'UC 6/2/2021 18:00:32'!
createReportForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount forEachTransactionDo: [:transaction | 
		transaction doFor: self.	
	].
	^transferNet.!

!methodRemoval: AccountSummary #createReportForReceptiveAccount: stamp: 'UC 6/2/2021 18:00:32'!
createReportForReceptiveAccount: aReceptiveAccount
	^aReceptiveAccount doForEachTransaction: self.
	!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:41'!
doForSendLeg: aTransaction
	summary add: 'Salida por transferencia de ' 	, (aTransaction value asString) 
	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:41'!
doForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet! !
!SendLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:41' prior: 50861106 overrides: 50861111!
doFor: aReport
	aReport doForSendLeg: self.! !

!methodRemoval: AccountSummary #createReportForSendLeg: stamp: 'UC 6/2/2021 18:00:41'!
createReportForSendLeg: aTransaction
	summary add: 'Salida por transferencia de ' 	, (aTransaction value asString) 
	!

!methodRemoval: TransferNet #createReportForSendLeg: stamp: 'UC 6/2/2021 18:00:41'!
createReportForSendLeg: aSendLeg
	transferNet := aSendLeg affectBalance: transferNet!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:49'!
doForWithdraw: aTransaction! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:49'!
doForWithdraw: aTransaction
	summary add: 'Extracción por ', (aTransaction value asString) 
	! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:00:49' prior: 50861126 overrides: 50861111!
doFor: aReport
	aReport doForWithdraw: self.! !

!methodRemoval: TransferNet #createReportForWithdraw: stamp: 'UC 6/2/2021 18:00:49'!
createReportForWithdraw: aTransaction!

!methodRemoval: AccountSummary #createReportForWithdraw: stamp: 'UC 6/2/2021 18:00:50'!
createReportForWithdraw: aTransaction
	summary add: 'Extracción por ', (aTransaction value asString) 
	!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:01:01'!
do
	^account doFor: self.! !

!methodRemoval: TransferNet #createReport stamp: 'UC 6/2/2021 18:01:05'!
createReport
	^account doFor: self.!
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/2/2021 18:01:15' prior: 50859950!
getTransferNetFor: account
	^(TransferNet for: account) do! !
!ReportsTest methodsFor: 'nil' stamp: 'UC 6/2/2021 18:01:19' prior: 50859945!
getAccountSummaryFor: account
	^(AccountSummary for: account) do! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:41'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:41'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:43'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:43'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:44'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:44'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:45'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:45'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:47'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:47'!
ERROR!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:01:52'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:01:52'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:01:52'!
ERROR!
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:03:05' prior: 50861241!
doForPortfolio: aPortfolio
	aPortfolio doForEachChildAccount: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:03:31'!
doForEachChildAccount: aChildAccount
	aChildAccount doFor: self.
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:03:33' prior: 50861979!
doForEachChildAccount: aChildAccount
	^aChildAccount doFor: self.
	! !
!Portfolio methodsFor: 'report' stamp: 'UC 6/2/2021 18:04:19'!
doForEachChildAccount: aReport 
	accounts do: [:account | aReport doForEachChildAccount: account].! !

!methodRemoval: Portfolio #forEachChildAccountDo: stamp: 'UC 6/2/2021 18:04:23'!
forEachChildAccountDo: aBlock 
	accounts do: aBlock.!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:04:38'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:04:38'!
ERROR!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:04:38'!
ERROR!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:05:04' prior: 50861234!
doForPortfolio: aPortfolio
	aPortfolio doForEachChildAccount: self.
	^transferNet.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:05:27'!
doForEachChildAccount: aChildAccount
	^aChildAccount doFor: self! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:05:43' prior: 50861294!
doForReceptiveAccount: aReceptiveAccount
	aReceptiveAccount doForEachTransaction: self.
	^transferNet.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:06:03'!
doForEachTransaction: aTransaction
	^aTransaction doFor: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:06:07'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:07:09'!
PASSED!

----End fileIn of /Users/urichami/Facu/ing1/inge1-1c-2021/16-MarsRover/MarsRover.st----!

1020202020000000000000000000000!

1020202020000000000000000000000 class!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:19:55' prior: 50859761!
test12TransferValueIsSavedOnce
 	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 	1020202020000000000000000000000.
	self assert: _transfer sendLeg value == _transfer receiveLeg value.
	
	! !
!Report methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:20:19'!
do
	self subclassResponsibility ! !

!methodRemoval: Report #createReport stamp: 'UC 6/2/2021 18:20:22'!
createReport
	self subclassResponsibility !

Report subclass: #AmountOfTransactions
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AmountOfTransactions category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 18:23:57'!
Report subclass: #AmountOfTransactions
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AmountOfTransactions methodsFor: 'nil' stamp: 'UC 6/2/2021 18:24:05' overrides: 50862542!
do
	! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:24:52' prior: 50861216!
doForEachTransaction: aTransaction
	^aTransaction doFor: self.
	! !
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 18:39:26'!
Pendientes
	"
	- Tests de ReceptiveAccount
	- Pensar si la solucion implementada funcionaria en un lenguaje estaticamente tipado
	- Bonus 
	"
	! !

!classRemoval: #AmountOfTransactions stamp: 'UC 6/2/2021 18:39:57'!
Report subclass: #AmountOfTransactions
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Report methodsFor: 'accounts' stamp: 'UC 6/2/2021 18:43:46'!
doForPortfolio: aPortfolio
	self subclassResponsibility.! !
!Report methodsFor: 'accounts' stamp: 'UC 6/2/2021 18:43:56'!
doForReceptiveAccount: aReceptiveAccount
	self subclassResponsibility.! !
!Report methodsFor: 'transactions' stamp: 'UC 6/2/2021 18:44:11'!
doForDeposit: aTransaction
	self subclassResponsibility.! !
!Report methodsFor: 'transactions' stamp: 'UC 6/2/2021 18:44:29'!
doForReceiveLeg: aTransaction
	self subclassResponsibility.! !
!Report methodsFor: 'transactions' stamp: 'UC 6/2/2021 18:44:38'!
doForSendLeg: aTransaction
	self subclassResponsibility.! !
!Report methodsFor: 'transactions' stamp: 'UC 6/2/2021 18:44:45'!
doForWithdraw: aTransaction
	self subclassResponsibility.! !
!Report methodsFor: 'iterators' stamp: 'UC 6/2/2021 18:45:01'!
doForEachChildAccount: aChildAccount
	self subclassResponsibility.! !
!Report methodsFor: 'iterators' stamp: 'UC 6/2/2021 18:45:09'!
doForEachTransaction: aTransaction
	self subclassResponsibility.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:46:31'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:46:31'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:47:30'!
test13TransferFor0RaisesError
	
	
	! !

!methodRemoval: ReceptiveAccountTest #xtest13Transferir0 stamp: 'UC 6/2/2021 18:47:35'!
xtest13Transferir0
	
	!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:50:48' prior: 50862687!
test13TransferFor0RaisesError
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[_transfer := Transfer from: sender to: receiver for: 	0.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	
	! !
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:51:00' prior: 50862695!
test13TransferFor0RaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: 	0.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:51:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:51:21'!
FAILURE!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:51:21'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:52:30' prior: 50860859!
from: sender to: receiver for: amount 
	amount = 0 ifTrue: [self error: self transferAmountMustBeGreaterThan0].
	^self new initializeFrom: sender to: receiver for: amount ! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:52:50'!
transferAmountMustBeGreaterThan0
	^'Transfer amount must be greater than 0'! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:53:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:53:00'!
PASSED!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:53:28'!
test14TransferForNegativeRaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: -10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	
	! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:53:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:53:31'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:53:31'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:54:04' prior: 50862772!
from: sender to: receiver for: amount 
	amount < 0 ifTrue: [self error: self transferAmountMustBeGreaterThan0].
	amount = 0 ifTrue: [self error: self transferAmountMustBeGreaterThan0].
	^self new initializeFrom: sender to: receiver for: amount ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:07'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:07'!
PASSED!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:54:14' prior: 50862899!
from: sender to: receiver for: amount 
	amount <= 0 ifTrue: [self error: self transferAmountMustBeGreaterThan0].
	^self new initializeFrom: sender to: receiver for: amount ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:16'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:16'!
PASSED!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:54:49'!
assertAmountIsGreaterThan0: amount

	^ amount <= 0 ifTrue: [self error: self transferAmountMustBeGreaterThan0]! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:54:49' prior: 50863025!
from: sender to: receiver for: amount 
	self assertAmountIsGreaterThan0: amount.
	^self new initializeFrom: sender to: receiver for: amount ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:54:58'!
PASSED!

!methodRemoval: ReceptiveAccountTest #xtest13TransferirNegativo stamp: 'UC 6/2/2021 18:55:12'!
xtest13TransferirNegativo
	
	!
!ReceptiveAccountTest methodsFor: 'transfer - tests' stamp: 'UC 6/2/2021 18:56:49'!
test15TransferReceiverMustBeDifferentToSender
	| receiverAndSender |
	receiverAndSender := ReceptiveAccount new.
	self should: 
		[Transfer from: receiverAndSender to: receiverAndSender for: 10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer receiverMustBeDifferentFromSender equals: error messageText ]
		
	
	! !

!methodRemoval: ReceptiveAccountTest #xtest13TransferirseAUnoMismo stamp: 'UC 6/2/2021 18:56:53'!
xtest13TransferirseAUnoMismo
	
	!

!testRun: #ReceptiveAccountTest #test15TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 18:56:56'!
FAILURE!

!testRun: #ReceptiveAccountTest #test15TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 18:56:56'!
FAILURE!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:57:43' prior: 50863155!
from: sender to: receiver for: amount 
	sender = receiver ifTrue: [self error: ''].
	self assertAmountIsGreaterThan0: amount.
	^self new initializeFrom: sender to: receiver for: amount ! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:58:08' prior: 50863307!
from: sender to: receiver for: amount 
	sender = receiver ifTrue: [self error: self receiverMustBeDifferentFromSender].
	self assertAmountIsGreaterThan0: amount.
	^self new initializeFrom: sender to: receiver for: amount ! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:58:34'!
receiverMustBeDifferentFromSender
	^'Receiver must be different from Sender'! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:58:40' prior: 50863326!
receiverMustBeDifferentFromSender
	^'Receiver must be different from sender'! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test15TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 18:58:46'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 18:58:46'!
PASSED!
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:59:47'!
assert: sender isDifferentFrom: receiver

	^ sender = receiver ifTrue: [self error: self receiverMustBeDifferentFromSender]! !
!Transfer class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 18:59:47' prior: 50863316!
from: sender to: receiver for: amount 
	self assert: sender isDifferentFrom: receiver.
	self assertAmountIsGreaterThan0: amount.
	^self new initializeFrom: sender to: receiver for: amount ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test15TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:00:28'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:00:28'!
PASSED!
!ToDo methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:00:39' prior: 50862572!
Pendientes
	"
	- Pensar si la solucion implementada funcionaria en un lenguaje estaticamente tipado
	- Bonus 
	"
	! !

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferTest category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:03:04'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferTest methodsFor: 'nil' stamp: 'UC 6/2/2021 19:03:50'!
test01TransferLegCanObtainTransfer
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer receiveLeg transfer) equals:  (_transfer).! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:04:11'!
test02TransferValueIsCorrect
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	! !
!TransferTest methodsFor: 'nil' stamp: 'UC 6/2/2021 19:04:38'!
test03TransferValueIsSavedOnce
 	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 	1020202020000000000000000000000.
	self assert: _transfer sendLeg value == _transfer receiveLeg value.! !
!TransferTest methodsFor: 'nil' stamp: 'UC 6/2/2021 19:04:56'!
test04TransferFor0RaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: 	0.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:05:19'!
test05TransferForNegativeRaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: -10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	! !
!TransferTest methodsFor: 'nil' stamp: 'UC 6/2/2021 19:05:50'!
test06TransferReceiverMustBeDifferentToSender
	| receiverAndSender |
	receiverAndSender := ReceptiveAccount new.
	self should: 
		[Transfer from: receiverAndSender to: receiverAndSender for: 10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer receiverMustBeDifferentFromSender equals: error messageText ]! !

!methodRemoval: ReceptiveAccountTest #test10TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 19:06:07'!
test10TransferLegCanObtainTransfer
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: (_transfer sendLeg transfer) equals:  (_transfer).
	self assert: (_transfer receiveLeg transfer) equals:  (_transfer).!

!methodRemoval: ReceptiveAccountTest #test11TransferValueIsCorrect stamp: 'UC 6/2/2021 19:06:07'!
test11TransferValueIsCorrect
	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 100.
	self assert: 100 equals:  _transfer value.
	!

!methodRemoval: ReceptiveAccountTest #test12TransferValueIsSavedOnce stamp: 'UC 6/2/2021 19:06:07'!
test12TransferValueIsSavedOnce
 	| receiver sender _transfer |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	_transfer := Transfer from: sender to: receiver for: 	1020202020000000000000000000000.
	self assert: _transfer sendLeg value == _transfer receiveLeg value.
	
	!

!methodRemoval: ReceptiveAccountTest #test13TransferFor0RaisesError stamp: 'UC 6/2/2021 19:06:07'!
test13TransferFor0RaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: 	0.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	
	!

!methodRemoval: ReceptiveAccountTest #test14TransferForNegativeRaisesError stamp: 'UC 6/2/2021 19:06:07'!
test14TransferForNegativeRaisesError
	| receiver sender |
	sender := ReceptiveAccount new.
	receiver := ReceptiveAccount new.
	self should: 
		[Transfer from: sender to: receiver for: -10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer transferAmountMustBeGreaterThan0 equals: error messageText ]
		
	
	!

!methodRemoval: ReceptiveAccountTest #test15TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 19:06:07'!
test15TransferReceiverMustBeDifferentToSender
	| receiverAndSender |
	receiverAndSender := ReceptiveAccount new.
	self should: 
		[Transfer from: receiverAndSender to: receiverAndSender for: 10.] 
		raise:  Error
		withExceptionDo: [:error | self assert: Transfer receiverMustBeDifferentFromSender equals: error messageText ]
		
	
	!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:06:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:06:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:06:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:06:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:06:12'!
PASSED!

!testRun: #TransferTest #test01TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!testRun: #TransferTest #test02TransferValueIsCorrect stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!testRun: #TransferTest #test03TransferValueIsSavedOnce stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!testRun: #TransferTest #test04TransferFor0RaisesError stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!testRun: #TransferTest #test05TransferForNegativeRaisesError stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!testRun: #TransferTest #test06TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 19:06:16'!
PASSED!

!methodRemoval: SendLeg #initializeWith: stamp: 'UC 6/2/2021 19:16:37'!
initializeWith: aTransfer
	transfer := aTransfer!

!methodRemoval: ReceiveLeg #initializeWith: stamp: 'UC 6/2/2021 19:16:41'!
initializeWith: aTransfer
	transfer := aTransfer!

AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferLeg category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:18:18'!
AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferLeg subclass: #SendLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferLeg subclass: #SendLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #SendLeg category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:18:39'!
TransferLeg subclass: #SendLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferLeg subclass: #ReceiveLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceiveLeg category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:18:49'!
TransferLeg subclass: #ReceiveLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferLeg methodsFor: 'nil' stamp: 'UC 6/2/2021 19:19:29'!
transfer
	^transfer! !

!methodRemoval: SendLeg #transfer stamp: 'UC 6/2/2021 19:19:29'!
transfer
	^transfer!
!TransferLeg methodsFor: 'nil' stamp: 'UC 6/2/2021 19:19:43' overrides: 50860374!
value
	^transfer value.! !

!methodRemoval: SendLeg #value stamp: 'UC 6/2/2021 19:19:43'!
value
	^transfer value.!

!methodRemoval: ReceiveLeg #value stamp: 'UC 6/2/2021 19:19:48'!
value
	^transfer value.!

!methodRemoval: ReceiveLeg #transfer stamp: 'UC 6/2/2021 19:19:50'!
transfer 
	^transfer!
!TransferLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:20:02'!
initializeFor: aTransfer
	transfer := aTransfer! !

!methodRemoval: ReceiveLeg #initializeFor: stamp: 'UC 6/2/2021 19:20:02'!
initializeFor: aTransfer
	transfer := aTransfer!

!methodRemoval: SendLeg #initializeFor: stamp: 'UC 6/2/2021 19:20:06'!
initializeFor: aTransfer
	transfer := aTransfer!
!TransferLeg methodsFor: 'do' stamp: 'UC 6/2/2021 19:22:51' overrides: 50861111!
doFor: aReport
	self subclassResponsibility.! !
!TransferLeg methodsFor: 'do' stamp: 'UC 6/2/2021 19:23:21' prior: 50863888 overrides: 50861111!
doFor: anOperation
	self subclassResponsibility.! !
!ReceiveLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:23:28' prior: 50861277 overrides: 50863893!
doFor: anOperation
	anOperation doForReceiveLeg: self.! !
!SendLeg methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:23:33' prior: 50861340 overrides: 50863893!
doFor: anOperation
	anOperation doForSendLeg: self.! !
!Deposit methodsFor: 'do' stamp: 'UC 6/2/2021 19:23:42' prior: 50861202 overrides: 50861111!
doFor: anOperation
	anOperation doForDeposit: self.! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 19:23:51' prior: 50861367 overrides: 50861111!
doFor: anOperation
	anOperation doForWithdraw: self.! !
!TransferLeg class methodsFor: 'nil' stamp: 'UC 6/2/2021 19:24:14' overrides: 50860406!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: ReceiveLeg class #register:on: stamp: 'UC 6/2/2021 19:24:14'!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction!
!TransferLeg class methodsFor: 'nil' stamp: 'UC 6/2/2021 19:24:22'!
for: aTransfer
	^self new initializeFor: aTransfer! !

!methodRemoval: ReceiveLeg class #for: stamp: 'UC 6/2/2021 19:24:22'!
for: aTransfer
	^self new initializeFor: aTransfer!

!methodRemoval: SendLeg class #for: stamp: 'UC 6/2/2021 19:24:26'!
for: aTransfer
	^self new initializeFor: aTransfer!

!methodRemoval: SendLeg class #register:on: stamp: 'UC 6/2/2021 19:24:28'!
register: aTransfer on: account

	| transaction |
	
	transaction := self for: aTransfer.
	account register: transaction.
		
	^ transaction!

!methodRemoval: AccountTransaction class #register:forTransfer:on: stamp: 'UC 6/2/2021 19:26:35'!
register: aValue forTransfer: aTransfer on: account 

	| transaction |
	
	transaction := self for: aValue withTransfer: aTransfer.
	account register: transaction.
		
	^ transaction!

!methodRemoval: AccountTransaction class #register:on: stamp: 'UC 6/2/2021 19:26:57'!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction!
!Account methodsFor: 'do' stamp: 'UC 6/2/2021 19:29:14'!
doFor: anOperation
	self subclassResponsibility.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'UC 6/2/2021 19:49:42'!
test10UnnamedReceptiveAccountNameIsEmpty
	self assert: '' equals: ReceptiveAccount new name.! !

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:49:55'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:50:05' prior: 50860282 overrides: 16896425!
initialize

	super initialize.
	transactions := OrderedCollection new.
	name := ''.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:10'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:10'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:50:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:11'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:11'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:50:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:50:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:24'!
FAILURE!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:50:24'!
FAILURE!
!ReceptiveAccount methodsFor: 'nil' stamp: 'UC 6/2/2021 19:50:57' overrides: 16882612!
name
	^name! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:51:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:51:30'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'UC 6/2/2021 19:52:51'!
test11NamedReceptiveAccountIsCorrect
	self assert: 'ra' equals: (ReceptiveAccount named: 'ra') name.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:52:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:52:58'!
ERROR!

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:52:58'!
ERROR!
!ReceptiveAccount class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 19:53:04'!
named: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNamed: aString ! !
!ReceptiveAccount class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 19:53:18' prior: 50864252!
named: aName 
	^self new initializeNamed: aName ! !

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:53:20'!
ERROR!
!ReceptiveAccount methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:53:39'!
initializeNamed: aName 
	self shouldBeImplemented.
	name := aName.! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:53:44' prior: 50864268!
initializeNamed: aName 
	name := aName.! !

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:53:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:54:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:54:01'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'UC 6/2/2021 19:54:46'!
test16UnnamedPortfolioNameIsEmpty
	self assert: '' equals: Portfolio new name.! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'UC 6/2/2021 19:54:48'!
PASSED!

!testRun: #PortfolioTest #test16UnnamedPortfolioNameIsEmpty stamp: 'UC 6/2/2021 19:54:48'!
FAILURE!

!testRun: #PortfolioTest #test16UnnamedPortfolioNameIsEmpty stamp: 'UC 6/2/2021 19:54:48'!
FAILURE!

Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Portfolio category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:54:57'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Portfolio methodsFor: 'nil' stamp: 'UC 6/2/2021 19:55:04' overrides: 16882612!
name
	^name! !
!Portfolio methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:55:22' prior: 50860143 overrides: 16896425!
initialize

	accounts := OrderedCollection new.
	parents := OrderedCollection new.
	name := ''.! !

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'UC 6/2/2021 19:55:30'!
PASSED!

!testRun: #PortfolioTest #test16UnnamedPortfolioNameIsEmpty stamp: 'UC 6/2/2021 19:55:30'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'UC 6/2/2021 19:56:00'!
test16NamedPortfolioIsCorrect
	self assert: 'port' equals: (Portfolio named: 'port') name.! !

!methodRemoval: PortfolioTest #test16UnnamedPortfolioNameIsEmpty stamp: 'UC 6/2/2021 19:56:04'!
test16UnnamedPortfolioNameIsEmpty
	self assert: '' equals: Portfolio new name.!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'UC 6/2/2021 19:56:09'!
PASSED!

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:56:09'!
ERROR!

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:56:09'!
ERROR!
!Portfolio class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 19:56:16'!
named: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNamed: aString ! !
!Portfolio class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 19:56:27' prior: 50864547!
named: aName 
	^self new initializeNamed: aName ! !

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:56:29'!
ERROR!
!Portfolio methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:56:35'!
initializeNamed: aName 
	self shouldBeImplemented.
	name := aName.! !
!Portfolio methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:56:38' prior: 50864562!
initializeNamed: aName 
	name := aName.! !

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:56:39'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:56:41'!
PASSED!

Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Portfolio category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:57:15'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:57:18'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Account category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 19:57:23'!
Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Account methodsFor: 'name' stamp: 'UC 6/2/2021 19:57:32' overrides: 16882612!
name
	^name! !

!methodRemoval: Portfolio #name stamp: 'UC 6/2/2021 19:57:32'!
name
	^name!

!methodRemoval: ReceptiveAccount #name stamp: 'UC 6/2/2021 19:57:45'!
name
	^name!
!Account class methodsFor: 'instance creation' stamp: 'UC 6/2/2021 19:58:03'!
named: aName 
	^self new initializeNamed: aName ! !

!methodRemoval: Portfolio class #named: stamp: 'UC 6/2/2021 19:58:03'!
named: aName 
	^self new initializeNamed: aName !

!methodRemoval: ReceptiveAccount class #named: stamp: 'UC 6/2/2021 19:58:11'!
named: aName 
	^self new initializeNamed: aName !
!Portfolio methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:58:35' prior: 50864567!
initializeNamed: aName 
	accounts := OrderedCollection new.
	parents := OrderedCollection new.
	name := aName.! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:58:55' prior: 50864274!
initializeNamed: aName 
	self initialize.
	name := aName.! !

!methodRemoval: Portfolio #initializeNamed: stamp: 'UC 6/2/2021 19:59:11'!
initializeNamed: aName 
	accounts := OrderedCollection new.
	parents := OrderedCollection new.
	name := aName.!
!Account methodsFor: 'initialization' stamp: 'UC 6/2/2021 19:59:20'!
initializeNamed: aName 
	self initialize.
	name := aName.! !

!methodRemoval: ReceptiveAccount #initializeNamed: stamp: 'UC 6/2/2021 19:59:20'!
initializeNamed: aName 
	self initialize.
	name := aName.!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:59:40'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 19:59:43'!
PASSED!

!testRun: #TransferTest #test01TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test02TransferValueIsCorrect stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test03TransferValueIsSavedOnce stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test04TransferFor0RaisesError stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test05TransferForNegativeRaisesError stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test06TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 19:59:45'!
PASSED!

!testRun: #TransferTest #test01TransferLegCanObtainTransfer stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #TransferTest #test02TransferValueIsCorrect stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #TransferTest #test03TransferValueIsSavedOnce stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #TransferTest #test04TransferFor0RaisesError stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #TransferTest #test05TransferForNegativeRaisesError stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #TransferTest #test06TransferReceiverMustBeDifferentToSender stamp: 'UC 6/2/2021 19:59:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08AccountsBalancesAfterTransferAreCorrect stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09AccountHasRegisteredTransferLegsCorrectly stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test10UnnamedReceptiveAccountNameIsEmpty stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test11NamedReceptiveAccountIsCorrect stamp: 'UC 6/2/2021 19:59:53'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithAccountsIsSumOfAccountsBalance stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'UC 6/2/2021 19:59:55'!
PASSED!

!testRun: #PortfolioTest #test16NamedPortfolioIsCorrect stamp: 'UC 6/2/2021 19:59:55'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:02:37'!
test19
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:05:37' prior: 50864984!
test19
	|emptyPortfolio report|
	emptyPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: emptyPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:05:45'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:05:45'!
ERROR!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:05:45'!
ERROR!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:05:55'!
getPortfolioStructureFor: aPortfolio 
	self shouldBeImplemented.! !

!classDefinition: #PortfolioStructure category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 20:06:45'!
Report subclass: #PortfolioStructure
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:06:33' prior: 50865067!
getPortfolioStructureFor: aPortfolio 
	^(PortfolioStructure for: aPortfolio) do.! !

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:06:47'!
ERROR!

!classDefinition: #PortfolioStructure category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 20:07:47'!
Report subclass: #PortfolioStructure
	instanceVariableNames: 'root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioStructure methodsFor: 'nil' stamp: 'UC 6/2/2021 20:07:39'!
initializeFor: aPortfolio
	root := aPortfolio.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:08:17'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:08:17'!
ERROR!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:08:17'!
ERROR!
!PortfolioStructure methodsFor: 'nil' stamp: 'UC 6/2/2021 20:08:58' overrides: 50862542!
do
	^OrderedCollection with: root name.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:09:55'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:09:55'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:10:19'!
test20
	|emptyPortfolio report|
	emptyPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: emptyPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:10:27' prior: 50865240!
test20
	|rootPortfolio report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:10:33' prior: 50865251!
test20
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:12:08' prior: 50865262!
test20
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) includes: 'Portafolio Root'.
	self assert: (report at: 2) includes: '  Cuenta de pepe'.
	
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:12:15'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:12:15'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:12:15'!
FAILURE!

!classDefinition: #PortfolioStructure category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 20:15:55'!
Report subclass: #PortfolioStructure
	instanceVariableNames: 'root childName'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:15:53' prior: 50865169 overrides: 50862542!
do
	root doForEachChildAccount: self.
	^OrderedCollection with: root name with: ('  ', childName).! !
!PortfolioStructure methodsFor: 'nil' stamp: 'UC 6/2/2021 20:16:42' overrides: 50862612!
doForEachChildAccount: aChildAccount
	childName := aChildAccount name.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:16:54'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:16:54'!
ERROR!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:16:54'!
FAILURE!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:17:06'!
ERROR!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:17:23' prior: 50865095!
initializeFor: aPortfolio
	root := aPortfolio.
	childName := ''
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:17:23' prior: 50865452!
initializeFor: aPortfolio
	root := aPortfolio.
	childName := ''.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:17:25'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:17:26'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:17:26'!
FAILURE!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:17:27'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:19:29' prior: 50865369 overrides: 50862542!
do
	|xx|
	root doForEachChildAccount: self.
	xx := OrderedCollection with: root name.
	^childName isNil ifTrue: [xx] ifFalse: [xx add: ('  ', childName)].! !

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:19:32'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:19:39' prior: 50865458!
initializeFor: aPortfolio
	root := aPortfolio.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:19:41'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:19:41'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:19:41'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:20:39'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:21:00'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:21:00'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:21:18'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:21:45' prior: 50865535 overrides: 50862542!
do
	|xx|
	root doForEachChildAccount: self.
	xx := OrderedCollection with: root name.
	childName isNil ifTrue: [xx] ifFalse: [xx add: ('  ', childName)].
	^xx! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:21:51'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:21:51'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:21:51'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:22:07'!
FAILURE!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:22:07'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:22:42' prior: 50865273!
test20
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	! !

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:22:43'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:22:45'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:22:48'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:22:48'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:23:12' prior: 50865716!
test20
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: accountPepe.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:23:39' prior: 50865805!
test20
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:23:49' prior: 50865822!
test20
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:23:59'!
test21
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:22:42' prior: 50865842!
test20
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:24:25'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:24:25'!
FAILURE!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:24:25'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:25:32' prior: 50865863!
test21
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:25:33'!
FAILURE!

!classDefinition: #PortfolioStructure category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 20:29:15'!
Report subclass: #PortfolioStructure
	instanceVariableNames: 'root childName structure'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:29:24' prior: 50865632 overrides: 50862542!
do
	root doForEachChildAccount: self.
	structure := OrderedCollection with: root name.
	childName isNil ifTrue: [structure] ifFalse: [structure add: ('  ', childName)].
	^structure! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:29:39' prior: 50866006 overrides: 50862542!
do
	structure := OrderedCollection with: root name.
	root doForEachChildAccount: self.
	^structure! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:30:03' prior: 50865375 overrides: 50862612!
doForEachChildAccount: aChildAccount
	structure add: '  ' , aChildAccount! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:30:11'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:30:11'!
ERROR!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:30:11'!
ERROR!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:30:19'!
ERROR!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:30:29' prior: 50866023 overrides: 50862612!
doForEachChildAccount: aChildAccount
	structure add: '  ' , aChildAccount name! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:30'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:30:31'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:30:31'!
FAILURE!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:30:31'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:30:37' prior: 50865973!
test21
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:30:38'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:30:39'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:30:39'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:32:12'!
xtest23
	|rootPortfolio childPortfolio accountPepe accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	rootPortfolio add: accountPepe.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:33:00' prior: 50866276!
xtest23
	|rootPortfolio childPortfolio accountPepe accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	rootPortfolio add: accountPepe.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	self assert: (report at: 4) equals: '  Cuenta de pepe'.
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:33:20'!
test22
	|rootPortfolio childPortfolio accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:33:27'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:33:27'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:33:27'!
FAILURE!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:34:35'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:34:35'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:34:35'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:34:35'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:34:35'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:36:40'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:37:15' prior: 50866103 overrides: 50862612!
doForEachChildAccount: aChildAccount
	aChildAccount doFor: self! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:37:35' overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	structure add: '  ' , aReceptiveAccount name! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:38:04' overrides: 50862586!
doForPortfolio: aPortfolio
	aPortfolio doForEachChildAccount: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:38:21'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:38:21'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:38:21'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:38:33' prior: 50866327!
test22
	|rootPortfolio childPortfolio accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	! !

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:38:59'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:39:28' prior: 50866451 overrides: 50862586!
doForPortfolio: aPortfolio
	structure add: '  ' , aPortfolio name.
	aPortfolio doForEachChildAccount: self.! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:39:31'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:39:31'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:39:31'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:39:32'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:39:32'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:39:32'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:40:46' prior: 50866438 overrides: 50862612!
doForEachChildAccount: aChildAccount
	^aChildAccount doFor: self! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:42:04' prior: 50866444 overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	self indent: aReceptiveAccount name! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:42:16' prior: 50866645 overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	^self indent: aReceptiveAccount name! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:42:28' prior: 50866652 overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	structure add: '  ' , aReceptiveAccount name! !

!classDefinition: #PortfolioStructure category: 'Portfolio-Solucion' stamp: 'UC 6/2/2021 20:46:28'!
Report subclass: #PortfolioStructure
	instanceVariableNames: 'root childName structure tabSize'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:46:27' prior: 50866556 overrides: 50862586!
doForPortfolio: aPortfolio
	tabSize := tabSize + 1
	structure add: (self indent: aPortfolio name).
	aPortfolio doForEachChildAccount: self.
	tabSize := tabSize - 1
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:47:51'!
indent: aString
	|result|
	result:=''.
	tabSize timesRepeat: [	result := '  ', result].
	^result , aString.! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:48:10' prior: 50866659 overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	structure add: (self indent: aReceptiveAccount name)! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:48:28' prior: 50865546!
initializeFor: aPortfolio
	root := aPortfolio.
	tabSize := 0.
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:48:44' prior: 50866698!
initializeFor: aPortfolio
	root := aPortfolio.
	tabSize := 0.
	structure := OrderedCollection new.
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:48:56' prior: 50866016 overrides: 50862542!
do
	structure add: root name.
	root doForEachChildAccount: self.
	^structure! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:48:58'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:48:58'!
FAILURE!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:48:58'!
FAILURE!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:48:58'!
ERROR!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:49:02'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:51:27' prior: 50866712 overrides: 50862542!
do
	structure add: root name.
	tabSize := tabSize + 1.
	root doForEachChildAccount: self.
	^structure! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:51:34'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:51:34'!
ERROR!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:51:34'!
ERROR!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:51:45' prior: 50866675 overrides: 50862586!
doForPortfolio: aPortfolio
	tabSize := tabSize + 1.
	structure add: (self indent: aPortfolio name).
	aPortfolio doForEachChildAccount: self.
	tabSize := tabSize - 1
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:51:53' prior: 50866877 overrides: 50862586!
doForPortfolio: aPortfolio
	tabSize := tabSize + 1.
	structure add: (self indent: aPortfolio name).
	aPortfolio doForEachChildAccount: self.
	tabSize := tabSize - 1.
	! !

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:51:55'!
FAILURE!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:52:22' prior: 50866794 overrides: 50862542!
do
	structure add: root name.
	root doForEachChildAccount: self.
	^structure! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:52:38' prior: 50866639 overrides: 50862612!
doForEachChildAccount: aChildAccount
	^aChildAccount doFor: self! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:53:19' prior: 50866899 overrides: 50862542!
do
	structure add: root name.
	root doForEachChildAccount: self.
	^structure! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:53:29' prior: 50866887 overrides: 50862586!
doForPortfolio: aPortfolio
	structure add: (self indent: aPortfolio name).
	tabSize := tabSize + 1.
	aPortfolio doForEachChildAccount: self.
	tabSize := tabSize - 1.
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 20:53:41' prior: 50866912 overrides: 50862542!
do
	structure add: root name.
	tabSize := tabSize + 1.
	root doForEachChildAccount: self.
	^structure! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:53:44'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:53:58'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:53:58'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:54:08'!
test23
	|rootPortfolio childPortfolio accountPepe accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	rootPortfolio add: accountPepe.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	self assert: (report at: 4) equals: '  Cuenta de pepe'.
	! !

!methodRemoval: ReportsTest #xtest23 stamp: 'UC 6/2/2021 20:54:11'!
xtest23
	|rootPortfolio childPortfolio accountPepe accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	rootPortfolio add: accountPepe.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	self assert: (report at: 4) equals: '  Cuenta de pepe'.
	!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:54:17'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 20:54:17'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:58:03'!
test24

	| angiesAccount childPortfolio childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	self assert: (report at: 4) equals: '  Cuenta de pepe'.
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 20:59:47' prior: 50867209!
test24

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portafolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 20:59:55'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 20:59:55'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 20:59:55'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 20:59:55'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 20:59:55'!
PASSED!

!testRun: #ReportsTest #test24 stamp: 'UC 6/2/2021 20:59:55'!
FAILURE!

!testRun: #ReportsTest #test24 stamp: 'UC 6/2/2021 20:59:55'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:00:02' prior: 50867241!
test24

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portafolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 21:00:03'!
PASSED!

!testRun: #ReportsTest #test24 stamp: 'UC 6/2/2021 21:00:04'!
FAILURE!

!testRun: #ReportsTest #test24 stamp: 'UC 6/2/2021 21:00:04'!
FAILURE!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:00:16' prior: 50867290!
test24

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!testRun: #ReportsTest #test24 stamp: 'UC 6/2/2021 21:00:18'!
PASSED!

!methodRemoval: ReportsTest #test23 stamp: 'UC 6/2/2021 21:00:53'!
test23
	|rootPortfolio childPortfolio accountPepe accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	rootPortfolio add: accountPepe.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 4 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	self assert: (report at: 4) equals: '  Cuenta de pepe'.
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:00:56'!
test23

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !

!methodRemoval: ReportsTest #test24 stamp: 'UC 6/2/2021 21:00:59'!
test24

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 21:01:04'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 21:01:04'!
PASSED!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:02:57' prior: 50866929 overrides: 50862542!
do
	self doForPortfolio: root.
	^structure! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test21 stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test22 stamp: 'UC 6/2/2021 21:02:59'!
PASSED!

!testRun: #ReportsTest #test23 stamp: 'UC 6/2/2021 21:02:59'!
PASSED!
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:03:32'!
incrementTabSize

	^ tabSize := tabSize + 1! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:03:32' prior: 50866919 overrides: 50862586!
doForPortfolio: aPortfolio
	structure add: (self indent: aPortfolio name).
	self incrementTabSize.
	aPortfolio doForEachChildAccount: self.
	tabSize := tabSize - 1.
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:03:42'!
decrementTabSize

	^ tabSize := tabSize - 1! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:03:42' prior: 50867765 overrides: 50862586!
doForPortfolio: aPortfolio
	structure add: (self indent: aPortfolio name).
	self incrementTabSize.
	aPortfolio doForEachChildAccount: self.
	self decrementTabSize.
	! !
!PortfolioStructure methodsFor: 'as yet unclassified' stamp: 'UC 6/2/2021 21:06:02' prior: 50867779 overrides: 50862586!
doForPortfolio: aPortfolio
	structure add: (self indent: aPortfolio name).
	
	self incrementTabSize.
	
	aPortfolio doForEachChildAccount: self.
	
	self decrementTabSize.
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:06:26'!
test19PortfolioStructureOfEmptyPortfolioIsPortfolioName
	|emptyPortfolio report|
	emptyPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: emptyPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	! !

!methodRemoval: ReportsTest #test19 stamp: 'UC 6/2/2021 21:06:26'!
test19
	|emptyPortfolio report|
	emptyPortfolio := Portfolio named: 'Portafolio Root'.
	report := self getPortfolioStructureFor: emptyPortfolio.
	self assert: 1 equals: report size.
	self assert: report includes: 'Portafolio Root'.
	
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:07:01'!
test20PortfolioStructureOfPortfolioWithAccountIsCorrect
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	! !

!methodRemoval: ReportsTest #test20 stamp: 'UC 6/2/2021 21:07:01'!
test20
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:07:42'!
test21PortfolioStructureOfPortfolioWithAccountsIsCorrect
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !

!methodRemoval: ReportsTest #test21 stamp: 'UC 6/2/2021 21:07:42'!
test21
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	!

!methodRemoval: ReportsTest #test20PortfolioStructureOfPortfolioWithAccountIsCorrect stamp: 'UC 6/2/2021 21:07:45'!
test20PortfolioStructureOfPortfolioWithAccountIsCorrect
	|rootPortfolio account report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	account := ReceptiveAccount named: 'Cuenta de pepe'.
	rootPortfolio add: account.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 2 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:07:49'!
test20PortfolioStructureOfPortfolioWithAccountsIsCorrect
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	! !

!methodRemoval: ReportsTest #test21PortfolioStructureOfPortfolioWithAccountsIsCorrect stamp: 'UC 6/2/2021 21:07:49'!
test21PortfolioStructureOfPortfolioWithAccountsIsCorrect
	|rootPortfolio accountPepe accountJuana report|
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountPepe := ReceptiveAccount named: 'Cuenta de pepe'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: accountPepe.
	rootPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Cuenta de pepe'.
	self assert: (report at: 3) equals: '  Cuenta de juana'.
	
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:08:18'!
test21PortfolioStructureOfPortfolioWithPortolfioWithAccountIsCorrect
	|rootPortfolio childPortfolio accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	! !

!methodRemoval: ReportsTest #test22 stamp: 'UC 6/2/2021 21:08:18'!
test22
	|rootPortfolio childPortfolio accountJuana report|
	childPortfolio := Portfolio named: 'Portafolio Hijo'.
	rootPortfolio := Portfolio named: 'Portafolio Root'.
	accountJuana := ReceptiveAccount named: 'Cuenta de juana'.
	rootPortfolio add: childPortfolio.
	childPortfolio add: accountJuana.
	
	report := self getPortfolioStructureFor: rootPortfolio.
	self assert: 3 equals: report size.
	self assert: (report at: 1) equals: 'Portafolio Root'.
	self assert: (report at: 2) equals: '  Portafolio Hijo'.
	self assert: (report at: 3) equals: '    Cuenta de juana'.
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:08:48'!
test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !

!methodRemoval: ReportsTest #test23 stamp: 'UC 6/2/2021 21:08:48'!
test23

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:10:26' prior: 50867999!
test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report davidsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	davidsAccount := ReceptiveAccount named: 'Cuenta de David'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	familyPortfolio add: davidsAccount.
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 5 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	! !
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:10:44' prior: 50868066!
test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report davidsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	davidsAccount := ReceptiveAccount named: 'Cuenta de David'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	familyPortfolio add: davidsAccount.
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 6 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	self assert: (report at: 6) equals: '  Cuenta de David'.
	! !

!testRun: #ReportsTest #test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect stamp: 'UC 6/2/2021 21:10:46'!
PASSED!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test19PortfolioStructureOfEmptyPortfolioIsPortfolioName stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test20PortfolioStructureOfPortfolioWithAccountsIsCorrect stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test21PortfolioStructureOfPortfolioWithPortolfioWithAccountIsCorrect stamp: 'UC 6/2/2021 21:10:49'!
PASSED!

!testRun: #ReportsTest #test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect stamp: 'UC 6/2/2021 21:10:49'!
PASSED!
!ReportsTest methodsFor: 'portfolio structure - tests' stamp: 'UC 6/2/2021 21:12:00'!
test22PortfolioStructureOfMultipleHeightsPortfolioIsCorrect

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report davidsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	davidsAccount := ReceptiveAccount named: 'Cuenta de David'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	familyPortfolio add: davidsAccount.
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 6 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	self assert: (report at: 6) equals: '  Cuenta de David'.
	! !

!methodRemoval: ReportsTest #test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect stamp: 'UC 6/2/2021 21:12:00'!
test23PortfolioStructureOfMultipleHeightsPortfolioIsCorrect

	| angiesAccount childrenPortfolio familyPortfolio johnsAccount myAccount report davidsAccount |
	johnsAccount := ReceptiveAccount named: 'Cuenta de Juan'.
	angiesAccount := ReceptiveAccount named: 'Cuenta de Angeles'.
	davidsAccount := ReceptiveAccount named: 'Cuenta de David'.
	childrenPortfolio := Portfolio named: 'Portfolio de hijos'.
	childrenPortfolio add: johnsAccount.
	childrenPortfolio add: angiesAccount.
	
	myAccount := ReceptiveAccount named: 'Cuenta mia'.
	familyPortfolio := Portfolio named: 'Portfolio de la familia'.
	familyPortfolio add: myAccount.
	familyPortfolio add: childrenPortfolio.
	familyPortfolio add: davidsAccount.
	
	report := self getPortfolioStructureFor: familyPortfolio.
	self assert: 6 equals: report size.
	self assert: (report at: 1) equals: 'Portfolio de la familia'.
	self assert: (report at: 2) equals: '  Cuenta mia'.
	self assert: (report at: 3) equals: '  Portfolio de hijos'.
	self assert: (report at: 4) equals: '    Cuenta de Juan'.
	self assert: (report at: 5) equals: '    Cuenta de Angeles'.
	self assert: (report at: 6) equals: '  Cuenta de David'.
	!

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test19PortfolioStructureOfEmptyPortfolioIsPortfolioName stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test20PortfolioStructureOfPortfolioWithAccountsIsCorrect stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test21PortfolioStructureOfPortfolioWithPortolfioWithAccountIsCorrect stamp: 'UC 6/2/2021 21:14:14'!
PASSED!

!testRun: #ReportsTest #test22PortfolioStructureOfMultipleHeightsPortfolioIsCorrect stamp: 'UC 6/2/2021 21:14:14'!
PASSED!
!PortfolioStructure methodsFor: 'iterators' stamp: 'UC 6/2/2021 21:16:55' overrides: 50862617!
doForEachTransaction: aTransaction! !
!PortfolioStructure methodsFor: 'transactions' stamp: 'UC 6/2/2021 21:17:18' overrides: 50862595!
doForDeposit: aTransaction! !
!PortfolioStructure methodsFor: 'transactions' stamp: 'UC 6/2/2021 21:17:25' overrides: 50862608!
doForWithdraw: aTransaction! !
!PortfolioStructure methodsFor: 'transactions' stamp: 'UC 6/2/2021 21:17:29' overrides: 50862599!
doForReceiveLeg: aTransaction! !
!PortfolioStructure methodsFor: 'transactions' stamp: 'UC 6/2/2021 21:17:32' overrides: 50862604!
doForSendLeg: aTransaction! !

!testRun: #ReportsTest #test01AccountSummaryForEmptyAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test02AccountSummaryForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test03AccountSummaryForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test04AccountSummaryForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test05AccountSummaryForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test06AccountSummaryForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test07AccountSummaryForEmptyPortfolio stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test08AccountSummaryForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test09AccountSummaryForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test10transferNetForEmptyAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test11transferNetForOneReceiveInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test12transferNetForOneDepositInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test13transferNetForOneWithdrawInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test14transferNetForOneSendInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test15transferNetForManyTransactionsInReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test16transferNetForEmptyPortfolio stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test17transferNetForPortfolioWithOneReceptiveAccount stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test18transferNetForPortfolioWithReceptiveAccountAndAnotherPortfolio stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test19PortfolioStructureOfEmptyPortfolioIsPortfolioName stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test20PortfolioStructureOfPortfolioWithAccountsIsCorrect stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test21PortfolioStructureOfPortfolioWithPortolfioWithAccountIsCorrect stamp: 'UC 6/2/2021 21:17:36'!
PASSED!

!testRun: #ReportsTest #test22PortfolioStructureOfMultipleHeightsPortfolioIsCorrect stamp: 'UC 6/2/2021 21:17:36'!
PASSED!
!PortfolioStructure methodsFor: 'accounts' stamp: 'UC 6/2/2021 21:22:40' prior: 50866691 overrides: 50862590!
doForReceptiveAccount: aReceptiveAccount
	structure add: (self indent: aReceptiveAccount name)! !

----QUIT----(3 June 2021 08:28:30) CuisUniversity-4532.image priorSource: 16886046!

----STARTUP---- (3 June 2021 17:47:47) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


----QUIT----(4 June 2021 10:08:45) CuisUniversity-4532.image priorSource: 17179073!

----STARTUP---- (5 June 2021 22:58:08) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


----QUIT----(7 June 2021 10:40:52) CuisUniversity-4532.image priorSource: 17179274!

----STARTUP---- (9 June 2021 18:04:22) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


Object subclass: #ShoppingCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ShoppingCart category: 'TusLibros' stamp: 'UC 6/9/2021 18:05:18'!
Object subclass: #ShoppingCart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #ShoppingCartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ShoppingCartTest category: 'TusLibros' stamp: 'UC 6/9/2021 18:05:39'!
TestCase subclass: #ShoppingCartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCartTest methodsFor: 'nil' stamp: 'UC 6/9/2021 18:06:35'!
test01anEmptyCartIsEmpty
	self assert: ShoppingCart new isEmpty. ! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:06:40'!
ERROR!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:06:40'!
ERROR!
!ShoppingCart methodsFor: 'testing' stamp: 'UC 6/9/2021 18:07:07'!
isEmpty
	self shouldBeImplemented.! !
!ShoppingCart methodsFor: 'testing' stamp: 'UC 6/9/2021 18:07:12' prior: 50868548!
isEmpty
	^true! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:07:13'!
PASSED!

!classDefinition: #Book category: 'TusLibros' stamp: 'UC 6/9/2021 18:10:09'!
Object subclass: #Book
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:10:18'!
test02aCartWithOneBookIsNotEmpty
	| cart |
	cart := ShoppingCart new.
	cart addBook: (Book withISBN: '978-3-16-148410-0'). 
	self assert: cart isEmpty not. ! !

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:10:26'!
ERROR!
!Book class methodsFor: 'instance creation' stamp: 'UC 6/9/2021 18:10:32'!
withISBN: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithISBN: aString ! !
!Book class methodsFor: 'instance creation' stamp: 'UC 6/9/2021 18:10:47' prior: 50868576!
withISBN: anISBNCode 
	^self new initializeWithISBN: anISBNCode ! !

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:10:53'!
ERROR!

!classDefinition: #Book category: 'TusLibros' stamp: 'UC 6/9/2021 18:11:11'!
Object subclass: #Book
	instanceVariableNames: 'iSBNCode'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Book methodsFor: 'initialization' stamp: 'UC 6/9/2021 18:11:11'!
initializeWithISBN: anISBNCode 
	self shouldBeImplemented.
	iSBNCode := anISBNCode.! !

!classDefinition: #Book category: 'TusLibros' stamp: 'UC 6/9/2021 18:11:37'!
Object subclass: #Book
	instanceVariableNames: 'iSBNCode isbn'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Book methodsFor: 'initialization' stamp: 'UC 6/9/2021 18:11:36' prior: 50868598!
initializeWithISBN: anISBNCode 
	isbn = anISBNCode.! !

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:11:39'!
ERROR!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:11:59'!
addBook: aBook 
	self shouldBeImplemented.! !

!classDefinition: #ShoppingCart category: 'TusLibros' stamp: 'UC 6/9/2021 18:12:25'!
Object subclass: #ShoppingCart
	instanceVariableNames: 'books'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:12:24' prior: 50868618!
addBook: aBook 
	books add: aBook.! !

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:12:27'!
ERROR!
!ShoppingCart methodsFor: 'nil' stamp: 'UC 6/9/2021 18:12:49' overrides: 16896425!
initialize
	books := OrderedCollection new.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:13:22' prior: 50868565!
test02aCartWithOneBookIsNotEmpty
	| cart |
	cart := ShoppingCart new.
	cart add: 1 of: (Book withISBN: '978-3-16-148410-0'). 
	self assert: cart isEmpty not. ! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:14:32'!
add: anAmountOfBooks of: aBook 
	books add: aBook.! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:14:38'!
PASSED!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:14:38'!
FAILURE!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:14:38'!
FAILURE!
!ShoppingCart methodsFor: 'testing' stamp: 'UC 6/9/2021 18:15:04' prior: 50868552!
isEmpty
	^books isEmpty! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:15:41'!
PASSED!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:15:41'!
PASSED!

!methodRemoval: ShoppingCart #addBook: stamp: 'UC 6/9/2021 18:23:15'!
addBook: aBook 
	books add: aBook.!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:31:32'!
test03ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert cart list includes: book1.
	self assert cart list includes: book2.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:31:41' prior: 50868677!
test03ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:31:43'!
ERROR!
!ShoppingCart methodsFor: 'accessing' stamp: 'UC 6/9/2021 18:31:51'!
list
	self shouldBeImplemented.! !
!ShoppingCart methodsFor: 'accessing' stamp: 'UC 6/9/2021 18:31:55' prior: 50868709!
list
	^books! !

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:32:00'!
FAILURE!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:32:24' prior: 50868650!
add: anAmountOfBooks of: aBook 
	anAmountOfBooks timesRepeat: [books add: aBook].! !

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:32:26'!
PASSED!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:32:26'!
PASSED!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:32:26'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:32:26'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:32:29'!
PASSED!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:32:34'!
PASSED!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:32:34'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:32:34'!
PASSED!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:53:14'!
test04
	| cart book1 |
	book1 := Book withISBN: '978-3-16-148410-0'.
	cart := ShoppingCart withCatalogue: Set new.
	
	self should:  [cart add: 1 of: book1]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	! !

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:53:22'!
ERROR!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:53:22'!
ERROR!
!ShoppingCart class methodsFor: 'instance creation' stamp: 'UC 6/9/2021 18:53:30'!
withCatalogue: aSet 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalogue: aSet ! !

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:54:03'!
ERROR!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:56:18' prior: 50868751!
test04
	| cart book1 |
	book1 := Book withISBN: '978-3-16-148410-0'.
	cart := ShoppingCart new.
	
	self should:  [cart add: 1 of: book1]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	! !

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:56:55'!
FAILURE!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:56:55'!
FAILURE!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:57:03'!
PASSED!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:57:20' prior: 50868720!
add: anAmountOfBooks of: aBook 
	self error: self class.
	anAmountOfBooks timesRepeat: [books add: aBook].! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:57:31' prior: 50868798!
add: anAmountOfBooks of: aBook 
	self error: self class bookDoesNotBelongToCatalogueError.
	anAmountOfBooks timesRepeat: [books add: aBook].! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 18:57:34'!
PASSED!

!testRun: #ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 18:57:34'!
ERROR!

!testRun: #ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 18:57:34'!
ERROR!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:57:34'!
ERROR!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:57:41'!
ERROR!
!ShoppingCart class methodsFor: 'error descriptions' stamp: 'UC 6/9/2021 18:57:55'!
bookDoesNotBelongToCatalogueError
	self shouldBeImplemented.! !
!ShoppingCart class methodsFor: 'error descriptions' stamp: 'UC 6/9/2021 18:58:12' prior: 50868827!
bookDoesNotBelongToCatalogueError
	^'Book does not belong to catalogue'! !

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:58:14'!
FAILURE!

!testRun: #ShoppingCartTest #test04 stamp: 'UC 6/9/2021 18:58:17'!
PASSED!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:58:54' prior: 50868642!
test02aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!classDefinition: #ShoppingCart category: 'TusLibros' stamp: 'UC 6/9/2021 18:59:31'!
Object subclass: #ShoppingCart
	instanceVariableNames: 'books catalogue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:59:29'!
addToCatalogue: aBook
	catalogue add: aBook.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 18:59:39' prior: 50868637 overrides: 16896425!
initialize
	books := OrderedCollection new.
	catalogue := Set new.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:00:53'!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart book1 |
	book1 := Book withISBN: '978-3-16-148410-0'.
	cart := ShoppingCart new.
	
	self should:  [cart add: 1 of: book1]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:00:58'!
test03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!methodRemoval: ShoppingCartTest #test02aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:00:58'!
test02aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:01:05'!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !

!methodRemoval: ShoppingCartTest #test03ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:01:05'!
test03ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.!

!methodRemoval: ShoppingCartTest #test04 stamp: 'UC 6/9/2021 19:01:09'!
test04
	| cart book1 |
	book1 := Book withISBN: '978-3-16-148410-0'.
	cart := ShoppingCart new.
	
	self should:  [cart add: 1 of: book1]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:01:17'!
xtest03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!methodRemoval: ShoppingCartTest #test03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:01:17'!
test03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:01:20'!
xtest04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !

!methodRemoval: ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:01:20'!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:01:24'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:01:24'!
PASSED!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:01:29'!
test03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!methodRemoval: ShoppingCartTest #xtest03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:01:29'!
xtest03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:01:31'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:01:31'!
PASSED!

!testRun: #ShoppingCartTest #test03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:01:31'!
ERROR!

!testRun: #ShoppingCartTest #test03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:01:31'!
ERROR!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:02:08' prior: 50868805!
add: anAmountOfBooks of: aBook 
	catalogue isEmpty ifTrue: [self error: self class bookDoesNotBelongToCatalogueError].
	anAmountOfBooks timesRepeat: [books add: aBook].! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:02:20'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:02:20'!
PASSED!

!testRun: #ShoppingCartTest #test03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:02:20'!
PASSED!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:02:32'!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !

!methodRemoval: ShoppingCartTest #xtest04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:02:32'!
xtest04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:03:41' prior: 50869049!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart addToCatalogue: book1.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:04:13'!
test03ACartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!methodRemoval: ShoppingCartTest #test03aCartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:04:15'!
test03aCartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalogue: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:05:24' prior: 50868872!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart aCataloguedBook aNotCataloguedBook |
	aCataloguedBook := Book withISBN: '978-3-16-148410-0'.
	aNotCataloguedBook :=  Book withISBN: '978-3-16-148410-1'.
	cart := ShoppingCart new.
	cart addToCatalogue: aCataloguedBook.
	
	self should:  [cart add: 1 of: aNotCataloguedBook]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	! !

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:05:32'!
FAILURE!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:05:32'!
FAILURE!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:05:54' prior: 50869031!
add: anAmountOfBooks of: aBook 
	(catalogue includes: aBook) ifTrue: [self error: self class bookDoesNotBelongToCatalogueError].
	anAmountOfBooks timesRepeat: [books add: aBook].! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:05:57'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:05:57'!
FAILURE!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:05:57'!
ERROR!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:05:57'!
ERROR!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:06:04'!
ERROR!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:06:14'!
PASSED!
!Book methodsFor: 'nil' stamp: 'UC 6/9/2021 19:06:56' overrides: 16881029!
= anotherBook
	^isbn = anotherBook isbn.! !
!Book methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:07:06'!
isbn
	^isbn! !

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:07:46'!
FAILURE!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:07:46'!
FAILURE!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:09:18'!
FAILURE!
!Book methodsFor: 'initialization' stamp: 'UC 6/9/2021 19:10:00' prior: 50868610!
initializeWithISBN: anISBNCode 
	isbn := anISBNCode.! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:10:04'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:10:04'!
FAILURE!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:10:04'!
ERROR!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:10:05'!
ERROR!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:10:10'!
FAILURE!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:11:04'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:11:04'!
FAILURE!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:11:04'!
ERROR!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:11:04'!
ERROR!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:11:06'!
ERROR!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:11:09'!
FAILURE!

Object subclass: #Book
	instanceVariableNames: 'isbn'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Book category: 'TusLibros' stamp: 'UC 6/9/2021 19:12:41'!
Object subclass: #Book
	instanceVariableNames: 'isbn'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:13:14' prior: 50869139!
add: anAmountOfBooks of: aBook 
	(catalogue includes: aBook) not ifTrue: [self error: self class bookDoesNotBelongToCatalogueError].
	anAmountOfBooks timesRepeat: [books add: aBook].! !

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:13:15'!
PASSED!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:13:19'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:13:19'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:13:19'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:13:19'!
ERROR!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:13:19'!
ERROR!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:29:15' prior: 50868537!
test01anEmptyCartIsEmpty
	self assert: self createShoppingCart isEmpty. ! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:31:14'!
createShoppingCart
	| catalogue |
	catalogue := OrderedCollection with: self cataloguedItem.
	ShoppingCart withCatalogue: catalogue.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:33:08' prior: 50869274!
createShoppingCart
	| catalogue |
	catalogue := OrderedCollection with: self catalogueItem.
	ShoppingCart withCatalogue: catalogue.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:35:01' prior: 50869282!
createShoppingCart
	| catalog |
	catalog := OrderedCollection with: self catalogItem.
	ShoppingCart withCatalogue: catalog.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:35:21'!
catalogItem.
	^''! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:35:34' prior: 50869297!
catalogItem.
	^'978-3-16-148410-0'! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:36:17'!
notInCatalogItem.
	^'000-0-00-000000-0'! !
!ShoppingCart class methodsFor: 'instance creation' stamp: 'UC 6/9/2021 19:36:37'!
withCatalog: aSet 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalogue: aSet ! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:36:37' prior: 50869290!
createShoppingCart
	| catalog |
	catalog := OrderedCollection with: self catalogItem.
	ShoppingCart withCatalog: catalog.! !

!methodRemoval: ShoppingCart class #withCatalogue: stamp: 'UC 6/9/2021 19:36:37'!
withCatalogue: aSet 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalogue: aSet !
!ShoppingCart class methodsFor: 'instance creation' stamp: 'UC 6/9/2021 19:36:58' prior: 50869309!
withCatalog: aCatalog 
	^self new initializeWithCatalog: aCatalog ! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:13'!
initializeWithCatalog: aCatalog
	books := OrderedCollection new.
	catalogue := aCatalog.! !

!classDefinition: #ShoppingCart category: 'TusLibros' stamp: 'UC 6/9/2021 19:37:19'!
Object subclass: #ShoppingCart
	instanceVariableNames: 'items catalogue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:19' prior: 50868867 overrides: 16896425!
initialize
	items := OrderedCollection new.
	catalogue := Set new.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:19' prior: 50869338!
initializeWithCatalog: aCatalog
	items := OrderedCollection new.
	catalogue := aCatalog.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:19' prior: 50868664!
isEmpty
	^items isEmpty! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:19' prior: 50868713!
list
	^items! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:19' prior: 50869239!
add: anAmountOfBooks of: aBook 
	(catalogue includes: aBook) not ifTrue: [self error: self class bookDoesNotBelongToCatalogueError].
	anAmountOfBooks timesRepeat: [items add: aBook].! !

!methodRemoval: ShoppingCart #initialize stamp: 'UC 6/9/2021 19:37:27'!
initialize
	items := OrderedCollection new.
	catalogue := Set new.!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:37'!
addToCatalog: aBook
	catalogue add: aBook.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:37' prior: 50869078!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart new.
	book1 := Book withISBN: '978-3-16-148410-0'.
	book2 := Book withISBN: '978-3-16-148410-1'.
	cart addToCatalog: book1.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:37' prior: 50869113!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart aCataloguedBook aNotCataloguedBook |
	aCataloguedBook := Book withISBN: '978-3-16-148410-0'.
	aNotCataloguedBook :=  Book withISBN: '978-3-16-148410-1'.
	cart := ShoppingCart new.
	cart addToCatalog: aCataloguedBook.
	
	self should:  [cart add: 1 of: aNotCataloguedBook]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogueError equals: error messageText  ].
	! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:37' prior: 50869093!
test03ACartWithOneBookIsNotEmpty
	| cart book1 |
	cart := ShoppingCart new.
	book1 := (Book withISBN: '978-3-16-148410-0').
	cart addToCatalog: book1.
	cart add: 1 of: book1. 
	self assert: cart isEmpty not. ! !

!methodRemoval: ShoppingCart #addToCatalogue: stamp: 'UC 6/9/2021 19:37:37'!
addToCatalogue: aBook
	catalogue add: aBook.!

!classDefinition: #ShoppingCart category: 'TusLibros' stamp: 'UC 6/9/2021 19:37:42'!
Object subclass: #ShoppingCart
	instanceVariableNames: 'items catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:42' prior: 50869358!
initializeWithCatalog: aCatalog
	items := OrderedCollection new.
	catalog := aCatalog.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:42' prior: 50869385!
addToCatalog: aBook
	catalog add: aBook.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:42' prior: 50869372!
add: anAmountOfBooks of: aBook 
	(catalog includes: aBook) not ifTrue: [self error: self class bookDoesNotBelongToCatalogueError].
	anAmountOfBooks timesRepeat: [items add: aBook].! !
!ShoppingCart class methodsFor: 'error descriptions' stamp: 'UC 6/9/2021 19:37:52'!
bookDoesNotBelongToCatalogError
	^'Book does not belong to catalogue'! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:52' prior: 50869405!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart aCataloguedBook aNotCataloguedBook |
	aCataloguedBook := Book withISBN: '978-3-16-148410-0'.
	aNotCataloguedBook :=  Book withISBN: '978-3-16-148410-1'.
	cart := ShoppingCart new.
	cart addToCatalog: aCataloguedBook.
	
	self should:  [cart add: 1 of: aNotCataloguedBook]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogError equals: error messageText  ].
	! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:37:52' prior: 50869455!
add: anAmountOfBooks of: aBook 
	(catalog includes: aBook) not ifTrue: [self error: self class bookDoesNotBelongToCatalogError].
	anAmountOfBooks timesRepeat: [items add: aBook].! !

!methodRemoval: ShoppingCart class #bookDoesNotBelongToCatalogueError stamp: 'UC 6/9/2021 19:37:52'!
bookDoesNotBelongToCatalogueError
	^'Book does not belong to catalogue'!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:39:28' prior: 50869470!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: 1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart bookDoesNotBelongToCatalogError equals: error messageText  ].
	! !
!ShoppingCart class methodsFor: 'error descriptions' stamp: 'UC 6/9/2021 19:39:51' prior: 50869464!
bookDoesNotBelongToCatalogError
	^'Item does not belong to catalogue'! !
!ShoppingCart class methodsFor: 'error descriptions' stamp: 'UC 6/9/2021 19:39:57'!
itemDoesNotBelongToCatalogError
	^'Item does not belong to catalogue'! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:39:57' prior: 50869488!
add: anAmountOfBooks of: aBook 
	(catalog includes: aBook) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	anAmountOfBooks timesRepeat: [items add: aBook].! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:39:57' prior: 50869502!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: 1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart itemDoesNotBelongToCatalogError equals: error messageText  ].
	! !

!methodRemoval: ShoppingCart class #bookDoesNotBelongToCatalogError stamp: 'UC 6/9/2021 19:39:57'!
bookDoesNotBelongToCatalogError
	^'Item does not belong to catalogue'!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:40:09' prior: 50869526!
add: anAmountOfItems of: aBook 
	(catalog includes: aBook) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	anAmountOfItems timesRepeat: [items add: aBook].! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:40:14' prior: 50869553!
add: anAmountOfItems of: anItem 
	(catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	anAmountOfItems timesRepeat: [items add: anItem].! !

!methodRemoval: ShoppingCart #addToCatalog: stamp: 'UC 6/9/2021 19:40:29'!
addToCatalog: aBook
	catalog add: aBook.!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:41:09' prior: 50869423!
test03ACartWithOneBookIsNotEmpty
	| cart |
	cart := self createShoppingCart.
	cart add: 1 of: self catalogItem. 
	self assert: cart isEmpty not. ! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:43:55' prior: 50869390!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	cart := ShoppingCart withCatalogue: (OrderedCollection new).
	
	cart addToCatalog: book1.
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:46:46' prior: 50869583!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	book1 := '1'.
	book2 := '2'.
	cart := ShoppingCart withCatalog: (OrderedCollection with: book1 with: book2).
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart list size.
	self assert: cart list includes: book1.
	self assert: cart list includes: book2.! !

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:46:49'!
PASSED!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:46:52'!
ERROR!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:46:52'!
FAILURE!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:46:52'!
ERROR!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:46:52'!
PASSED!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:47:00'!
ERROR!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:47:27'!
ERROR!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:47:27'!
ERROR!
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:47:47' prior: 50869318!
createShoppingCart
	| catalog |
	catalog := OrderedCollection with: self catalogItem.
	^ShoppingCart withCatalog: catalog.
	! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:47:49'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:47:49'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:47:49'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:47:49'!
PASSED!

!classRemoval: #Book stamp: 'UC 6/9/2021 19:48:05'!
Object subclass: #Book
	instanceVariableNames: 'isbn'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ShoppingCart methodsFor: 'accessing' stamp: 'UC 6/9/2021 19:48:38'!
items
	^items! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:48:38' prior: 50869596!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	book1 := '1'.
	book2 := '2'.
	cart := ShoppingCart withCatalog: (OrderedCollection with: book1 with: book2).
	cart add: 3 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart items size.
	self assert: cart items includes: book1.
	self assert: cart items includes: book2.! !

!methodRemoval: ShoppingCart #list stamp: 'UC 6/9/2021 19:48:38'!
list
	^items!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:54:57' prior: 50869666!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	book1 := '1'.
	book2 := '2'.
	cart := ShoppingCart withCatalog: (OrderedCollection with: book1 with: book2).
	cart add: 1 of: book1.
	cart add: 2 of: book2. 
	self assert: 5 equals: cart items size.
	self assert: book1 equals: (cart items at: 1).
	self assert: book2 equals: (cart items at: 2).
	self assert: book2 equals: (cart items at: 3).! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:55:00'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:55:00'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:55:00'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:55:00'!
FAILURE!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:55:00'!
FAILURE!

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:55:09'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:55:09'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:55:09'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:55:09'!
FAILURE!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:55:09'!
FAILURE!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:55:13' prior: 50869683!
test04ACartWithManyBooksListsAllOfThem
	| cart book1 book2 |
	book1 := '1'.
	book2 := '2'.
	cart := ShoppingCart withCatalog: (OrderedCollection with: book1 with: book2).
	cart add: 1 of: book1.
	cart add: 2 of: book2. 
	self assert: 3 equals: cart items size.
	self assert: book1 equals: (cart items at: 1).
	self assert: book2 equals: (cart items at: 2).
	self assert: book2 equals: (cart items at: 3).! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 19:55:15'!
PASSED!

!testRun: #ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:55:15'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 19:55:15'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 19:55:15'!
PASSED!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:57:11'!
test02AddANotPositiveAmountOfItemsTimesRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: -1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].
	self should:  [cart add: 0 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].	! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:57:23'!
test05AddANotPositiveAmountOfItemsTimesRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: -1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].
	self should:  [cart add: 0 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].	! !

!methodRemoval: ShoppingCartTest #test02AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 19:57:23'!
test02AddANotPositiveAmountOfItemsTimesRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: -1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].
	self should:  [cart add: 0 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].	!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 19:57:31'!
test02AddAnItemThatDoesNotBelongToCatalogueRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: 1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart itemDoesNotBelongToCatalogError equals: error messageText  ].
	! !

!methodRemoval: ShoppingCartTest #test02AddABookThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 19:57:31'!
test02AddABookThatDoesNotBelongToCatalogueRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: 1 of: self notInCatalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart itemDoesNotBelongToCatalogError equals: error messageText  ].
	!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 19:57:42'!
ERROR!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 19:57:42'!
ERROR!
!ShoppingCart class methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:58:04'!
cannotAddANotPositiveAmountOfItemsError
	self shouldBeImplemented.! !
!ShoppingCart class methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 19:58:50' prior: 50869849!
cannotAddANotPositiveAmountOfItemsError
	^'The amount of items that is added must be >= 1'.! !

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 19:59:11'!
FAILURE!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 19:59:30'!
FAILURE!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:00:37' prior: 50869562!
add: anAmountOfItems of: anItem 
	(catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	(anAmountOfItems < 1) ifTrue: [self error: self class cannotAddANotPositiveAmountOfItemsError].
	anAmountOfItems timesRepeat: [items add: anItem].! !

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:00:39'!
FAILURE!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:00:41'!
FAILURE!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:01:14'!
FAILURE!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:01:51' prior: 50869779!
test05AddANotPositiveAmountOfItemsTimesRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: -1 of: self catalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].
	self should:  [cart add: 0 of: self catalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ].	! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 20:01:56'!
PASSED!

!testRun: #ShoppingCartTest #test02AddAnItemThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 20:01:56'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 20:01:56'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 20:01:56'!
PASSED!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:01:56'!
PASSED!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:03:20'!
test06
	| cart |
	cart := self createShoppingCart.
	cart add: 1.5 of: self catalogItem.
	"self should:  [ ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ]"	! !

!testRun: #ShoppingCartTest #test06 stamp: 'UC 6/9/2021 20:03:23'!
ERROR!

!testRun: #ShoppingCartTest #test06 stamp: 'UC 6/9/2021 20:03:23'!
ERROR!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:04:59' prior: 50869927!
test06
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ]	! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:05:31'!
test06AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotIntegerAmountOfItemsError equals: error messageText  ]	! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:05:43'!
test07AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotIntegerAmountOfItemsError equals: error messageText  ]	! !

!methodRemoval: ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:05:43'!
test06AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotIntegerAmountOfItemsError equals: error messageText  ]	!

!methodRemoval: ShoppingCartTest #test06 stamp: 'UC 6/9/2021 20:05:48'!
test06
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotPositiveAmountOfItemsError equals: error messageText  ]	!
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:05:52'!
test06AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotIntegerAmountOfItemsError equals: error messageText  ]	! !

!methodRemoval: ShoppingCartTest #test07AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:05:52'!
test07AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart cannotAddANotIntegerAmountOfItemsError equals: error messageText  ]	!

!testRun: #ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:05:57'!
ERROR!

!testRun: #ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:05:57'!
ERROR!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:07:41' prior: 50869869!
add: anAmountOfItems of: anItem 
	(catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	(anAmountOfItems < 1 and: anAmountOfItems isInteger) ifTrue: [self error: self class cannotAddANotPositiveAmountOfItemsError].
	anAmountOfItems timesRepeat: [items add: anItem].! !
!ShoppingCart class methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:07:59'!
invalidAmountOfItemsError
	^'The amount of items that is added must be >= 1'.! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:07:59' prior: 50870031!
add: anAmountOfItems of: anItem 
	(catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	(anAmountOfItems < 1 and: anAmountOfItems isInteger) ifTrue: [self error: self class invalidAmountOfItemsError].
	anAmountOfItems timesRepeat: [items add: anItem].! !
!ShoppingCartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:07:59' prior: 50869892!
test05AddANotPositiveAmountOfItemsTimesRaisesError
	| cart |
	cart := self createShoppingCart.
	
	self should:  [cart add: -1 of: self catalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart invalidAmountOfItemsError equals: error messageText  ].
	self should:  [cart add: 0 of: self catalogItem ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart invalidAmountOfItemsError equals: error messageText  ].	! !

!methodRemoval: ShoppingCart class #cannotAddANotPositiveAmountOfItemsError stamp: 'UC 6/9/2021 20:07:59'!
cannotAddANotPositiveAmountOfItemsError
	^'The amount of items that is added must be >= 1'.!
!ShoppingCart class methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:08:57' prior: 50870044!
invalidAmountOfItemsError
	^'The amount of items that is added must be an integer >= 1'.! !
!ShoppingCart class methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:09:09' prior: 50870087!
invalidAmountOfItemsError
	^'The amount of items that is added must be an integer greater than 0'.! !
!ShoppingCartTest methodsFor: 'tests' stamp: 'UC 6/9/2021 20:09:31' prior: 50869999!
test06AddANotIntegerAmountOfItemsRaisesError
	| cart |
	cart := self createShoppingCart.
	self should:  [ cart add: 1.5 of: self catalogItem. ]
		raise: Error
		withExceptionDo: [:error | self assert: ShoppingCart invalidAmountOfItemsError equals: error messageText  ]	! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 20:09:34'!
PASSED!

!testRun: #ShoppingCartTest #test02AddAnItemThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 20:09:34'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 20:09:34'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 20:09:34'!
PASSED!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:09:34'!
PASSED!

!testRun: #ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:09:34'!
FAILURE!

!testRun: #ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:09:34'!
FAILURE!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:09:56' prior: 50870050!
add: anAmountOfItems of: anItem 
	(catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError].
	(anAmountOfItems < 1 or: anAmountOfItems isInteger not) ifTrue: [self error: self class invalidAmountOfItemsError].
	anAmountOfItems timesRepeat: [items add: anItem].! !

!testRun: #ShoppingCartTest #test01anEmptyCartIsEmpty stamp: 'UC 6/9/2021 20:09:59'!
PASSED!

!testRun: #ShoppingCartTest #test02AddAnItemThatDoesNotBelongToCatalogueRaisesError stamp: 'UC 6/9/2021 20:09:59'!
PASSED!

!testRun: #ShoppingCartTest #test03ACartWithOneBookIsNotEmpty stamp: 'UC 6/9/2021 20:09:59'!
PASSED!

!testRun: #ShoppingCartTest #test04ACartWithManyBooksListsAllOfThem stamp: 'UC 6/9/2021 20:09:59'!
PASSED!

!testRun: #ShoppingCartTest #test05AddANotPositiveAmountOfItemsTimesRaisesError stamp: 'UC 6/9/2021 20:09:59'!
PASSED!

!testRun: #ShoppingCartTest #test06AddANotIntegerAmountOfItemsRaisesError stamp: 'UC 6/9/2021 20:09:59'!
PASSED!
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:10:51'!
assertCatalogIncludes: anItem

	^ (catalog includes: anItem) not ifTrue: [self error: self class itemDoesNotBelongToCatalogError]! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:10:51' prior: 50870136!
add: anAmountOfItems of: anItem 
	self assertCatalogIncludes: anItem.
	(anAmountOfItems < 1 or: anAmountOfItems isInteger not) ifTrue: [self error: self class invalidAmountOfItemsError].
	anAmountOfItems timesRepeat: [items add: anItem].! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:12:41'!
assertAmountIsValid: anAmountOfItems

	^ (anAmountOfItems < 1 or: anAmountOfItems isInteger not) ifTrue: [self error: self class invalidAmountOfItemsError]! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:12:41' prior: 50870177!
add: anAmountOfItems of: anItem 
	self assertCatalogIncludes: anItem.
	self assertAmountIsValid: anAmountOfItems.
	anAmountOfItems timesRepeat: [items add: anItem].! !
!ShoppingCart methodsFor: 'as yet unclassified' stamp: 'UC 6/9/2021 20:13:29' prior: 50870195!
add: anAmount of: anItem 
	self assertCatalogIncludes: anItem.
	self assertAmountIsValid: anAmount.
	anAmount timesRepeat: [items add: anItem].! !

----QUIT----(10 June 2021 10:31:02) CuisUniversity-4532.image priorSource: 17179475!

----STARTUP---- (10 June 2021 20:54:07) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


----QUIT----(11 June 2021 11:57:28) CuisUniversity-4532.image priorSource: 17233938!

----STARTUP---- (13 June 2021 15:21:56) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


GregorianMonthOfYear yearNumber: 2021 monthNumber: 7 !

GregorianMonthOfYear today!

GregorianDate today!

Date today!

Date today number!

Date today month number!

Date today month!

Date today month monthIndex !

OrderedCollection with: 1 with: 3 with: 2 removeAll!

(OrderedCollection with: 1 with: 3 with: 2) removeAll!

(OrderedCollection with: 1 with: 3 with: 2) removeAll!

(OrderedCollection with: 1 with: 3 with: 2) removeAll size!

----QUIT----(14 June 2021 10:52:39) CuisUniversity-4532.image priorSource: 17234141!

----STARTUP---- (14 June 2021 13:50:19) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


76666 digitLength !

76666 digitLength!

76666 digitLength!

766 digitLength!

76 digitLength!

7 digitLength !

7 digitLength!

0000007!

0000007 asString!

----QUIT----(15 June 2021 15:07:35) CuisUniversity-4532.image priorSource: 17234787!

----STARTUP---- (16 June 2021 15:29:26) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


Date today!

Date today asMonth !

----QUIT----(16 June 2021 19:03:09) CuisUniversity-4532.image priorSource: 17235148!

----STARTUP---- (16 June 2021 19:03:19) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


!classRemoval: #ShoppingCart stamp: 'UC 6/16/2021 19:03:34'!
Object subclass: #ShoppingCart
	instanceVariableNames: 'items catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #ShoppingCartTest stamp: 'UC 6/16/2021 19:03:35'!
TestCase subclass: #ShoppingCartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MarsRover stamp: 'UC 6/16/2021 19:03:40'!
Object subclass: #MarsRover
	instanceVariableNames: 'position direction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #West stamp: 'UC 6/16/2021 19:03:40'!
CardinalDirection subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #South stamp: 'UC 6/16/2021 19:03:40'!
CardinalDirection subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #North stamp: 'UC 6/16/2021 19:03:40'!
CardinalDirection subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #East stamp: 'UC 6/16/2021 19:03:41'!
CardinalDirection subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #CardinalDirection stamp: 'UC 6/16/2021 19:03:41'!
Object subclass: #CardinalDirection
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #MarsRoverTest stamp: 'UC 6/16/2021 19:03:41'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classRemoval: #Transfer stamp: 'UC 6/16/2021 19:03:46'!
Object subclass: #Transfer
	instanceVariableNames: 'sendLeg receiveLeg value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ToDo stamp: 'UC 6/16/2021 19:03:47'!
Object subclass: #ToDo
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferNet stamp: 'UC 6/16/2021 19:03:47'!
Report subclass: #TransferNet
	instanceVariableNames: 'account transferNet'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PortfolioStructure stamp: 'UC 6/16/2021 19:03:47'!
Report subclass: #PortfolioStructure
	instanceVariableNames: 'root childName structure tabSize'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountSummary stamp: 'UC 6/16/2021 19:03:47'!
Report subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Report stamp: 'UC 6/16/2021 19:03:48'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Withdraw stamp: 'UC 6/16/2021 19:03:48'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #SendLeg stamp: 'UC 6/16/2021 19:03:48'!
TransferLeg subclass: #SendLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceiveLeg stamp: 'UC 6/16/2021 19:03:48'!
TransferLeg subclass: #ReceiveLeg
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferLeg stamp: 'UC 6/16/2021 19:03:49'!
AccountTransaction subclass: #TransferLeg
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Deposit stamp: 'UC 6/16/2021 19:03:49'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountTransaction stamp: 'UC 6/16/2021 19:03:49'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccount stamp: 'UC 6/16/2021 19:03:50'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Portfolio stamp: 'UC 6/16/2021 19:03:50'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Account stamp: 'UC 6/16/2021 19:03:50'!
Object subclass: #Account
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferTest stamp: 'UC 6/16/2021 19:03:50'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReportsTest stamp: 'UC 6/16/2021 19:03:51'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccountTest stamp: 'UC 6/16/2021 19:03:51'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PortfolioTest stamp: 'UC 6/16/2021 19:03:51'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

----End fileIn of /Users/urichami/Facu/ing1/inge1-1c-2021/20-TusLibros/it2/TusLibros.st----!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:23:23'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:23:23'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:23:23'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:32'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:33'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:35'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:35'!
FAILURE!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:58'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:58'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:24:58'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:25:09' prior: 50870725!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	self halt.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'UC 6/16/2021 20:26:41'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:26:39' prior: 50871205!
initializeWithFakeCard
	errorMessage := self class cannotChargeFakeCard.! !
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:26:46' prior: 50871209!
initializeWithOk
	answerOk:=true.! !
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:27:24' prior: 50871213!
initializeWithStolenCard
	errorMessage := 	self class cannotChargeStolenCard.! !
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:27:34' prior: 50871454!
initializeWithFakeCard
	errorMessage := self class cannotChargeFakeCard.
	answerOk := false.! !
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:27:42' prior: 50871463!
initializeWithStolenCard
	errorMessage := 	self class cannotChargeStolenCard.
	answerOk := false.! !
!MPSimulator methodsFor: 'nil' stamp: 'UC 6/16/2021 20:27:50' prior: 50871459!
initializeWithOk
	answerOk := true.! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:28:22' prior: 50871195!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: errorMessage].
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:28:25'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:28:25'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:28:30' prior: 50871423!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:28:31'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:28:32'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:28:32'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:32:32'!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:32:43'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:32:43'!
ERROR!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:32:43'!
ERROR!
!MPSimulator class methodsFor: 'instance creation' stamp: 'UC 6/16/2021 20:32:53'!
answerWithInsolvent
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAnswerWithInsolvent! !
!MPSimulator class methodsFor: 'instance creation' stamp: 'UC 6/16/2021 20:33:04' prior: 50871640!
answerWithInsolvent
	^self new initializeWithInsolvent! !

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:33:07'!
ERROR!
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 20:33:15'!
initializeWithInsolvent
	self shouldBeImplemented.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 20:33:42' prior: 50871658!
initializeWithInsolvent
	answerOk := false.
	errorMessage := self class cannotChargeInsolventCard.! !

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:33:44'!
ERROR!
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:33:52'!
cannotChargeInsolventCard
	self shouldBeImplemented.! !
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:34:05' prior: 50871674!
cannotChargeInsolventCard
	^''! !

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:34:05'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:34:09'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 20:34:09'!
PASSED!
!MPSimulator class methodsFor: 'error messages' stamp: 'UC 6/16/2021 20:34:44' prior: 50871679!
cannotChargeInsolventCard
	^'La tarjeta se encuentra reportada como insolvente por el MerchantProcessor'! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:17'!
validCreditCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self nonExpiredCardDate ! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:17' prior: 50870835!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  validCreditCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects nonExpiredCardDate equals: card date.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:17' prior: 50870773!
nonExpiredCard
	^ StoreTestObjects validCreditCard ! !

!methodRemoval: StoreTestObjects class #createCard stamp: 'UC 6/16/2021 20:36:17'!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self nonExpiredCardDate !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30'!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870484!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: StoreTestObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870456!
test01NewCartsAreCreatedEmpty

	self assert: StoreTestObjects emptyCartWithDefaultCatalogue isEmpty! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870662!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870529!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	cart add: 2 of: StoreTestObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: StoreTestObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870462!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870626!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870702!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870586!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects emptyCartWithDefaultCatalogue with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50871577!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870680!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870646!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870521!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: StoreTestObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870539!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870475!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	cart add: StoreTestObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50871519!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870556!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870512!
test06CartRemembersAddedItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	cart add: StoreTestObjects itemSellByTheStore.
	self assert: (cart includes: StoreTestObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870546!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:30' prior: 50870498!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!methodRemoval: StoreTestObjects class #createEmptyCartWithDefaultCatalogue stamp: 'UC 6/16/2021 20:36:30'!
createEmptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:54'!
expiredCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self expiredCardDate ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:36:54' prior: 50870762!
expiredCard
	^ StoreTestObjects expiredCard ! !

!methodRemoval: StoreTestObjects class #createExpiredCard stamp: 'UC 6/16/2021 20:36:54'!
createExpiredCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self expiredCardDate !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 20:38:50' prior: 50872069!
expiredCard
	^ CreditCard withName: StoreTestObjects validCardName withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects expiredCardDate ! !

!methodRemoval: StoreTestObjects class #expiredCard stamp: 'UC 6/16/2021 20:39:29'!
expiredCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self expiredCardDate !

!methodRemoval: StoreTestObjects class #expiredCardDate stamp: 'UC 6/16/2021 20:39:52'!
expiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) -5 monthNumber: (Date today month monthIndex)!

Date today - (2 *month)!

	^Date fromSeconds: Date today secondsSinceSqueakEpoch !

	^Date fromSeconds: Date today secondsSinceSqueakEpoch  - 1000000!

	^Date fromSeconds: Date today secondsSinceSqueakEpoch  - 10000000000!

	^Date fromSeconds: Date today secondsSinceSqueakEpoch  - 100000000!

	^Date fromSeconds: Date today secondsSinceSqueakEpoch  - 100000000!
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 20:42:28' prior: 50870766!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  - 100000000)! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 20:42:40' prior: 50872081!
expiredCard
	^ CreditCard withName: StoreTestObjects validCardName withNumber: StoreTestObjects validCardNumber withExpirationDate: self expiredDate ! !

!methodRemoval: CashierPerSaleTest #nonExpiredCard stamp: 'UC 6/16/2021 20:42:53'!
nonExpiredCard
	^ StoreTestObjects validCreditCard !

!methodRemoval: CashierPerSaleTest #nonExpiredDate stamp: 'UC 6/16/2021 20:43:00'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)!

!methodRemoval: CashierPerSaleTest #createMPSimulator stamp: 'UC 6/16/2021 20:43:12'!
createMPSimulator
	^ MPSimulator new!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:44:43' prior: 50871880!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects emptyCartWithDefaultCatalogue with: StoreTestObjects validCreditCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:46:03' prior: 50872143!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		createCashierWith:StoreTestObjects emptyCartWithDefaultCatalogue 
		with: StoreTestObjects validCreditCard 
		onDate: today 
		registeringOn: salesBook 
		with: MPSimulator answerWithOk 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:46:17' prior: 50872161!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		createCashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		with: StoreTestObjects validCreditCard 
		onDate: today 
		registeringOn: salesBook 
		with: MPSimulator answerWithOk 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:47:30' prior: 50870603!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:47:41'!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:48:01' prior: 50872220!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart with: StoreTestObjects validCreditCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:48:39' prior: 50872244!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart 
				with: StoreTestObjects validCreditCard 
				onDate: today 
				registeringOn: salesBook
				with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !

!methodRemoval: CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 20:48:56'!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:49:21'!
oneItemCart

	^ StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:49:21' prior: 50871835!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:50:15' prior: 50872325!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self 
				createCashierWith: oneItemCart 
				with: self expiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk 
			]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText
		].
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:50:59' prior: 50871945!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:51:19' prior: 50871792!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects emptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart 
				with: self nonExpiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:51:28' prior: 50872379!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				with: self nonExpiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:52:00' prior: 50872362!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:52:49' prior: 50871922!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:53:05' prior: 50872430!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:53:34' prior: 50871856!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: self nonExpiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:53:53' prior: 50871988!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:54:14' prior: 50872494!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: self nonExpiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:54:41' prior: 50871898!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: self nonExpiredCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:55:35' prior: 50872398!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:56:05' prior: 50872537!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard 
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:56:15' prior: 50872472!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 20:56:39' prior: 50872515!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				onDate: today 
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 20:58:16' prior: 50870748!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn: aSalesbook with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 20:58:24'!
createCashierWith: aCart with: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn: aSalesbook with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872559!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872179!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		createCashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		with: StoreTestObjects validCreditCard 
		registeringOn: salesBook 
		with: MPSimulator answerWithOk 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872343!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self 
				createCashierWith: oneItemCart 
				with: self expiredCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk 
			]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText
		].
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872415!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872576!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872269!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart 
				with: StoreTestObjects validCreditCard 
				registeringOn: salesBook
				with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872598!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872451!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 20:58:24' prior: 50872620!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				with: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #createCashierWith:with:onDate:registeringOn:with: stamp: 'UC 6/16/2021 20:58:24'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn: aSalesbook with: aMerchantProcessor !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:00:59'!
createCashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn: aSalesbook with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872717!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872754!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self createCashierWith: multipleItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook
				with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872663!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872680!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		createCashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		chargingTo: StoreTestObjects validCreditCard 
		registeringOn: salesBook 
		with: MPSimulator answerWithOk 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872732!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872822!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872801!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872698!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self 
				createCashierWith: oneItemCart 
				chargingTo: self expiredCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk 
			]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText
		].
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:00:59' prior: 50872779!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self createCashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #createCashierWith:with:registeringOn:with: stamp: 'UC 6/16/2021 21:00:59'!
createCashierWith: aCart with: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn: aSalesbook with: aMerchantProcessor !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:01:22' prior: 50872854!
createCashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: Date today registeringOn: aSalesbook with: aMerchantProcessor ! !

!methodRemoval: CashierPerSaleTest #setUp stamp: 'UC 6/16/2021 21:01:39'!
setUp 
	today  := Date today!

!methodRemoval: CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'UC 6/16/2021 21:02:23'!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. !

!methodRemoval: CartTest #test11CartIsEmptyAfterClear stamp: 'UC 6/16/2021 21:02:31'!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := StoreTestObjects emptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:06:40'!
cashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: Date today registeringOn: aSalesbook with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:40' prior: 50872940!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:40' prior: 50873005!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self 
				cashierWith: oneItemCart 
				chargingTo: self expiredCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk 
			]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText
		].
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:40' prior: 50872962!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:40' prior: 50872984!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:40' prior: 50872922!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		chargingTo: StoreTestObjects validCreditCard 
		registeringOn: salesBook 
		with: MPSimulator answerWithOk 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:41' prior: 50872880!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook
				with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:41' prior: 50872905!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:41' prior: 50872865!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:06:41' prior: 50873024!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				chargingTo: StoreTestObjects validCreditCard
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #createCashierWith:chargingTo:registeringOn:with: stamp: 'UC 6/16/2021 21:06:41'!
createCashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: Date today registeringOn: aSalesbook with: aMerchantProcessor !

!methodRemoval: StoreTestObjects class #nonExpiredCardDate stamp: 'UC 6/16/2021 21:08:19'!
nonExpiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!
!CreditCardTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:09:09' prior: 50870848!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: self notExpiredDate 
! !

	Date fromDays: (Date today seconds + 100000)!

	Date fromSeconds: (Date today seconds + 100000)!

	Date fromSeconds: Date today second + 100000!

	Date today second !
!CreditCardTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:10:19'!
notExpiredDate 
	Date fromSeconds: Date today second + 100000! !

!methodRemoval: CreditCardTest #invalidCardDate stamp: 'UC 6/16/2021 21:10:53'!
invalidCardDate 
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) -1 monthNumber: (Date today month monthIndex)!

!methodRemoval: CreditCardTest #createCardWithInvalidLongNameAndValidNumberAndExpirationDate stamp: 'UC 6/16/2021 21:10:57'!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: self notExpiredDate 
!

!methodRemoval: CreditCardTest #createCardWithInvalidLongNumberAndValidNameAndExpirationDate stamp: 'UC 6/16/2021 21:10:57'!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: StoreTestObjects nonExpiredCardDate
!

!methodRemoval: CreditCardTest #createCardWithInvalidShortNameAndValidNumberAndExpirationDate stamp: 'UC 6/16/2021 21:10:57'!
createCardWithInvalidShortNameAndValidNumberAndExpirationDate
	^CreditCard withName: '' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
!

!methodRemoval: CreditCardTest #createCardWithInvalidShortNumberAndValidNameAndExpirationDate stamp: 'UC 6/16/2021 21:10:57'!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 0 withExpirationDate: StoreTestObjects nonExpiredCardDate
!

!methodRemoval: CreditCardTest #notExpiredDate stamp: 'UC 6/16/2021 21:10:57'!
notExpiredDate 
	Date fromSeconds: Date today second + 100000!
!StoreTestObjects class methodsFor: 'nil' stamp: 'UC 6/16/2021 21:11:14'!
notExpiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:11:17'!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:12:39'!
nonExpiredCardDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !

!methodRemoval: StoreTestObjects class #notExpiredDate stamp: 'UC 6/16/2021 21:13:01'!
notExpiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:13:12'!
notExpiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:13:12' prior: 50871738!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  validCreditCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects notExpiredDate equals: card date.! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:13:12' prior: 50871730!
validCreditCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self notExpiredDate ! !

!methodRemoval: StoreTestObjects class #nonExpiredCardDate stamp: 'UC 6/16/2021 21:13:12'!
nonExpiredCardDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 21:13:24'!
FAILURE!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 21:13:24'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 21:13:24'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 21:13:24'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 21:13:26'!
FAILURE!
!CreditCardTest methodsFor: 'assertions' stamp: 'UC 6/16/2021 21:13:28' overrides: 16927375!
assert: aFalse description: aBlockClosure 
	self shouldBeImplemented.! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:14:18' prior: 50870795!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCardWithInvalidLongNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNameErrorMessage equals: anError messageText].
		
	
	! !

!methodRemoval: CreditCardTest #assert:description: stamp: 'UC 6/16/2021 21:14:43'!
assert: aFalse description: aBlockClosure 
	self shouldBeImplemented.!
!CreditCardTest methodsFor: 'nil' stamp: 'UC 6/16/2021 21:14:49'!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate! !
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

!methodRemoval: CreditCardTest #createCardWithInvalidLongNameAndValidNumberAndExpirationDate stamp: 'UC 6/16/2021 21:16:29'!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate!
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:17:51' prior: 50873454!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[CreditCard 
				withName:  'ABSAKJHAFSKJASFAJKSHFKJSAHFASKJFHSAFKJHSAFKJH'
				withNumber:  StoreTestObjects validCardNumber 
				withExpirationDate: StoreTestObjects notExpiredDate
			] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNameErrorMessage equals: anError messageText].
		
	
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:18:57' prior: 50870806!
test02CreatingACardWithEmptyNameRaisesError


	self should:[
			CreditCard withName:  ''
					    	withNumber: StoreTestObjects validCardNumber 
					 	withExpirationDate: StoreTestObjects notExpiredDate 
		] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:20:46' prior: 50870817!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[ 
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 44546
				withExpirationDate: StoreTestObjects notExpiredDate
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 4454666678364872364327846327846324786
				withExpirationDate: StoreTestObjects notExpiredDate
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:26:12' prior: 50873089!
cashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: aCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:29:25'!
cashierWith: aCart registeringOn: aSalesbook
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: StoreTestObjects validCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:04' prior: 50873184!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		registeringOn: salesBook 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:18' prior: 50873202!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore..
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:36' prior: 50873244!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:49' prior: 50873227!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
				
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:31:00' prior: 50873163!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
				
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:34:31' prior: 50873100!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolvent.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:34:37' prior: 50873141!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:34:41' prior: 50873259!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:35:07' prior: 50873571!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:35:57'!
cashierWith: aCart registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: StoreTestObjects validCreditCard
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor 
		! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:44:23' prior: 50873535!
cashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: aCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor ! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 21:51:18'!
initializeWithInsolventCard
	answerOk := false.
	errorMessage := self class cannotChargeInsolventCard.! !
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:51:18' prior: 50871649!
answerWithInsolvent
	^self new initializeWithInsolventCard! !

!methodRemoval: MPSimulator #initializeWithInsolvent stamp: 'UC 6/16/2021 21:51:18'!
initializeWithInsolvent
	answerOk := false.
	errorMessage := self class cannotChargeInsolventCard.!

!methodRemoval: CashierPerSaleTest #expiredDate stamp: 'UC 6/16/2021 21:52:19'!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  - 100000000)!
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:52:35' prior: 50872120!
expiredCard
	^ CreditCard withName: StoreTestObjects validCardName withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects expiredDate ! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 21:52:59'!
PASSED!

Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 21:57:07'!
asMonthOfYear: aDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !

Object subclass: #DateToMonthOfYearAdapter
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #DateToMonthOfYearAdapter category: 'TusLibros' stamp: 'UC 6/16/2021 21:58:26'!
Object subclass: #DateToMonthOfYearAdapter
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!DateToMonthOfYearAdapter methodsFor: 'nil' stamp: 'UC 6/16/2021 21:58:47'!
asMonthOfYear: aDate
	^GregorianMonthOfYear yearNumber: (aDate yearNumber) monthNumber: (aDate month monthIndex).! !

!methodRemoval: StoreTestObjects class #asMonthOfYear: stamp: 'UC 6/16/2021 21:59:26'!
asMonthOfYear: aDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:03:00' prior: 50873416!
validCreditCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: (DateToMonthOfYearAdapter adapt: self notExpiredDate asMonthOfYear )! !
!DateToMonthOfYearAdapter class methodsFor: 'nil' stamp: 'UC 6/16/2021 22:03:39'!
adapt: 	aDate
	self new initializeWith: aDate! !

!classDefinition: #DateToMonthOfYearAdapter category: 'TusLibros' stamp: 'UC 6/16/2021 22:04:07'!
Object subclass: #DateToMonthOfYearAdapter
	instanceVariableNames: 'date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!DateToMonthOfYearAdapter methodsFor: 'nil' stamp: 'UC 6/16/2021 22:04:06'!
initializeWith: aDate
	date := aDate! !
!DateToMonthOfYearAdapter methodsFor: 'adapt' stamp: 'UC 6/16/2021 22:04:43'!
asMonthOfYear
	^GregorianMonthOfYear yearNumber: (date yearNumber) monthNumber: (date month monthIndex).! !

!methodRemoval: DateToMonthOfYearAdapter #asMonthOfYear: stamp: 'UC 6/16/2021 22:04:46'!
asMonthOfYear: aDate
	^GregorianMonthOfYear yearNumber: (aDate yearNumber) monthNumber: (aDate month monthIndex).!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:06:58'!
test01CreatingACashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		registeringOn: salesBook 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !

!methodRemoval: CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 22:06:58'!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: StoreTestObjects emptyCartWithDefaultCatalogue 
		registeringOn: salesBook 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	!

Date today + 5*year!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:15:51' prior: 50873396!
notExpiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:21:23' prior: 50873809!
validCreditCard
	
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: 'a' ! !

!classRemoval: #DateToMonthOfYearAdapter stamp: 'UC 6/16/2021 22:21:28'!
Object subclass: #DateToMonthOfYearAdapter
	instanceVariableNames: 'date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:21:52'!
notExpiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:22:00'!
expiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:22:04' prior: 50873907!
expiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) - 5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:22:20' prior: 50873886!
validCreditCard
	
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self notExpiredMonthOfYear ! !

!methodRemoval: StoreTestObjects class #notExpiredDate stamp: 'UC 6/16/2021 22:23:15'!
notExpiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:23:37' prior: 50873481!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[CreditCard 
				withName:  'ABSAKJHAFSKJASFAJKSHFKJSAHFASKJFHSAFKJHSAFKJH'
				withNumber:  StoreTestObjects validCardNumber 
				withExpirationDate: StoreTestObjects notExpiredMonthOfYear
			] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNameErrorMessage equals: anError messageText].
		
	
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:23:41' prior: 50873497!
test02CreatingACardWithEmptyNameRaisesError


	self should:[
			CreditCard withName:  ''
					    	withNumber: StoreTestObjects validCardNumber 
					 	withExpirationDate: StoreTestObjects  notExpiredMonthOfYear 
		] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:23:43' prior: 50873952!
test02CreatingACardWithEmptyNameRaisesError


	self should:[
			CreditCard withName:  ''
					    	withNumber: StoreTestObjects validCardNumber 
					 	withExpirationDate: StoreTestObjects notExpiredMonthOfYear 
		] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:23:53' prior: 50873511!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[ 
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 44546
				withExpirationDate: StoreTestObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 4454666678364872364327846327846324786
				withExpirationDate: StoreTestObjects notExpiredDate
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:23:59' prior: 50873402!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  validCreditCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects notExpiredMonthOfYear equals: card date.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 22:24:23'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 22:24:23'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:24:23'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 22:24:23'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:24:23'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:24:44' prior: 50873980!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[ 
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 44546
				withExpirationDate: StoreTestObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[
			CreditCard withName: StoreTestObjects validCardName
				withNumber: 4454666678364872364327846327846324786
				withExpirationDate: StoreTestObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:24:47'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 22:24:49'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 22:24:49'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:24:49'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 22:24:49'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 22:24:57'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 22:25:23'!
FAILURE!
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 22:25:50' prior: 50873763!
expiredCard
	^ CreditCard withName: StoreTestObjects validCardName withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects expiredMonthOfYear ! !

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:55'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 22:25:58'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 22:25:58'!
PASSED!
!MPSimulator class methodsFor: 'instance creation' stamp: 'UC 6/16/2021 22:28:18'!
answerWithInsolventCard
	^self new initializeWithInsolventCard! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:28:18' prior: 50873636!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: MPSimulator class #answerWithInsolvent stamp: 'UC 6/16/2021 22:28:18'!
answerWithInsolvent
	^self new initializeWithInsolventCard!
!MPSimulator methodsFor: 'operations' stamp: 'UC 6/16/2021 22:29:52' prior: 50871485!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: errorMessage].! !
!MPSimulator methodsFor: 'operations' stamp: 'UC 6/16/2021 22:32:02' prior: 50874316!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: errorMessage].! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:32:31'!
setUpErrorMessage

	errorMessage := self class cannotChargeFakeCard.
	answerOk := false! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:32:31' prior: 50871468!
initializeWithFakeCard
	self setUpErrorMessage.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:10'!
setUpErrorMessage: anErrorMessage

	errorMessage := self class cannotChargeFakeCard.
	answerOk := false! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:33:10' prior: 50874333!
initializeWithFakeCard
	self setUpErrorMessage: self class cannotChargeFakeCard.! !

!methodRemoval: MPSimulator #setUpErrorMessage stamp: 'UC 6/16/2021 22:33:10'!
setUpErrorMessage

	errorMessage := self class cannotChargeFakeCard.
	answerOk := false!
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:20' prior: 50874337!
setUpErrorMessage: anErrorMessage

	errorMessage := anErrorMessage.
	answerOk := false! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:36' prior: 50873740!
initializeWithInsolventCard
	self setUpErrorMessage: self class cannotChargeInsolventCard.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:55' prior: 50871474!
initializeWithStolenCard
	self setUpErrorMessage: self class cannotChargeStolenCard.! !

!classDefinition: #CashierPerSale category: 'TusLibros' stamp: 'UC 6/16/2021 22:41:11'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used merchantProcessor total2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:41:10' prior: 50871007!
checkout
	self assertHasNotBeenUsedBefore.
	total2 := cart total.
	merchantProcessor charge: total2 on: creditCard .
	cart clear.
	used := true.
	salesbook add: total2.
	^ total2
! !

!classDefinition: #CashierPerSale category: 'TusLibros' stamp: 'UC 6/16/2021 22:41:13'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used merchantProcessor total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:41:13' prior: 50874382!
checkout
	self assertHasNotBeenUsedBefore.
	total := cart total.
	merchantProcessor charge: total on: creditCard .
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:41:39'!
xx

	cart clear.
	used := true.
	salesbook add: total! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:41:39' prior: 50874401!
checkout
	self assertHasNotBeenUsedBefore.
	total := cart total.
	merchantProcessor charge: total on: creditCard .
	self xx.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:41:43' prior: 50874414!
checkout
	self assertHasNotBeenUsedBefore.
	total := cart total.
	merchantProcessor charge: total on: creditCard .
	^self xx.
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:41:53' prior: 50874409!
xx
	cart clear.
	used := true.
	salesbook add: total.
	^total.! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:42:20' prior: 50874422!
checkout
	self assertHasNotBeenUsedBefore.
	
	merchantProcessor charge: total on: creditCard .
	
	^self xx.
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:42:51' prior: 50874434!
checkout
	self assertHasNotBeenUsedBefore.
	
	total := cart total.
	merchantProcessor charge: total on: creditCard .
	
	^self xx.
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:45:05' prior: 50874441!
checkout
	self assertHasNotBeenUsedBefore.
	
	total := cart total.
	merchantProcessor charge: total on: creditCard.
	
	^self xx.
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:47:46'!
registerEndOfCheckout
	cart clear.
	used := true.
	salesbook add: total.
	^total.! !
!CashierPerSale methodsFor: 'as yet unclassified' stamp: 'UC 6/16/2021 22:47:46' prior: 50874448!
checkout
	self assertHasNotBeenUsedBefore.
	
	total := cart total.
	merchantProcessor charge: total on: creditCard.
	
	^self registerEndOfCheckout.
! !

!methodRemoval: CashierPerSale #xx stamp: 'UC 6/16/2021 22:47:46'!
xx
	cart clear.
	used := true.
	salesbook add: total.
	^total.!

!classRemoval: #Consultas stamp: 'UC 6/16/2021 22:48:28'!
Object subclass: #Consultas
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:02:52'!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice.
	^dict! !

!methodRemoval: StoreTestObjects class #defaultCatalogue stamp: 'UC 6/16/2021 23:02:52'!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice.
	^dict!
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:06'!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue! !

!methodRemoval: StoreTestObjects class #emptyCartWithDefaultCatalogue stamp: 'UC 6/16/2021 23:03:06'!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue!
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:10'!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !

!methodRemoval: StoreTestObjects class #expiredDate stamp: 'UC 6/16/2021 23:03:10'!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)!
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:14'!
expiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) - 5 monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects class #expiredMonthOfYear stamp: 'UC 6/16/2021 23:03:14'!
expiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) - 5 monthNumber: (Date today month monthIndex)!
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:18'!
itemSellByTheStore
	
	^ 'validBook'! !

!methodRemoval: StoreTestObjects class #itemSellByTheStore stamp: 'UC 6/16/2021 23:03:18'!
itemSellByTheStore
	
	^ 'validBook'!
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:21'!
itemSellByTheStorePrice
	
	^ 100! !

!methodRemoval: StoreTestObjects class #itemSellByTheStorePrice stamp: 'UC 6/16/2021 23:03:21'!
itemSellByTheStorePrice
	
	^ 100!
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:26'!
notExpiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects class #notExpiredMonthOfYear stamp: 'UC 6/16/2021 23:03:26'!
notExpiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:35'!
validCardName
	^ 'Simón Bolívar'! !

!methodRemoval: StoreTestObjects class #validCardName stamp: 'UC 6/16/2021 23:03:35'!
validCardName
	^ 'Simón Bolívar'!
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:41'!
validCardNumber
	^5555555555554444 ! !

!methodRemoval: StoreTestObjects class #validCardNumber stamp: 'UC 6/16/2021 23:03:41'!
validCardNumber
	^5555555555554444 !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:45'!
validCreditCard
	
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self notExpiredMonthOfYear ! !

!methodRemoval: StoreTestObjects class #validCreditCard stamp: 'UC 6/16/2021 23:03:45'!
validCreditCard
	
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self notExpiredMonthOfYear !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:03:49'!
FAILURE!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:03:49'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 23:03:49'!
FAILURE!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 23:03:49'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 23:03:49'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 23:03:49'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:03:59' prior: 50871785!
test01NewCartsAreCreatedEmpty

	self assert: testObjects emptyCartWithDefaultCatalogue isEmpty! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:06' prior: 50871821!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:11' prior: 50871978!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:16' prior: 50871770!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:21' prior: 50872041!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:27' prior: 50872021!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:31' prior: 50871961!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:35' prior: 50871810!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:41' prior: 50871970!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:44' prior: 50873696!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:33' prior: 50874004!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  validCreditCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects notExpiredMonthOfYear equals: card date.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:38' prior: 50873847!
test01CreatingACashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: testObjects emptyCartWithDefaultCatalogue 
		registeringOn: salesBook 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:45' prior: 50873936!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[CreditCard 
				withName:  'ABSAKJHAFSKJASFAJKSHFKJSAHFASKJFHSAFKJHSAFKJH'
				withNumber:  testObjects validCardNumber 
				withExpirationDate: testObjects notExpiredMonthOfYear
			] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNameErrorMessage equals: anError messageText].
		
	
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:50' prior: 50873966!
test02CreatingACardWithEmptyNameRaisesError


	self should:[
			CreditCard withName:  ''
					    	withNumber: testObjects validCardNumber 
					 	withExpirationDate: testObjects notExpiredMonthOfYear 
		] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:01' prior: 50874038!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[ 
			CreditCard withName: testObjects validCardName
				withNumber: 44546
				withExpirationDate: testObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[
			CreditCard withName: testObjects validCardName
				withNumber: 4454666678364872364327846327846324786
				withExpirationDate: testObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 23:06:04'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 23:06:04'!
ERROR!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:06:04'!
FAILURE!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 23:06:04'!
FAILURE!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 23:06:04'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 23:06:04'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:26'!
setup
	testObjects := StoreTestObjects new.! !
!CreditCardTest methodsFor: 'nil' stamp: 'UC 6/16/2021 23:06:35'!
setup
	testObjects := StoreTestObjects new.! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:53' overrides: 16927572!
setUp
	testObjects := StoreTestObjects new.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:53' overrides: 16927572!
setUp
	testObjects := StoreTestObjects new.! !

!methodRemoval: CreditCardTest #setup stamp: 'UC 6/16/2021 23:06:53'!
setup
	testObjects := StoreTestObjects new.!

!methodRemoval: CashierPerSaleTest #setup stamp: 'UC 6/16/2021 23:06:53'!
setup
	testObjects := StoreTestObjects new.!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:07:12'!
FAILURE!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:12'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 23:07:12'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 23:07:12'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:07:25' prior: 50874758!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:07:47' prior: 50872318!
oneItemCart

	^ StoreTestObjects emptyCartWithDefaultCatalogue add: testObjects itemSellByTheStore! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:07:50' prior: 50875066!
oneItemCart

	^ testObjects emptyCartWithDefaultCatalogue add: testObjects itemSellByTheStore! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 23:07:55'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:07:55'!
FAILURE!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:07:55'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:07:55'!
FAILURE!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:07:55'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:07:55'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:07:55'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:56'!
ERROR!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:56'!
ERROR!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:07:56'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 23:07:56'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 23:07:56'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 23:07:56'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 23:07:56'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:08:12'!
ERROR!
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:23' prior: 50873546!
cashierWith: aCart registeringOn: aSalesbook
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:38' prior: 50873718!
cashierWith: aCart registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor 
		! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:45' prior: 50874162!
expiredCard
	^ CreditCard withName: testObjects validCardName withNumber: testObjects validCardNumber withExpirationDate: testObjects expiredMonthOfYear ! !

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:48'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/16/2021 23:08:50'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/16/2021 23:08:50'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

----QUIT----(17 June 2021 10:32:30) CuisUniversity-4532.image priorSource: 17235386!

----STARTUP---- (17 June 2021 11:23:53) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


!classRemoval: #StoreTestObjects stamp: 'UC 6/17/2021 14:15:31'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MPSimulator stamp: 'UC 6/17/2021 14:15:32'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'UC 6/17/2021 14:15:32'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSale stamp: 'UC 6/17/2021 14:15:32'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used merchantProcessor total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'UC 6/17/2021 14:15:32'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCardTest stamp: 'UC 6/17/2021 14:15:33'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSaleTest stamp: 'UC 6/17/2021 14:15:33'!
TestCase subclass: #CashierPerSaleTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'UC 6/17/2021 14:15:33'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /Users/urichami/Facu/ing1/inge1-1c-2021/20-TusLibros/it2/TusLibros.st----!

!methodRemoval: CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/17/2021 20:37:17'!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.!

!methodRemoval: CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/17/2021 20:37:19'!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.!

!methodRemoval: CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/17/2021 20:37:21'!
test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook verySmallPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	verySmallPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	verySmallPriceCart add: 'anotherBook'.


	cashier := self cashierWith: verySmallPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: verySmallPriceCart isEmpty not.!

!methodRemoval: CashierPerSaleTest #test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/17/2021 20:37:23'!
test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook veryBigPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 99999999999999999999.
	
	veryBigPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	veryBigPriceCart add: 'anotherBook'.


	cashier := self cashierWith: veryBigPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: veryBigPriceCart isEmpty not.!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/17/2021 20:39:51'!
test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'UC 6/17/2021 20:39:51'!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.!
!MPSimulator class methodsFor: 'instance creation' stamp: 'UC 6/17/2021 20:40:05'!
answerWithError
	^ self new initializeWithStolenCard! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 20:40:05' prior: 50876416!
test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithError.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: MPSimulator class #answerWithStolenCard stamp: 'UC 6/17/2021 20:40:05'!
answerWithStolenCard
	^ self new initializeWithStolenCard!
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/17/2021 20:40:25'!
initializeWithError
	self setUpErrorMessage: self class cannotChargeStolenCard.! !
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 20:40:25' prior: 50876457!
answerWithError
	^ self new initializeWithError! !

!methodRemoval: MPSimulator #initializeWithStolenCard stamp: 'UC 6/17/2021 20:40:25'!
initializeWithStolenCard
	self setUpErrorMessage: self class cannotChargeStolenCard.!
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/17/2021 20:40:44' prior: 50876486!
initializeWithError
	answerOk := false! !

!methodRemoval: MPSimulator #initializeWithFakeCard stamp: 'UC 6/17/2021 20:40:49'!
initializeWithFakeCard
	self setUpErrorMessage: self class cannotChargeFakeCard.!

!methodRemoval: MPSimulator #initializeWithInsolventCard stamp: 'UC 6/17/2021 20:40:51'!
initializeWithInsolventCard
	self setUpErrorMessage: self class cannotChargeInsolventCard.!

!methodRemoval: MPSimulator #setUpErrorMessage: stamp: 'UC 6/17/2021 20:40:53'!
setUpErrorMessage: anErrorMessage

	errorMessage := anErrorMessage.
	answerOk := false!
!MPSimulator methodsFor: 'operations' stamp: 'UC 6/17/2021 20:41:32' prior: 50876161!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: self class errorProcessingPayment].! !

!methodRemoval: MPSimulator #assertAmountIsValid: stamp: 'UC 6/17/2021 20:41:42'!
assertAmountIsValid: anAmount. 
	((anAmount < 0.01) or:[(anAmount numberOfDigitsInBase: 10) > 15 ]) ifTrue:[self error: self class cannotChargeInvalidAmount]!

!methodRemoval: MPSimulator class #answerWithFakeCard stamp: 'UC 6/17/2021 20:41:49'!
answerWithFakeCard
	^self new initializeWithFakeCard !

!methodRemoval: MPSimulator class #answerWithInsolventCard stamp: 'UC 6/17/2021 20:41:50'!
answerWithInsolventCard
	^self new initializeWithInsolventCard!

!methodRemoval: MPSimulator class #cannotChargeFakeCard stamp: 'UC 6/17/2021 20:41:52'!
cannotChargeFakeCard
	^'La tarjeta se encuentra reportada como falsa por el MerchantProcessor'.!

!methodRemoval: MPSimulator class #cannotChargeInsolventCard stamp: 'UC 6/17/2021 20:41:52'!
cannotChargeInsolventCard
	^'La tarjeta se encuentra reportada como insolvente por el MerchantProcessor'!

!methodRemoval: MPSimulator class #cannotChargeInvalidAmount stamp: 'UC 6/17/2021 20:41:53'!
cannotChargeInvalidAmount
	^'El monto a cobrar debe ser mayor a 0.01 y tener menos de 15 digitos'.!
!MPSimulator class methodsFor: 'error messages' stamp: 'UC 6/17/2021 20:42:02'!
errorProcessingPayment
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 20:42:02' prior: 50876462!
test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithError.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator errorProcessingPayment equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: MPSimulator class #cannotChargeStolenCard stamp: 'UC 6/17/2021 20:42:02'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.!
!MPSimulator class methodsFor: 'error messages' stamp: 'UC 6/17/2021 20:42:27' prior: 50876564!
errorProcessingPayment
	^'Hubo un error procesando el pago con su tarjeta'.! !

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/17/2021 20:42:48'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/17/2021 20:42:50'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/17/2021 20:42:53'!
PASSED!

TestCase subclass: #StoreFacadeTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #StoreFacadeTest category: 'TusLibros' stamp: 'UC 6/17/2021 20:44:03'!
TestCase subclass: #StoreFacadeTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/17/2021 20:53:59'!
Object subclass: #StoreFacade
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacadeTest methodsFor: 'nil' stamp: 'UC 6/17/2021 20:53:48'!
test01
	| store |
	store := StoreFacade new.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:54:10'!
ERROR!

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:54:10'!
ERROR!
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/17/2021 20:54:25'!
invalidClientIdOrPassword
	self shouldBeImplemented.! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/17/2021 20:55:12' prior: 50876742!
invalidClientIdOrPassword
	^'Contraseña o id de cliente inválido. Porfavor, intente de nuevo'! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:55:14'!
FAILURE!

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:55:46'!
PASSED!

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:55:48'!
FAILURE!

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:55:48'!
FAILURE!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/17/2021 20:58:50'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'nil' stamp: 'UC 6/17/2021 20:58:55'!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 20:59:32' prior: 50876769!
createCartWithUserId: aClientId andPassword: aPassword
	self error: StoreFacade invalidClientIdOrPassword.! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 20:59:38'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:02:21'!
test02
	| store id |
	store := StoreFacade new.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:02:29'!
PASSED!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:02:29'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:02:29'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:04:11' prior: 50876785!
test02
	| store id |
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:05:47' prior: 50876800!
test02
	| store id |
	self answerLoginWithSuccess.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:06:03' prior: 50876809!
test02
	| store id |
	self setLoginWithSuccess.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !

!classDefinition: #StoreFacadeTest category: 'TusLibros' stamp: 'UC 6/17/2021 21:07:52'!
TestCase subclass: #StoreFacadeTest
	instanceVariableNames: 'loginWithSuccess'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacadeTest methodsFor: 'nil' stamp: 'UC 6/17/2021 21:07:50'!
setLoginWithSuccess
	loginWithSuccess := true! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:09:47'!
login: aClientId with: aPassword
	loginWithSuccess ifTrue: [StoreFacade invalidClientIdOrPassword]! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:09:58' prior: 50876839!
login: aClientId with: aPassword
	loginWithSuccess ifTrue: [self error: StoreFacade invalidClientIdOrPassword]! !

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:10:04'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:10:04'!
ERROR!
!StoreFacade class methodsFor: 'nil' stamp: 'UC 6/17/2021 21:10:54'!
with: aClientAuthenticator
	self new initializeWith: aClientAuthenticator.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:11:28'!
initializeWith: aClientAuthenticator
	clientAuthenticator := aClientAuthenticator.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:11:50' prior: 50876776!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.! !

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:13:03'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:13:03'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:16:38' overrides: 16927572!
setUp
	loginWithSuccess := nil.! !

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:16:51'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:16:51'!
ERROR!
!StoreFacade class methodsFor: 'instance creation' stamp: 'UC 6/17/2021 21:17:18' prior: 50876857!
with: aClientAuthenticator
	^self new initializeWith: aClientAuthenticator.! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:17:21'!
FAILURE!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:17:21'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:17:24'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:19:11' prior: 50876880 overrides: 16927572!
setUp
	loginWithSuccess := true.! !

!methodRemoval: StoreFacadeTest #setLoginWithSuccess stamp: 'UC 6/17/2021 21:19:44'!
setLoginWithSuccess
	loginWithSuccess := true!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:20:00' prior: 50876818!
test02
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:02'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:02'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:20:19' prior: 50876846!
login: aClientId with: aPassword
	loginWithSuccess ifFalse: [self error: StoreFacade invalidClientIdOrPassword]! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:20:21'!
FAILURE!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:21'!
ERROR!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:23'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:20:30'!
listCart: aStoreFacade 
	self shouldBeImplemented.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:20:42' prior: 50876940!
listCart: aStoreFacade 
	^OrderedCollection new.! !

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:43'!
PASSED!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:20:47'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:21:03' prior: 50876726!
test01
	| store |
	loginWithSuccess := false.
	store := StoreFacade with: self.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:21:04'!
PASSED!

!testRun: #StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:21:07'!
PASSED!

!testRun: #StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:21:07'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:24:18'!
test03
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:25:01'!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	loginWithSuccess := false.
	store := StoreFacade with: self.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !

!methodRemoval: StoreFacadeTest #test01 stamp: 'UC 6/17/2021 21:25:01'!
test01
	| store |
	loginWithSuccess := false.
	store := StoreFacade with: self.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:26:51'!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	! !

!methodRemoval: StoreFacadeTest #test02 stamp: 'UC 6/17/2021 21:26:51'!
test02
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	(store listCart: id) isEmpty.
	!

!classDefinition: #StoreFacadeTest category: 'TusLibros' stamp: 'UC 6/17/2021 21:29:41'!
TestCase subclass: #StoreFacadeTest
	instanceVariableNames: 'loginWithSuccess testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:29:50' prior: 50876975!
test03
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self catalogue: testObjects defaultCatalogue.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByStore toCart: id.
	(store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:30:04' prior: 50877035!
test03
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self catalogue: testObjects defaultCatalogue.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByStore toCart: id.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/17/2021 21:30:20' prior: 50877009!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	loginWithSuccess := true.
	store := StoreFacade with: self.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	self assert: (store listCart: id) isEmpty.
	! !

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/17/2021 21:30:23'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

----QUIT----(18 June 2021 10:36:36) CuisUniversity-4532.image priorSource: 17396945!

----STARTUP---- (19 June 2021 14:47:19) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!

!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:47:56'!
createStore

	^ StoreFacade with: self catalogue: testObjects defaultCatalogue! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:47:56' prior: 50877047!
test03
	| store id |
	loginWithSuccess := true.
	store := self createStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByStore toCart: id.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:48:12'!
sampleStore

	^ StoreFacade with: self catalogue: testObjects defaultCatalogue! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:48:12' prior: 50877084!
test03
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByStore toCart: id.
	! !

!methodRemoval: StoreFacadeTest #createStore stamp: 'UC 6/19/2021 14:48:12'!
createStore

	^ StoreFacade with: self catalogue: testObjects defaultCatalogue!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:48:41'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:48:41'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:49:23' prior: 50876903 overrides: 16927572!
setUp
	loginWithSuccess := true.
	testObjects := StoreTestObjects new.! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:49:35'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:49:35'!
ERROR!
!StoreFacade class methodsFor: 'instance creation' stamp: 'UC 6/19/2021 14:53:49'!
with: aClientAuthenticator catalogue: aCatalogue
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue.! !

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 14:54:15'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:54:14'!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:54:24'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:54:24'!
ERROR!

StoreTestObjects!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:55:23' prior: 50877100!
test03
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:55:24'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:55:24'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:55:32'!
add: aSmallInteger of: aString toCart: aStoreFacade 
	self shouldBeImplemented.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:55:35' prior: 50877171!
add: aSmallInteger of: aString toCart: aStoreFacade 
	! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 14:55:36'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:56:08' prior: 50877177!
add: anAmount of: anItem toCart: aCartId 
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:58:06' prior: 50876868!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	^1! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 14:59:27' prior: 50877157!
test03
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore 
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:00:41' prior: 50877197!
test03
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore 
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:00:42' prior: 50877211!
test03
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:00:46'!
FAILURE!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:00:46'!
FAILURE!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 15:02:10'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:02:09' prior: 50877190!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cart := (Cart acceptingItemsOf: catalogue).
	^1! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:03:01' prior: 50877185!
add: anAmount of: anItem toCart: aCartId 
	cart add: anAmount of: anItem.
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:03:16' prior: 50876945!
listCart: aStoreFacade 
	^cart items.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:03:19'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:03:19'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:03:19'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:03:25'!
ERROR!
!Cart methodsFor: 'queries' stamp: 'UC 6/19/2021 15:03:50'!
items
	^items copy! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:04:00'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:04:00'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:04:00'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:04:00'!
ERROR!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:04:27'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:04:35' prior: 50877058!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	self assert: (store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:04:46' prior: 50876984!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	loginWithSuccess := false.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:04:48'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:04:50'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:04:50'!
PASSED!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:04:50'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:05:44'!
test04
	| store id id2 |
	loginWithSuccess := true.
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	id2 := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:06:59' prior: 50877094!
sampleStore
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:09' prior: 50877303!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	self assert: (store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:13' prior: 50877225!
test03
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:17' prior: 50877340!
test04
	| store id id2 |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	id2 := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:45' prior: 50877314!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	loginWithSuccess := false.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:53'!
setLoginToFail

	^ loginWithSuccess := false! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:07:53' prior: 50877401!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	self setLoginToFail.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:09:27' prior: 50877385!
test04
	| store xx yy |
	store := self sampleStore.
	xx := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	yy := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 1 of: testObjects itemSellByTheStore toCart: xx.
	store add: 1 of: testObjects itemSellByTheStore toCart: yy.
	
	self assert: 1 equals: (store listCart: xx) size.
	self assert: (store listCart: xx) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: yy) size.
	self assert: (store listCart: yy) includes: testObjects itemSellByTheStore.
	! !

!testRun: #StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:09:29'!
FAILURE!

!testRun: #StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:09:29'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:09:48' prior: 50877267!
listCart: aCartId 
	^cart items.! !

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 15:12:39'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue cart carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:12:38' prior: 50877252!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	
	carts addLast: (Cart acceptingItemsOf: catalogue).
	^carts size.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:12:44' prior: 50877472!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	carts addLast: (Cart acceptingItemsOf: catalogue).
	^carts size.! !

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 15:13:35'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue cart carts cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:13:34' prior: 50877481!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue).
	^cartId! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:13:45' prior: 50877144!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.! !

!methodRemoval: StoreFacade #initializeWith: stamp: 'UC 6/19/2021 15:13:48'!
initializeWith: aClientAuthenticator
	clientAuthenticator := aClientAuthenticator.!

!methodRemoval: StoreFacade class #with: stamp: 'UC 6/19/2021 15:13:52'!
with: aClientAuthenticator
	^self new initializeWith: aClientAuthenticator.!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:14:08' prior: 50877508!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:15:17' prior: 50877498!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue).
	^cartId! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:15:44' prior: 50877460!
listCart: aCartId 
	^(carts at: aCartId) items.! !

Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue carts cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 15:16:01'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue carts cartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:16:32' prior: 50877261!
add: anAmount of: anItem toCart: aCartId 
	(carts at: aCartId) add: anAmount of: anItem.
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:16:39'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:16:39'!
PASSED!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:16:39'!
PASSED!

!testRun: #StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:16:39'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:19:44'!
test05
	| store |
	store := self sampleStore.
	
	self should: (store listCart: 1) 
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/19/2021 15:20:17'!
cannotFindCartForThatId
	^''! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:21:20' prior: 50877581!
test05
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/19/2021 15:21:46' prior: 50877590!
cannotFindCartForThatId
	^'No se encontró un carrito activo para ese Id'! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/19/2021 15:21:49' prior: 50877605!
cannotFindCartForThatId
	^'No se encontró un carrito activo para ese ID'! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/19/2021 15:21:53' prior: 50877611!
cannotFindCartForThatId
	^'No se encontró un carrito activo para ese Id'! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:24:09' prior: 50877545!
listCart: aCartId 
	^(carts at: aCartId ifAbsent: [self error: self class cannotFindCartForThatId ]) items.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:24:19' prior: 50877563!
add: anAmount of: anItem toCart: aCartId 
	(carts at: aCartId  ifAbsent: [self error: self class cannotFindCartForThatId ]) add: anAmount of: anItem.
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:24:25'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:24:25'!
PASSED!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:24:25'!
PASSED!

!testRun: #StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:24:25'!
PASSED!

!testRun: #StoreFacadeTest #test05 stamp: 'UC 6/19/2021 15:24:26'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:24:54'!
findCartById: aCartId

	^ carts at: aCartId ifAbsent: [self error: self class cannotFindCartForThatId ]! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:24:54' prior: 50877623!
listCart: aCartId 
	^(self findCartById: aCartId) items.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:25:11' prior: 50877630!
add: anAmount of: anItem toCart: aCartId 
	(self findCartById: aCartId) add: anAmount of: anItem.
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:25:14'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:25:14'!
PASSED!

!testRun: #StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:25:14'!
PASSED!

!testRun: #StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:25:14'!
PASSED!

!testRun: #StoreFacadeTest #test05 stamp: 'UC 6/19/2021 15:25:14'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:27:14'!
test03AddedItemToOneCartIsListedById
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !

!methodRemoval: StoreFacadeTest #test03 stamp: 'UC 6/19/2021 15:27:14'!
test03
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:27:54'!
test04AddedItemsToMultipleCartsAreListedById
	| store xx yy |
	store := self sampleStore.
	xx := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	yy := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 1 of: testObjects itemSellByTheStore toCart: xx.
	store add: 1 of: testObjects itemSellByTheStore toCart: yy.
	
	self assert: 1 equals: (store listCart: xx) size.
	self assert: (store listCart: xx) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: yy) size.
	self assert: (store listCart: yy) includes: testObjects itemSellByTheStore.
	! !

!methodRemoval: StoreFacadeTest #test04 stamp: 'UC 6/19/2021 15:27:54'!
test04
	| store xx yy |
	store := self sampleStore.
	xx := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	yy := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 1 of: testObjects itemSellByTheStore toCart: xx.
	store add: 1 of: testObjects itemSellByTheStore toCart: yy.
	
	self assert: 1 equals: (store listCart: xx) size.
	self assert: (store listCart: xx) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: yy) size.
	self assert: (store listCart: yy) includes: testObjects itemSellByTheStore.
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:28:14' prior: 50877711!
test04AddedItemsToMultipleCartsAreListedById
	| store xx yy |
	store := self sampleStore.
	xx := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	yy := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: xx.
	store add: 2 of: testObjects itemSellByTheStore toCart: yy.
	
	self assert: 1 equals: (store listCart: xx) size.
	self assert: (store listCart: xx) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: yy) size.
	self assert: (store listCart: yy) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:28:45' prior: 50877754!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 yy |
	store := self sampleStore.
	cartId1 := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	yy := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: yy.
	
	self assert: 1 equals: (store listCart: cartId1) size.
	self assert: (store listCart: cartId1) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: yy) size.
	self assert: (store listCart: yy) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:28:50' prior: 50877777!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 cartId2 |
	store := self sampleStore.
	cartId1 := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	cartId2 := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId2.
	
	self assert: 1 equals: (store listCart: cartId1) size.
	self assert: (store listCart: cartId1) includes: testObjects itemSellByTheStore.
	
	self assert: 1 equals: (store listCart: cartId2) size.
	self assert: (store listCart: cartId2) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:30:07' prior: 50877800!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 cartId2 |
	store := self sampleStore.
	cartId1 := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	cartId2 := store createCartWithUserId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId2.
	
	self assert: 2 equals: (store listCart: cartId1) size.
	self assert: ((store listCart: cartId1) at: 1) equals: testObjects itemSellByTheStore.
	self assert: ((store listCart: cartId1) at: 2) equals: testObjects itemSellByTheStore.
	
	self assert: 2 equals: (store listCart: cartId2) size.
	self assert: ((store listCart: cartId2) at: 1) equals: testObjects itemSellByTheStore.
	self assert: ((store listCart: cartId2) at: 2) equals: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:32:08'!
test05ListCartForInexistentIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !

!methodRemoval: StoreFacadeTest #test05 stamp: 'UC 6/19/2021 15:32:08'!
test05
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:32:22'!
test05ListCartForAbsentIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !

!methodRemoval: StoreFacadeTest #test05ListCartForInexistentIdRaisesError stamp: 'UC 6/19/2021 15:32:22'!
test05ListCartForInexistentIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:33:03'!
test06
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:33:56' prior: 50877894!
test06
	| store id |
	store := self sampleStore.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:34:34' prior: 50877904!
test06
	| store id |
	store := self sampleStore.
	
	self should: [store add: 1 of: testObjects itemSellByTheStore toCart: 1]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].! !

!testRun: #StoreFacadeTest #test06 stamp: 'UC 6/19/2021 15:34:46'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:35:32'!
test06AddItemForAbsentCartIdRaisesError
	| store id |
	store := self sampleStore.
	
	self should: [store add: 1 of: testObjects itemSellByTheStore toCart: 1]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].! !

!methodRemoval: StoreFacadeTest #test06 stamp: 'UC 6/19/2021 15:35:32'!
test06
	| store id |
	store := self sampleStore.
	
	self should: [store add: 1 of: testObjects itemSellByTheStore toCart: 1]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:35:37'!
test05ListCartForAbsentCartIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	! !

!methodRemoval: StoreFacadeTest #test05ListCartForAbsentIdRaisesError stamp: 'UC 6/19/2021 15:35:37'!
test05ListCartForAbsentIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store listCart: 1]
	raise: Error
	withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:36:30' prior: 50877685!
test03AddedItemToOneCartIsListedById
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: 'a' toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 15:36:32'!
ERROR!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 15:36:32'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:36:44' prior: 50877968!
test03AddedItemToOneCartIsListedById
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 15:36:56'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 15:36:56'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 15:36:56'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 15:36:56'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 15:36:56'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 15:36:56'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:39:09'!
test07
	| store |
	store := self sampleStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 15:39:28' prior: 50878023!
test07
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	self assert: (store listCart: id) isEmpty.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:00:57'!
xtest08
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	store listPurchases: 'davidYUriel'.
	
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:01:22' prior: 50878028!
test07
	| store id |
	store := self sampleStore.
	store listPurchases: 'davidYUriel'.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:04:28' prior: 50878047!
test07
	| store |
	store := self sampleStore.
	self assert: 0 equals: ((store listPurchases: 'davidYUriel') at: 'total').! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:05:20'!
listPurchases: aClientId
	| dic |
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:05:27'!
PASSED!

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:05:27'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:05:52'!
test08
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	store listPurchases: 'davidYUriel'.
	
	
	! !

!methodRemoval: StoreFacadeTest #xtest08 stamp: 'UC 6/19/2021 16:05:54'!
xtest08
	| store id |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	store listPurchases: 'davidYUriel'.
	
	
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:08:35' prior: 50878089!
test08
	| store id xx |
	store := self sampleStore.
	id := store createCartWithUserId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchases: 'davidYUriel'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:09:09' prior: 50878053!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchases: 'davidYUriel').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:09:49' prior: 50878126!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09'!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue).
	^cartId! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09' prior: 50877420!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	self setLoginToFail.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09' prior: 50877824!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 cartId2 |
	store := self sampleStore.
	cartId1 := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	cartId2 := store createCartWithClientId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId2.
	
	self assert: 2 equals: (store listCart: cartId1) size.
	self assert: ((store listCart: cartId1) at: 1) equals: testObjects itemSellByTheStore.
	self assert: ((store listCart: cartId1) at: 2) equals: testObjects itemSellByTheStore.
	
	self assert: 2 equals: (store listCart: cartId2) size.
	self assert: ((store listCart: cartId2) at: 1) equals: testObjects itemSellByTheStore.
	self assert: ((store listCart: cartId2) at: 2) equals: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09' prior: 50877362!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	self assert: (store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09' prior: 50877988!
test03AddedItemToOneCartIsListedById
	| store id |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:09' prior: 50878110!
test08
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchases: 'davidYUriel'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !

!methodRemoval: StoreFacade #createCartWithUserId:andPassword: stamp: 'UC 6/19/2021 16:10:09'!
createCartWithUserId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue).
	^cartId!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:10:25' prior: 50878136!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchases: 'davidYUriel').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:09'!
listPurchases: aClientId withPassword: aPassword 
	| dic |
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:09' prior: 50878224!
test08
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchases: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:09' prior: 50878250!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchases: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacade #listPurchases: stamp: 'UC 6/19/2021 16:11:09'!
listPurchases: aClientId
	| dic |
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:27'!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic |
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:27' prior: 50878266!
test08
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:11:27' prior: 50878283!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacade #listPurchases:withPassword: stamp: 'UC 6/19/2021 16:11:27'!
listPurchases: aClientId withPassword: aPassword 
	| dic |
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:14:55'!
test09
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !

!methodRemoval: StoreFacadeTest #test08 stamp: 'UC 6/19/2021 16:14:55'!
test08
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:14:58'!
test08
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:14:58'!
test07
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:15:56'!
test07
	| store purchases |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
	raise: Error 
	withExceptionDo: [:error | ]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:16:01' prior: 50878390!
test07
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
	raise: Error 
	withExceptionDo: [:error | ]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:16:20' prior: 50878400!
test07
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
	raise: Error 
	withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:16:26' prior: 50878410!
test07
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:16:30' prior: 50878422!
test07
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:16:32'!
FAILURE!

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:16:32'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:17:55' prior: 50878298!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic |
	clientAuthenticator login: aClientId with: aPassword.
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic! !

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:17:56'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test08 stamp: 'UC 6/19/2021 16:18:01'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:18:01'!
ERROR!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:18:01'!
ERROR!

!testRun: #StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:18:08'!
PASSED!

!testRun: #StoreFacadeTest #test08 stamp: 'UC 6/19/2021 16:18:10'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:19:15'!
checkoutCart: aCartId! !

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:19:34'!
FAILURE!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:19:34'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:21:18' prior: 50878497!
checkoutCart: aCartId
	self findCartById: aCartId.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:24:01'!
test07CheckoutForAbsentCartIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [store checkoutCart: 1]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:24:12'!
test10
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !

!methodRemoval: StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:24:12'!
test09
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:24:16'!
test09
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacadeTest #test08 stamp: 'UC 6/19/2021 16:24:16'!
test08
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:24:22'!
test08
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !

!methodRemoval: StoreFacadeTest #test07 stamp: 'UC 6/19/2021 16:24:22'!
test07
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:25:01'!
test08ListPurchasesForInvalidClientIdOrPasswordRaisesError
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !

!methodRemoval: StoreFacadeTest #test08 stamp: 'UC 6/19/2021 16:25:01'!
test08
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: 'davidYUriel' withPassword: 'xx'] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:25:09'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:25:11'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:25:13'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:25:14'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:25:24'!
FAILURE!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:25:24'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:30:07'!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  Date today
			registeringOn:  OrderedCollection new
			with: MPSimulator answerWithOk 
	
	! !

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 16:31:19'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue carts cartId salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:31:17' prior: 50877526!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.! !

!methodRemoval: StoreFacade #checkoutCart: stamp: 'UC 6/19/2021 16:31:25'!
checkoutCart: aCartId
	self findCartById: aCartId.!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/19/2021 16:31:46'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue carts cartId salesBook merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:31:45' prior: 50878637!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  Date today
			registeringOn:  salesBook
			with: merchantProcessor
	
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:32:00' prior: 50878663!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:32:50'!
initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor 
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.! !
!StoreFacade class methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:32:50' prior: 50877130!
with: aClientAuthenticator catalogue: aCatalogue
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: MPSimulator answerWithOk.! !

!methodRemoval: StoreFacade #initializeWith:catalogue: stamp: 'UC 6/19/2021 16:32:50'!
initializeWith: aClientAuthenticator catalogue: aCatalogue
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.!
!StoreFacade class methodsFor: 'instance creation' stamp: 'UC 6/19/2021 16:34:52'!
with: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor 
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: MPSimulator answerWithOk.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:34:52' prior: 50877356!
sampleStore
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk! !

!methodRemoval: StoreFacade class #with:catalogue: stamp: 'UC 6/19/2021 16:34:52'!
with: aClientAuthenticator catalogue: aCatalogue
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: MPSimulator answerWithOk.!
!StoreFacade class methodsFor: 'instance creation' stamp: 'UC 6/19/2021 16:34:58' prior: 50878746!
with: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor 
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:36:17' prior: 50878686!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  Date today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:36:46' prior: 50878451!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic |
	clientAuthenticator login: aClientId with: aPassword.
	
	dic := Dictionary new.
	dic at: 'total' put: 0.
	^dic! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/19/2021 16:38:41'!
Object subclass: #Sale
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/19/2021 16:38:35' prior: 50875985!
registerEndOfCheckout
	used := true.
	salesbook add: (Sale for: total withItems: cart items).
	cart clear.
	^total.! !

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 16:39:00'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:39:00'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 16:39:00'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 16:39:00'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:39:00'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 16:39:00'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 16:39:00'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:39:03'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'UC 6/19/2021 16:39:09'!
for: aSmallInteger withItems: anOrderedCollection 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aSmallInteger withItems: anOrderedCollection ! !
!Sale class methodsFor: 'instance creation' stamp: 'UC 6/19/2021 16:39:51' prior: 50878851!
for: aTotal withItems: anItemList 
	^self new initializeFor: aTotal withItems: anItemList ! !

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:39:53'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/19/2021 16:40:06'!
Object subclass: #Sale
	instanceVariableNames: 'total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/19/2021 16:40:06'!
Object subclass: #Sale
	instanceVariableNames: 'total itemList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'UC 6/19/2021 16:40:06'!
initializeFor: aTotal withItems: anItemList 
	self shouldBeImplemented.
	total := aTotal.
	itemList := anItemList.! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/19/2021 16:40:17'!
Object subclass: #Sale
	instanceVariableNames: 'total itemList items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'UC 6/19/2021 16:40:14' prior: 50878884!
initializeFor: aTotal withItems: anItemList 
	total := aTotal.
	items := anItemList.! !

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:40:19'!
PASSED!

Object subclass: #Sale
	instanceVariableNames: 'total items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/19/2021 16:40:33'!
Object subclass: #Sale
	instanceVariableNames: 'total items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'nil' stamp: 'UC 6/19/2021 16:40:43'!
total
	^total! !
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:40:51'!
items
	^items! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:44:22' prior: 50878799!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic aSale |
	clientAuthenticator login: aClientId with: aPassword.
	aSale := salesBook at: 1.
	dic := Dictionary new.
	dic at: 'total' put: aSale total.
	dic at: (aSale items at: 1) put: 1.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:44:34'!
FAILURE!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:44:34'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:44:34'!
ERROR!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:44:35'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:46:21' prior: 50878522!
test10
	| store id xx |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id withCardNumber: testObjects validCardNumber expiring: testObjects notExpiredMonthOfYear ownedBy: testObjects validCardName.
	xx := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: xx keys size.
	self assert: 100 equals: (xx at: 'total').
	self assert: 1 equals: (xx at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:46:38' prior: 50878970!
test10
	| store id purchases |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	store checkoutCart: id withCardNumber: testObjects validCardNumber expiring: testObjects notExpiredMonthOfYear ownedBy: testObjects validCardName.
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: (purchases at: testObjects itemSellByTheStore ).
	! !

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:46:41'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:46:46'!
FAILURE!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:46:46'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:46:46'!
ERROR!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:46:46'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:49:39' prior: 50878925!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic aSale |
	dic := Dictionary new.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	aSale := salesBook at: 1.
	
	dic at: 'total' put: aSale total.
	dic at: (aSale items at: 1) put: 1.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:49:43'!
FAILURE!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:49:43'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:49:43'!
FAILURE!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:51:27'!
sampleCheckoutIn: store for: id

	^ store checkoutCart: id withCardNumber: testObjects validCardNumber expiring: testObjects notExpiredMonthOfYear ownedBy: testObjects validCardName! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:51:27' prior: 50878991!
test10
	| store id purchases |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: (purchases at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 16:51:49' prior: 50878511!
test07CheckoutForAbsentCartIdRaisesError
	| store |
	store := self sampleStore.
	
	self should: [self sampleCheckoutIn: store for: 1]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade cannotFindCartForThatId equals: error messageText ].! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 16:51:51'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:51:55'!
FAILURE!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 16:51:55'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:51:55'!
FAILURE!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 16:58:55'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:58:56'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 16:58:56'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 16:58:56'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:58:56'!
FAILURE!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 16:58:56'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 16:58:56'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:58:56'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/19/2021 16:59:36' prior: 50875582!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
				
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first total.
	! !

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 16:59:38'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 16:59:38'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'UC 6/19/2021 17:03:36' prior: 50875435!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!Cart methodsFor: 'adding' stamp: 'UC 6/19/2021 17:04:45' prior: 50875901!
add: aQuantity of: anItem

	self assertIsValidQuantity: aQuantity.
	self assertIsValidItem: anItem.

	items add: anItem withOccurrences: aQuantity.
! !
!Cart methodsFor: 'initialization' stamp: 'UC 6/19/2021 17:05:01' prior: 50875871!
initializeAcceptingItemsOf: aCatalog

	catalog := aCatalog.
	items := Bag new.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/19/2021 17:05:04'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/19/2021 17:05:04'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/19/2021 17:05:04'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/19/2021 17:05:04'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/19/2021 17:05:05'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 17:05:07'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:05:07'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 17:05:07'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 17:05:07'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 17:05:07'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 17:05:07'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 17:05:07'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:05:15'!
ERROR!
!Cart methodsFor: 'queries' stamp: 'UC 6/19/2021 17:05:51' prior: 50875876!
clear
	items := Bag new.
	^items! !

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:05:52'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 17:05:56'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/19/2021 17:06:02'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:06:05'!
ERROR!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:06:05'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:06:05'!
ERROR!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:06:11'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:08:02' prior: 50878170!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 cartId2 |
	store := self sampleStore.
	cartId1 := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	cartId2 := store createCartWithClientId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId2.
	
	self assert: 2 equals: (store listCart: cartId1) size.
	self assert: 2 equals: ((store listCart: cartId1) occurrencesOf: testObjects itemSellByTheStore).
	
	self assert: 2 equals: (store listCart: cartId2) size.
	self assert: 2 equals: ((store listCart: cartId2) occurrencesOf: testObjects itemSellByTheStore).
	! !

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:08:04'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:08:49'!
ERROR!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:08:49'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:13:03' prior: 50879048!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic aSale |
	dic := Dictionary new.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	aSale := salesBook at: 1.
	
	dic at: 'total' put: aSale total.
	aSale items do: [ :key |
		dic at: key put: (aSale items occurrencesOf: key).
	].
	^dic.! !

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:13:04'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:13:05'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:13:07'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:13:10'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:13:10'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:18:01'!
test11
	| store id purchases |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	
	self assert: 3 equals: purchases keys size.
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: (purchases at: testObjects itemSellByTheStore ).
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:23:44' prior: 50879567!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		total := total + aSale total.
		aSale items do: [ :key |
			accumulatedItems at: key withOccurrences: (aSale items occurrencesOf: key).
		].
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:24:01' prior: 50879751!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		total := total + aSale total.
		aSale items do: [ :key |
			accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
		].
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:24:07'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:24:07'!
ERROR!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:24:07'!
FAILURE!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:24:11'!
FAILURE!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:24:11'!
FAILURE!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:25:41' prior: 50879727!
test11
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems at: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:25:49' prior: 50879832!
test11
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:25:50'!
PASSED!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:25:52'!
PASSED!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:25:54'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:25:57'!
ERROR!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:25:57'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:25:57'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:27:18' prior: 50879107!
test10
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := purchases at: 'items'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore).
	! !

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:27:21'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:27:26'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:27:29'!
PASSED!

!testRun: #StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:27:29'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:28:56'!
test09ListPurchasesOfEmptyCartReturnsTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacadeTest #test09 stamp: 'UC 6/19/2021 17:28:56'!
test09
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:30:17'!
test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !

!methodRemoval: StoreFacadeTest #test09ListPurchasesOfEmptyCartReturnsTotal stamp: 'UC 6/19/2021 17:30:17'!
test09ListPurchasesOfEmptyCartReturnsTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: 'davidYUriel' withPassword: 'xx').
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:30:59'!
test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := purchases at: 'items'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore).
	! !

!methodRemoval: StoreFacadeTest #test10 stamp: 'UC 6/19/2021 17:30:59'!
test10
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := purchases at: 'items'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore).
	!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/19/2021 17:31:12'!
test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !

!methodRemoval: StoreFacadeTest #test11 stamp: 'UC 6/19/2021 17:31:12'!
test11
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'davidYUriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/19/2021 17:31:16'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/19/2021 17:31:16'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:14:56'!
test12
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'davidYUriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:21:07' prior: 50880280!
test12
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'uriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).

	purchases := store listPurchasesFor: 'david' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).	! !

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 17:21:10'!
FAILURE!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 17:21:10'!
FAILURE!
!Cart class methodsFor: 'instance creation' stamp: 'UC 6/20/2021 17:24:29'!
acceptingItemsOf: aCatalog forClient: aClientId 
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog  ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:24:29' prior: 50875469!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero forClient: testObjects validClientId. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice forClient: testObjects validClientId. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:24:29' prior: 50878146!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue forClient: testObjects validClientId).
	^cartId! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:24:29' prior: 50876268!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue forClient: testObjects validClientId! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:24:29' prior: 50875532!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue forClient: testObjects validClientId.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !

!methodRemoval: Cart class #acceptingItemsOf: stamp: 'UC 6/20/2021 17:24:29'!
acceptingItemsOf: aCatalog
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog  !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:24:58' prior: 50880384!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue forClient: aClientId).
	^cartId! !
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/20/2021 17:25:09' prior: 50880395!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue forClient: self validClientId! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/20/2021 17:25:32'!
validClientId
	^ 'davidYUriel'! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:18' prior: 50878156!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	self setLoginToFail.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithClientId: testObjects validClientId andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/20/2021 17:26:26'!
sampleClientId
	^ 'davidYUriel'! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:26' prior: 50880441!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue forClient: self sampleClientId! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:26' prior: 50880353!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero forClient: testObjects sampleClientId. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice forClient: testObjects sampleClientId. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:26' prior: 50880402!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue forClient: testObjects sampleClientId.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:26' prior: 50880452!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	self setLoginToFail.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithClientId: testObjects sampleClientId andPassword: 'xx'.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !

!methodRemoval: StoreTestObjects #validClientId stamp: 'UC 6/20/2021 17:26:26'!
validClientId
	^ 'davidYUriel'!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:26:40' prior: 50880532!
test01CreateCartWithInvalidClientIdOrPasswordRaisesError
	| store |
	
	self setLoginToFail.
	store := self sampleStore.
	self 
		should: [ 
			store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
		]
		raise: Error
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText  ]	
	! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/20/2021 17:26:55'!
samplePassword
	
	^ 'xx'! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/20/2021 17:27:14' prior: 50880564!
samplePassword
	
	^ 'EstaEsUnaContraseñaBienDivertid@'! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:27:42' prior: 50878200!
test02ListCreatedCartReturnsEmptyCart
	| store id |
	store := self sampleStore.
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	self assert: (store listCart: id) isEmpty.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:27:47' prior: 50878210!
test03AddedItemToOneCartIsListedById
	| store id |
	store := self sampleStore.
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self assert: 1 equals: (store listCart: id) size.
	self assert: (store listCart: id) includes: testObjects itemSellByTheStore.
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:28:05' prior: 50879534!
test04AddedItemsToMultipleCartsAreListedById
	| store cartId1 cartId2 |
	store := self sampleStore.
	cartId1 := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	cartId2 := store createCartWithClientId: 'david' andPassword: 'yy'.
	
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId1.
	store add: 2 of: testObjects itemSellByTheStore toCart: cartId2.
	
	self assert: 2 equals: (store listCart: cartId1) size.
	self assert: 2 equals: ((store listCart: cartId1) occurrencesOf: testObjects itemSellByTheStore).
	
	self assert: 2 equals: (store listCart: cartId2) size.
	self assert: 2 equals: ((store listCart: cartId2) occurrencesOf: testObjects itemSellByTheStore).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:28:42' prior: 50878595!
test08ListPurchasesForInvalidClientIdOrPasswordRaisesError
	| store |
	self setLoginToFail.
	store := self sampleStore.
	self should: [store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword ] 
		raise: Error 
		withExceptionDo: [:error | self assert: StoreFacade invalidClientIdOrPassword equals: error messageText ]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:29:01' prior: 50880120!
test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:29:22' prior: 50880143!
test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId:testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	purchases := store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword.
	purchasedItems := purchases at: 'items'.
	
	self assert: 2 equals: purchases keys size.
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore).
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:29:45' prior: 50880187!
test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !
!Cart methodsFor: 'initialization' stamp: 'UC 6/20/2021 17:30:47'!
initializeAcceptingItemsOf: aCatalog forClient: aClientId 

	catalog := aCatalog.
	items := Bag new.! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:30:47' prior: 50880345!
acceptingItemsOf: aCatalog forClient: aClientId 
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog forClient: aClientId  ! !

!methodRemoval: Cart #initializeAcceptingItemsOf: stamp: 'UC 6/20/2021 17:30:47'!
initializeAcceptingItemsOf: aCatalog

	catalog := aCatalog.
	items := Bag new.!

!classDefinition: #Cart category: 'TusLibros' stamp: 'UC 6/20/2021 17:31:06'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items client'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initialization' stamp: 'UC 6/20/2021 17:31:05' prior: 50880709!
initializeAcceptingItemsOf: aCatalog forClient: aClientId 

	catalog := aCatalog.
	items := Bag new.
	client := aClientId.! !
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 17:31:22'!
client
	^client! !
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 17:31:30' prior: 50880743!
client
	^client! !
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 17:33:05' prior: 50880746!
client
	^client! !
!Sale class methodsFor: 'instance creation' stamp: 'UC 6/20/2021 17:34:44'!
for: aTotal withItems: anItemList forClient: aClient  
	^self new initializeFor: aTotal withItems: anItemList ! !
!CashierPerSale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:34:44' prior: 50878814!
registerEndOfCheckout
	used := true.
	salesbook add: (Sale for: total withItems: cart items forClient: XX).
	cart clear.
	^total.! !

!methodRemoval: Sale class #for:withItems: stamp: 'UC 6/20/2021 17:34:44'!
for: aTotal withItems: anItemList 
	^self new initializeFor: aTotal withItems: anItemList !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/20/2021 17:34:53' prior: 50880759!
registerEndOfCheckout
	used := true.
	salesbook add: (Sale for: total withItems: cart items forClient: cart client).
	cart clear.
	^total.! !
!Sale methodsFor: 'initialization' stamp: 'UC 6/20/2021 17:35:25'!
initializeFor: aTotal withItems: anItemList forClient: aClient  
	total := aTotal.
	items := anItemList.! !
!Sale class methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:35:25' prior: 50880752!
for: aTotal withItems: anItemList forClient: aClient  
	^self new initializeFor: aTotal withItems: anItemList forClient: aClient ! !

!methodRemoval: Sale #initializeFor:withItems: stamp: 'UC 6/20/2021 17:35:25'!
initializeFor: aTotal withItems: anItemList 
	total := aTotal.
	items := anItemList.!

!classDefinition: #Sale category: 'TusLibros' stamp: 'UC 6/20/2021 17:35:35'!
Object subclass: #Sale
	instanceVariableNames: 'total items client'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'UC 6/20/2021 17:35:34' prior: 50880779!
initializeFor: aTotal withItems: anItemList forClient: aClient  
	total := aTotal.
	items := anItemList.
	client := aClient.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/20/2021 17:35:49'!
client
	^client! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:38:29' prior: 50879771!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale client = aClientId) ifTrue: [
			total := total + aSale total.
			aSale items do: [ :key |
				accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
			].
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:38:34'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 17:38:34'!
PASSED!
!Sale methodsFor: 'nil' stamp: 'UC 6/20/2021 17:41:16'!
+ aSale
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:41:24' prior: 50880815!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale client = aClientId) ifTrue: [
			
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:42:58' prior: 50880878!
+ aSale
	|newItems newTotal|
	newTotal := total + aSale total.
	! !
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:46:14' prior: 50880899!
+ aSale
	|newItems newTotal|
	"TO DO: Podemos sumar sales de distinto client?"
	newTotal := total + aSale total.
	newItems := items addAll: aSale items.
	^self class for: newTotal withItems: newItems forClient: 	client.! !
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:46:27' prior: 50880904!
+ aSale
	|newItems newTotal|
	"TO DO: Podemos sumar sales de distinto client?"
	"(aSale client = client) ifFalse: [self error: self class cannotAdd"
	newTotal := total + aSale total.
	newItems := items addAll: aSale items.
	^self class for: newTotal withItems: newItems forClient: 	client.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:50:17' prior: 50880882!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx total |
	dic := Dictionary new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	xx := salesBook sum.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:50:25'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:50:25'!
FAILURE!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 17:50:25'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:52:02' prior: 50880927!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx total |
	dic := Dictionary new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	xx := salesBook sum: [:aSale | (aClientId = aSale client) ifTrue:[aSale] ifFalse:[Sale for: 0 withItems: Bag new forClient: aClientId ]].
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:52:09'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 17:52:09'!
FAILURE!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 17:52:09'!
FAILURE!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:56:19' prior: 50880984!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx total |
	dic := Dictionary new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	xx := salesBook sum.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:05:42' prior: 50881045!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx total emptyBehaviour |
	dic := Dictionary new.
	total := 0.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	
	(salesBook size = 0) ifTrue: emptyBehaviour.
	xx := salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | ^aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:05:55' prior: 50881059!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	
	(salesBook size = 0) ifTrue: emptyBehaviour.
	xx := salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | ^aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:06:48' prior: 50881079!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	
	(salesBook size = 0) ifTrue: emptyBehaviour.
	salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | xx := aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:07:07' prior: 50881098!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | xx := aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:11:01'!
groupByClientIn: aSalesBook
	|newItems newTotal|
	"TO DO: Podemos sumar sales de distinto client?"
	"(aSale client = client) ifFalse: [self error: self class cannotAdd"
	newTotal := 0.
	newItems := Bag new.
	aSalesBook do: [ :aSale |
		(aSale client = client) ifTrue: [
			newTotal := newTotal + aSale total.
			newItems := newItems addAll: aSale items.
		]
	].
	^self class for: newTotal withItems: newItems forClient: 	client.! !

!methodRemoval: Sale #+ stamp: 'UC 6/20/2021 18:11:05'!
+ aSale
	|newItems newTotal|
	"TO DO: Podemos sumar sales de distinto client?"
	"(aSale client = client) ifFalse: [self error: self class cannotAdd"
	newTotal := total + aSale total.
	newItems := items addAll: aSale items.
	^self class for: newTotal withItems: newItems forClient: 	client.!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:11:12'!
FAILURE!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:11:12'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:11:12'!
FAILURE!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:12:37' prior: 50880679!
test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:12:38'!
FAILURE!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:12:57' prior: 50881209!
test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword.
	purchasedItems := (purchases at: 'items').
	self assert: 200 equals: (purchases at: 'total').
	self assert: 2 equals: purchasedItems size.
	self assert: 2 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).
	! !

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:18:44'!
FAILURE!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:18:44'!
FAILURE!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:20:32'!
FAILURE!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:20:32'!
FAILURE!

(self findCartById: aCartId)!

(self findCartById: aCartId) !

(self findCartById: aCartId)!

anAmount!
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:27:08' prior: 50881134!
groupByClientIn: aSalesBook
	|newItems newTotal|
	"TO DO: Podemos sumar sales de distinto client?"
	"(aSale client = client) ifFalse: [self error: self class cannotAdd"
	newTotal := 0.
	newItems := Bag new.
	aSalesBook do: [ :aSale |
		(aSale client = client) ifTrue: [
			newTotal := newTotal + aSale total.
			newItems addAll: aSale items.
		]
	].
	^self class for: newTotal withItems: newItems forClient: 	client.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:27:12'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:27:15'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:27:15'!
PASSED!
!Sale methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:27:45' prior: 50881295!
groupByClientIn: aSalesBook
	|newItems newTotal|
	newTotal := 0.
	newItems := Bag new.
	aSalesBook do: [ :aSale |
		(aSale client = client) ifTrue: [
			newTotal := newTotal + aSale total.
			newItems addAll: aSale items.
		]
	].
	^self class for: newTotal withItems: newItems forClient: 	client.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:30:21'!
test13
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'uriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).

	purchases := store listPurchasesFor: 'david' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:30:46'!
sampleStoreWithDate: aDate
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:31:01' prior: 50878756!
sampleStore
	^ self sampleStoreWithDate: Date today! !

	Date today!

	Date now!

	Date dateAndTimeNow !

	Date dateAndTimeNow !

	Date dateAndTimeNow minutes!

	Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow!

	Date dateAndTimeNow - Date dateAndTimeNow > 30 minutes!

	GregorianDateTime timeOfDay !

	GregorianDateTime new timeOfDay !

	GregorianDateTime now !

	GregorianDateTime now timeOfDay !

	GregorianDateTime now  !

	GregorianDateTime now  + 30*minute!

GregorianDateTime now distanceTo: GregorianDateTime yesterday!

	GregorianDateTime now distanceTo: GregorianDateTime now !

	GregorianDateTime now distanceTo: GregorianDateTime theBeginningOfTime !

36382688580646112684438326141/86400000 days minutes!

( -36382688580646112684438326141/86400000 days)!

	(GregorianDateTime now distanceTo: GregorianDateTime theBeginningOfTime) * minute!

	(GregorianDateTime now distanceTo: GregorianDateTime theBeginningOfTime) * minute!

	(GregorianDateTime now distanceTo: GregorianDateTime theBeginningOfTime) minute!

	1*day!

	((1*day) to: minute)!

	((1*day) convertTo: minute)!

	(GregorianDateTime now distanceTo: GregorianDateTime theBeginningOfTime) convertTo: minute.!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:43:08' prior: 50881484!
test13
	| store id purchases purchasedItems |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'uriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).

	purchases := store listPurchasesFor: 'david' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:43:29' prior: 50881526!
sampleStore
	^ self sampleStoreWithDate: GregorianDateTime! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:45:43' prior: 50881574!
test13
	| store id |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:46:34' prior: 50881615!
test13
	| store id |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
			
		]
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:47:45' prior: 50881631!
test13
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:48:09'!
sampleStoreWithClock: aDate
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:48:09' prior: 50881609!
sampleStore
	^ self sampleStoreWithClock: GregorianDateTime! !

!methodRemoval: StoreFacadeTest #sampleStoreWithDate: stamp: 'UC 6/20/2021 18:48:09'!
sampleStoreWithDate: aDate
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:48:16' prior: 50881669!
sampleStoreWithClock: aClock
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk! !
!StoreFacade class methodsFor: 'instance creation' stamp: 'UC 6/20/2021 18:49:04'!
with: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor clock: aClock  
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:49:04' prior: 50881690!
sampleStoreWithClock: aClock
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk clock: GregorianDateTime! !

!methodRemoval: StoreFacade class #with:catalogue:merchantProcessor: stamp: 'UC 6/20/2021 18:49:04'!
with: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor 
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor.!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:49:14' prior: 50881708!
sampleStoreWithClock: aClock
	^ StoreFacade with: self catalogue: testObjects defaultCatalogue merchantProcessor: MPSimulator answerWithOk clock: aClock! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:49:43'!
initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor clock: aClock  
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.! !
!StoreFacade class methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:49:43' prior: 50881698!
with: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor clock: aClock  
	^self new initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor clock: aClock.! !

!methodRemoval: StoreFacade #initializeWith:catalogue:merchantProcessor: stamp: 'UC 6/20/2021 18:49:43'!
initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor 
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.!

!classDefinition: #StoreFacade category: 'TusLibros' stamp: 'UC 6/20/2021 18:49:59'!
Object subclass: #StoreFacade
	instanceVariableNames: 'clientAuthenticator catalogue carts cartId salesBook merchantProcessor clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:49:57' prior: 50881734!
initializeWith: aClientAuthenticator catalogue: aCatalogue merchantProcessor: aMerchantProcessor clock: aClock  
	clientAuthenticator := aClientAuthenticator.
	catalogue := aCatalogue.
	cartId := 0.
	carts := Dictionary new.
	salesBook := OrderedCollection new.
	merchantProcessor := MPSimulator answerWithOk.
	clock := aClock.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:50:23' prior: 50878781!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock now
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:50:26'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:50:26'!
ERROR!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:50:26'!
ERROR!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:50:26'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:50:26'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:50:38'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:51:44' prior: 50881793!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:51:45'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:51:45'!
ERROR!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:51:45'!
ERROR!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:51:45'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:51:45'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:51:50'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:53:15' prior: 50881677!
sampleStore
	^ self sampleStoreWithClock: DateAndTime ! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:53:18'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:53:18'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:53:18'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:54:01' prior: 50881928!
sampleStore
	^ self sampleStoreWithClock: DateAndTime ! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:54:56' prior: 50881860!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |

	cart := self findCartById: aCartId.
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:55:43' prior: 50880431!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue forClient: aClientId).
	^cartId! !
!Cart class methodsFor: 'instance creation' stamp: 'UC 6/20/2021 18:56:49'!
acceptingItemsOf: aCatalog forClient: aClientId createdOn: aCreationDate  
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog forClient: aClientId  ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:56:49' prior: 50880478!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero forClient: testObjects sampleClientId createdOn: clock today. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice forClient: testObjects sampleClientId createdOn: clock today. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:56:49' prior: 50882004!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue forClient: aClientId createdOn: clock today).
	^cartId! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:56:49' prior: 50880509!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue forClient: testObjects sampleClientId createdOn: clock today.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:56:49' prior: 50880471!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue forClient: self sampleClientId createdOn: clock today! !

!methodRemoval: Cart class #acceptingItemsOf:forClient: stamp: 'UC 6/20/2021 18:56:49'!
acceptingItemsOf: aCatalog forClient: aClientId 
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog forClient: aClientId  !
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/20/2021 18:57:20' prior: 50882091!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue forClient: self sampleClientId createdOn: DateAndTime today! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/20/2021 18:57:39' prior: 50882067!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue forClient: testObjects sampleClientId createdOn: DateAndTime today.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/20/2021 18:58:01' prior: 50882024!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero forClient: testObjects sampleClientId createdOn: DateAndTime today. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice forClient: testObjects sampleClientId createdOn: DateAndTime today. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 18:58:11'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 18:58:13'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 18:58:16'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 18:58:16'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 18:58:16'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 18:58:16'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:58:20'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 18:58:20'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 18:58:21'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:58:21'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 18:58:21'!
ERROR!
!Cart methodsFor: 'initialization' stamp: 'UC 6/20/2021 18:59:02'!
initializeAcceptingItemsOf: aCatalog forClient: aClientId createdOn: aCreationDate  

	catalog := aCatalog.
	items := Bag new.
	client := aClientId.! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:59:03' prior: 50882014!
acceptingItemsOf: aCatalog forClient: aClientId createdOn: aCreationDate  
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog forClient: aClientId createdOn: aCreationDate  ! !

!methodRemoval: Cart #initializeAcceptingItemsOf:forClient: stamp: 'UC 6/20/2021 18:59:03'!
initializeAcceptingItemsOf: aCatalog forClient: aClientId 

	catalog := aCatalog.
	items := Bag new.
	client := aClientId.!

!classDefinition: #Cart category: 'TusLibros' stamp: 'UC 6/20/2021 18:59:23'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items client creationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initialization' stamp: 'UC 6/20/2021 18:59:20' prior: 50882292!
initializeAcceptingItemsOf: aCatalog forClient: aClientId createdOn: aCreationDate  

	catalog := aCatalog.
	items := Bag new.
	client := aClientId.
	creationDate := aCreationDate.! !
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 18:59:37'!
creationDate
	^creationDate ! !
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:00:47'!
isExpiredOn: aDateTime
	^((creationDate distanceTo: aDateTime) convertTo: minute) > 30*minute! !

!methodRemoval: Cart #creationDate stamp: 'UC 6/20/2021 19:00:50'!
creationDate
	^creationDate !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/20/2021 19:01:34' prior: 50875978!
checkout
	self assertHasNotBeenUsedBefore.
	
	total := cart total.
	merchantProcessor charge: total on: creditCard.
	
	^self registerEndOfCheckout.
! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:02:43' prior: 50881986!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	
	cart := self findCartById: aCartId.
	
	(cart isExpiredOn: clock today) ifTrue: [ self error: self class ].
	
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !
!StoreFacade class methodsFor: 'error messages' stamp: 'UC 6/20/2021 19:03:15'!
cannotCheckoutCartAfter30minutes
	^'No se puede facturar un carrito después de 30 minutos de crearlo'! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:04:02' prior: 50882352!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	
	cart := self findCartById: aCartId.
	
	(cart isExpiredOn: clock today) ifTrue: [ self error: self class cannotCheckoutCartAfter30minutes ].
	
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:04:07'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:04:07'!
ERROR!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:04:07'!
ERROR!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:04:07'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:04:07'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:04:10'!
ERROR!

self distanceTo: 1!

	GregorianDateTime today!

	GregorianDateTime now!

	GregorianDateTime now asMonth !

	GregorianDateTime now asMonthOfYear!

GregorianDateTime now monthOfYear!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:08:10' prior: 50881981!
sampleStore
	^ self sampleStoreWithClock: GregorianDateTime ! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/20/2021 19:14:09' prior: 50876281!
expiredDate
	^GregorianDateTime theEndOfTime.
	"Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)"! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 19:14:43'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:14:45'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 19:14:48'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 19:14:48'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 19:14:48'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 19:14:48'!
PASSED!
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:15:05' prior: 50882335!
isExpiredOn: aDateTime
	^((aDateTime distanceTo: creationDate) convertTo: minute) > 30*minute! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:15:56'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:15:56'!
ERROR!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:16:02'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:16:25' prior: 50882056!
createCartWithClientId: aClientId andPassword: aPassword
	clientAuthenticator login: aClientId with: aPassword.
	cartId := cartId + 1.
	carts at: cartId put: (Cart acceptingItemsOf: catalogue forClient: aClientId createdOn: clock now).
	^cartId! !

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:16:27'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:16:29'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:16:30'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:16:30'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:16:38' prior: 50882379!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	
	cart := self findCartById: aCartId.
	
	(cart isExpiredOn: clock now) ifTrue: [ self error: self class cannotCheckoutCartAfter30minutes ].
	
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock today
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:16:40'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:16:58'!
ERROR!

((aDateTime distanceTo: creationDate) convertTo: minute)!

((aDateTime distanceTo: creationDate) convertTo: minute) > 30 minutes!

((aDateTime distanceTo: creationDate) convertTo: minute) > 30*minute!

((aDateTime distanceTo: creationDate) convertTo: minute)!

1*minute > 2*minute!
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:20:01' prior: 50882542!
isExpiredOn: aDateTime
	^((aDateTime distanceTo: creationDate) convertTo: minute) > (30*minute)! !

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:20:02'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:20:06'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:20:14' prior: 50882623!
checkoutCart: aCartId withCardNumber: aCardNumber expiring: anExpirationMonthOfYear ownedBy: anOwnerName
	| cart creditCard |
	
	cart := self findCartById: aCartId.
	
	(cart isExpiredOn: clock now) ifTrue: [ self error: self class cannotCheckoutCartAfter30minutes ].
	
	creditCard := CreditCard 
		withName:  anOwnerName 
		withNumber:  aCardNumber 
		withExpirationDate: anExpirationMonthOfYear.
	(CashierPerSale 
			forCheckoutWith:  cart
			chargingTo:  creditCard
			onDate:  clock now
			registeringOn:  salesBook
			with: merchantProcessor) checkout.
	
	
	! !

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:20:15'!
ERROR!
!CashierPerSale class methodsFor: 'assertions' stamp: 'UC 6/20/2021 19:20:51' prior: 50876033!
assertCardDateIsNotExpired: aCard onDate: aDate
	| monthOfYear |
	monthOfYear:= aDate monthOfYear.
	(aCard isExpiredOn: monthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:20:52'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:20:54'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:20:55'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:20:55'!
ERROR!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:21:38'!
now
	^GregorianDateTime theBeginningOfTime.
	
	! !

!classDefinition: #StoreFacadeTest category: 'TusLibros' stamp: 'UC 6/20/2021 19:23:54'!
TestCase subclass: #StoreFacadeTest
	instanceVariableNames: 'loginWithSuccess testObjects isTheFuture'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:23:36' prior: 50882723!
now	
	^isTheFuture ifTrue: [GregorianDateTime theEndOfTime] ifFalse:[GregorianDateTime now].
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:24:08' prior: 50877120 overrides: 16927572!
setUp
	loginWithSuccess := true.
	isTheFuture := false.
		testObjects := StoreTestObjects new.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:24:10' prior: 50882743 overrides: 16927572!
setUp
	loginWithSuccess := true.
	isTheFuture := false.
	testObjects := StoreTestObjects new.! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:24:29' prior: 50881647!
test13
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	isTheFuture := true.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:24:32'!
FAILURE!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:24:32'!
FAILURE!

self now!

self now!

((aDateTime distanceTo: creationDate) convertTo: minute) > (30*minute)!

((aDateTime distanceTo: creationDate) convertTo: minute)!

((creationDate distanceTo: aDateTime) convertTo: minute) -1212756286021532836718947247/2000 minutes !

((creationDate distanceTo: aDateTime) convertTo: minute)!
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:28:19' prior: 50882661!
isExpiredOn: aDateTime
	^((creationDate distanceTo: aDateTime) convertTo: minute) > (30*minute)! !

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:28:21'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:28:24'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:28:27'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:28:31'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:28:31'!
FAILURE!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:28:31'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:28:31'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:28:31'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:28:31'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:28:31'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:28:34'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:28:34'!
FAILURE!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:28:34'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:28:34'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:28:34'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:28:34'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:28:34'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:28:38'!
ERROR!
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/20/2021 19:30:11' prior: 50875744!
cashierWith: aCart registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard
		onDate: GregorianDateTime now
		registeringOn: aSalesbook 
		with: aMerchantProcessor 
		! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/20/2021 19:30:15' prior: 50875734!
cashierWith: aCart registeringOn: aSalesbook
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard 
		onDate: GregorianDateTime now
		registeringOn: aSalesbook 
		with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/20/2021 19:30:19' prior: 50875723!
cashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: aCreditCard 
		onDate: GregorianDateTime now
		registeringOn: aSalesbook 
		with: aMerchantProcessor ! !

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:30:21'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:30:24'!
PASSED!

!testRun: #StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:30:24'!
PASSED!
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:31:14'!
setClockToFutureDate

	^ isTheFuture := true! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:31:14' prior: 50882757!
test13
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !
!StoreFacadeTest methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:31:17' prior: 50883278!
test13
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/20/2021 19:33:07'!
test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'uriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).

	purchases := store listPurchasesFor: 'david' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).	! !

!methodRemoval: StoreFacadeTest #test12 stamp: 'UC 6/20/2021 19:33:07'!
test12
	| store id purchases purchasedItems |
	store := self sampleStore.
	id := store createCartWithClientId: 'uriel' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	self sampleCheckoutIn: store for: id.
	
	purchases := store listPurchasesFor: 'uriel' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).

	purchases := store listPurchasesFor: 'david' withPassword: 'xx'.
	purchasedItems := (purchases at: 'items').
	self assert: 100 equals: (purchases at: 'total').
	self assert: 1 equals: purchasedItems size.
	self assert: 1 equals: (purchasedItems occurrencesOf: testObjects itemSellByTheStore ).	!
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/20/2021 19:33:55'!
test13CartExpiresAfter30Minutes
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !

!methodRemoval: StoreFacadeTest #test13 stamp: 'UC 6/20/2021 19:33:55'!
test13
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	!
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/20/2021 19:34:29'!
test13CheckoutOfExpiredCartRaisesError
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !

!methodRemoval: StoreFacadeTest #test13CartExpiresAfter30Minutes stamp: 'UC 6/20/2021 19:34:29'!
test13CartExpiresAfter30Minutes
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	!
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:34:50' prior: 50882794!
isExpiredOn: aDateTime
	^((creationDate distanceTo: aDateTime) convertTo: minute) > (35*minute)! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:34:54'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:34:54'!
PASSED!
!Cart methodsFor: 'queries' stamp: 'UC 6/20/2021 19:35:00' prior: 50883485!
isExpiredOn: aDateTime
	^((creationDate distanceTo: aDateTime) convertTo: minute) > (30*minute)! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/20/2021 19:40:44' prior: 50882461!
expiredDate
	^GregorianDateTime next: 3*day.
	"Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)"! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/20/2021 19:41:10' prior: 50883620!
expiredDate
	^GregorianDateTime next: 3*month.
	"Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)"! !
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:41:26' prior: 50882736!
now	
	^isTheFuture ifTrue: [GregorianDateTime next: 30*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:29'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:29'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:29'!
FAILURE!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:41:39' prior: 50883634!
now	
	^isTheFuture ifTrue: [GregorianDateTime next: 31*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:42'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:42'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:42'!
FAILURE!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:41:46' prior: 50883693!
now	
	^isTheFuture ifTrue: [GregorianDateTime next: 35*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:47'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:47'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:47'!
FAILURE!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:41:52' prior: 50883752!
now	
	^isTheFuture ifTrue: [GregorianDateTime next: 30*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:41:55'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:55'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:41:55'!
FAILURE!

self now!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:42:25' prior: 50883811!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: 30*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:27'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:42:27'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:42:27'!
FAILURE!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:42:40' prior: 50883870!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: 31*minute] ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:42:42'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:42:42'!
PASSED!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:42:45' prior: 50883929!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: 30*minute] ifFalse:[GregorianDateTime now].
	
	! !
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:42:57' prior: 50883984!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: 31*minute] ifFalse:[GregorianDateTime now].
	
	! !
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:43:11' prior: 50883991!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: 30*minute + 1*second]ifFalse:[GregorianDateTime now].
	
	! !
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:43:21' prior: 50883998!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: (30*minute) + (1*second)]ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:23'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:43:23'!
PASSED!
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:43:34' prior: 50884005!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: (30*minute) + (1*millisecond )]ifFalse:[GregorianDateTime now].
	
	! !
!StoreFacadeTest methodsFor: 'stubbing' stamp: 'UC 6/20/2021 19:43:35' prior: 50884061!
now	
	^isTheFuture ifTrue: [GregorianDateTime now next: (30*minute) + (1*millisecond)]ifFalse:[GregorianDateTime now].
	
	! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/20/2021 19:43:36'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/20/2021 19:43:36'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:44:33' prior: 50881117!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedSales emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | accumulatedSales := aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: accumulatedSales total.
	dic at: 'items' put: accumulatedSales items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 19:53:18' prior: 50884124!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedSales emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | accumulatedSales := aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: accumulatedSales total.
	dic at: 'items' put: accumulatedSales items.
	^dic.! !

----QUIT----(22 June 2021 15:54:54) CuisUniversity-4532.image priorSource: 17453456!

----STARTUP---- (22 June 2021 21:29:16) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!


!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:29:48'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/22/2021 21:29:51'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:29:51'!
PASSED!
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:33:27'!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:34:36' prior: 50884220!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self sampleCheckoutIn: store for: id.
		
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !

!methodRemoval: StoreFacadeTest #test14 stamp: 'UC 6/22/2021 21:42:55'!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self sampleCheckoutIn: store for: id.
		
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:05:55' prior: 50884143!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	
	(salesBook size = 0) ifTrue: emptyBehaviour.
	xx := salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | ^aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:38:29' prior: 50884279!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale client = aClientId) ifTrue: [
			total := total + aSale total.
			aSale items do: [ :key |
				accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
			].
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!methodRemoval: Sale #groupByClientIn: stamp: 'UC 6/22/2021 21:45:05'!
groupByClientIn: aSalesBook
	|newItems newTotal|
	newTotal := 0.
	newItems := Bag new.
	aSalesBook do: [ :aSale |
		(aSale client = client) ifTrue: [
			newTotal := newTotal + aSale total.
			newItems addAll: aSale items.
		]
	].
	^self class for: newTotal withItems: newItems forClient: 	client.!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:45:48' prior: 50884298!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := total + aSale total.
			aSale items do: [ :key |
				accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
			].
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:46:06'!
isForClient: aClientId
	^client = aClientId ! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:47:09' prior: 50884331!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := total + aSale total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:47:44'!
addAllItemsTo: aBag
	^aBag addAll: items.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:48:11'!
addTotalTo: aNumber
	^aNumber + total.
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:49:10' prior: 50884357!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:49:28' prior: 50884384!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	clientAuthenticator login: aClientId with: aPassword.
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:49:54'!
FAILURE!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/22/2021 21:49:54'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:49:54'!
FAILURE!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:49:58'!
FAILURE!
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:50:32' prior: 50880640!
test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 2 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	self assert: 0 equals: (purchases at: 'items') size.! !

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:50:33'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:50:34'!
FAILURE!
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:50:51' prior: 50883438!
test13CheckoutOfExpiredCartRaisesError
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 2 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	self assert: 0 equals: (purchases at: 'items') size.
	
	! !

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:50:53'!
FAILURE!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:50:56'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:50:59'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/22/2021 21:51:01'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/22/2021 21:51:02'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/22/2021 21:51:02'!
PASSED!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:52:03' prior: 50884401!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	clientAuthenticator login: aClientId with: aPassword.
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

Object subclass: #ListPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/22/2021 21:53:50'!
Object subclass: #ListPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:54:39' prior: 50884697!
listPurchasesFor: aClientId withPassword: aPassword 
	| accumulatedItems |
	clientAuthenticator login: aClientId with: aPassword.
	^ListPurchases for: aClientId with: salesBook.! !

----STARTUP---- (23 June 2021 17:59:27) as /Users/urichami/Facu/ing1/inge1-1c-2021/Cuis/CuisUniversity-4532.image!

!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:33:27'!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:34:36' prior: 50884737!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self sampleCheckoutIn: store for: id.
		
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	! !

!methodRemoval: StoreFacadeTest #test14 stamp: 'UC 6/23/2021 17:59:51'!
test14
	| store id purchases |
	store := self sampleStore.
	
	id := store createCartWithClientId: testObjects sampleClientId andPassword: testObjects samplePassword .
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self sampleCheckoutIn: store for: id.
		
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 1 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	
	!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 18:05:55' prior: 50884143!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic xx emptyBehaviour |
	dic := Dictionary new.
	emptyBehaviour := [
		dic at: 'total' put: 0.
		^dic.
	].
	clientAuthenticator login: aClientId with: aPassword.
	
	(salesBook size = 0) ifTrue: emptyBehaviour.
	xx := salesBook detect:[:aSale | aSale client = aClientId ] 
			ifFound:[:aFoundSale | ^aFoundSale groupByClientIn: salesBook ] 
			ifNone: emptyBehaviour.
	dic at: 'total' put: xx total.
	dic at: 'items' put: xx items.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/20/2021 17:38:29' prior: 50884796!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale client = aClientId) ifTrue: [
			total := total + aSale total.
			aSale items do: [ :key |
				accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
			].
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!methodRemoval: Sale #groupByClientIn: stamp: 'UC 6/23/2021 17:59:51'!
groupByClientIn: aSalesBook
	|newItems newTotal|
	newTotal := 0.
	newItems := Bag new.
	aSalesBook do: [ :aSale |
		(aSale client = client) ifTrue: [
			newTotal := newTotal + aSale total.
			newItems addAll: aSale items.
		]
	].
	^self class for: newTotal withItems: newItems forClient: 	client.!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:45:48' prior: 50884815!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := total + aSale total.
			aSale items do: [ :key |
				accumulatedItems add: key withOccurrences: (aSale items occurrencesOf: key).
			].
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:46:06'!
isForClient: aClientId
	^client = aClientId ! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:47:09' prior: 50884848!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	(salesBook size = 0) ifTrue: [
		dic at: 'total' put: 0.
		^dic.
	].
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := total + aSale total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:47:44'!
addAllItemsTo: aBag
	^aBag addAll: items.! !
!Sale methodsFor: 'accessing' stamp: 'UC 6/22/2021 21:48:11'!
addTotalTo: aNumber
	^aNumber + total.
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:49:10' prior: 50884874!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	clientAuthenticator login: aClientId with: aPassword.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:49:28' prior: 50884901!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	clientAuthenticator login: aClientId with: aPassword.
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:50:32' prior: 50880640!
test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal
	| store purchases |
	store := self sampleStore.
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 2 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	self assert: 0 equals: (purchases at: 'items') size.! !
!StoreFacadeTest methodsFor: 'tests' stamp: 'UC 6/22/2021 21:50:51' prior: 50883438!
test13CheckoutOfExpiredCartRaisesError
	| store id purchases |
	store := self sampleStoreWithClock: self.
	
	id := store createCartWithClientId: 'david' andPassword: 'xx'.
	store add: 1 of: testObjects itemSellByTheStore toCart: id.
	
	self setClockToFutureDate.
	self should: [self sampleCheckoutIn: store for: id.] 
		raise: Error
		withExceptionDo: [ :error | 
			self assert: StoreFacade cannotCheckoutCartAfter30minutes equals: error messageText.
		].
	purchases := (store listPurchasesFor: testObjects sampleClientId withPassword: testObjects samplePassword).
	self assert: 2 equals: purchases keys size.
	self assert: 0 equals: (purchases at: 'total').
	self assert: 0 equals: (purchases at: 'items') size.
	
	! !
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:52:03' prior: 50884918!
listPurchasesFor: aClientId withPassword: aPassword 
	| dic accumulatedItems total |
	clientAuthenticator login: aClientId with: aPassword.
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: aClientId) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 17:59:52'!
Object subclass: #ListPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 17:59:52'!
Object subclass: #ListPurchases
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/22/2021 21:54:39' prior: 50884976!
listPurchasesFor: aClientId withPassword: aPassword 
	| accumulatedItems |
	clientAuthenticator login: aClientId with: aPassword.
	^ListPurchases for: aClientId with: salesBook.! !

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:03:40'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:03:41'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook client'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ListPurchases methodsFor: 'nil' stamp: 'UC 6/23/2021 18:03:39'!
compute
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases class methodsFor: 'nil' stamp: 'UC 6/23/2021 18:05:15'!
for: aClientId with: aSalesBook
	^self new initializeFor: aClientId with: aSalesBook! !
!ListPurchases methodsFor: 'nil' stamp: 'UC 6/23/2021 18:05:43'!
initializeFor: aClientId with: aSalesBook
	client := aClientId.
	salesBook := aSalesBook.! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:05:51'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:05:51'!
ERROR!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:05:51'!
ERROR!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:05:51'!
ERROR!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/23/2021 18:05:51'!
ERROR!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/23/2021 18:05:51'!
ERROR!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:05:53'!
ERROR!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:06:04'!
ERROR!
!StoreFacade methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:06:19' prior: 50885007!
listPurchasesFor: aClientId withPassword: aPassword 
	
	clientAuthenticator login: aClientId with: aPassword.
	^(ListPurchases for: aClientId with: salesBook) compute! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/23/2021 18:06:24'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/23/2021 18:06:26'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/23/2021 18:06:26'!
PASSED!
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:07:08' prior: 50885030!
compute
	| dic accumulatedItems total |
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:07:12' prior: 50885292!
compute
	| dic2 accumulatedItems total |
	dic2 := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic2 at: 'total' put: total.
	dic2 at: 'items' put: accumulatedItems.
	^dic2.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:07:18' prior: 50885306!
compute
	| dic2 accumulatedItems2 total |
	dic2 := Dictionary new.
	accumulatedItems2 := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems2.
		]
	].
	dic2 at: 'total' put: total.
	dic2 at: 'items' put: accumulatedItems2.
	^dic2.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:07:31' prior: 50885320!
compute
	| dic2 accumulatedItems2 total2 |
	dic2 := Dictionary new.
	accumulatedItems2 := Bag new.
	total2 := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total2 := aSale addTotalTo: total2.
			aSale addAllItemsTo: accumulatedItems2.
		]
	].
	dic2 at: 'total' put: total2.
	dic2 at: 'items' put: accumulatedItems2.
	^dic2.! !

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:07:56'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook client dic'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:07:57'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook client dic accumulatedItems'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:07:59'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook client dic accumulatedItems total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:07:55' prior: 50885334!
compute
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:08:22' prior: 50885372!
compute
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		(aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:08:32'!
accumulateSale: aSale

	^ (aSale isForClient: client) ifTrue: [
			total := aSale addTotalTo: total.
			aSale addAllItemsTo: accumulatedItems.
		]! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:08:32' prior: 50885385!
compute
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:08:40' prior: 50885406!
compute
	dic := Dictionary new.
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].

	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:09:03' prior: 50885416!
compute
	
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].

	dic := Dictionary new.
	dic at: 'total' put: total.
	dic at: 'items' put: accumulatedItems.
	^dic.! !

!classDefinition: #ListPurchases category: 'TusLibros' stamp: 'UC 6/23/2021 18:09:28'!
Object subclass: #ListPurchases
	instanceVariableNames: 'salesBook client purchases accumulatedItems total'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:09:28' prior: 50885426!
compute
	
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].

	purchases := Dictionary new.
	purchases at: 'total' put: total.
	purchases at: 'items' put: accumulatedItems.
	^purchases.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:09:45'!
createPurchasesDictionary

	purchases := Dictionary new.
	purchases at: 'total' put: total.
	purchases at: 'items' put: accumulatedItems! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:09:45' prior: 50885445!
compute
	
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].

	self createPurchasesDictionary.
	^purchases.! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:10:07' prior: 50885464!
compute
	
	accumulatedItems := Bag new.
	total := 0.
	
	salesBook do: [:aSale |
		self accumulateSale: aSale
	].

	^self createPurchasesDictionary.
	! !
!ListPurchases methodsFor: 'as yet unclassified' stamp: 'UC 6/23/2021 18:10:14' prior: 50885456!
createPurchasesDictionary

	purchases := Dictionary new.
	purchases at: 'total' put: total.
	purchases at: 'items' put: accumulatedItems.
	^purchases! !

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/23/2021 18:10:24'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithFailingMerchantProcessorLeavesUntouchedSalesbookAndFullCart stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test01CreateCartWithInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test02ListCreatedCartReturnsEmptyCart stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test03AddedItemToOneCartIsListedById stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test04AddedItemsToMultipleCartsAreListedById stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test05ListCartForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test06AddItemForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test07CheckoutForAbsentCartIdRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test08ListPurchasesForInvalidClientIdOrPasswordRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test09ListPurchasesOfClientWithoutPurchasesReturnsValidTotal stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test10ListPurchasesOfClientWithOnePurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test11ListPurchasesOfClientWithManyPurchaseReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test12ListPurchasesOfClientInSalesbookWithManyClientsReturnsTotalAndItems stamp: 'UC 6/23/2021 18:10:26'!
PASSED!

!testRun: #StoreFacadeTest #test13CheckoutOfExpiredCartRaisesError stamp: 'UC 6/23/2021 18:10:26'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!