

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (29 May 2021 15:27:07) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


----End fileIn of /home/caro/Downloads/Portfolio2-Ejercicio.st----!

!methodRemoval: PortfolioTest #test14aPortfolioWithoutTransfersHasZeroValueAsTransferNet stamp: 'CD 5/29/2021 15:30:29'!
test14aPortfolioWithoutTransfersHasZeroValueAsTransferNet

	| aPortfolio |
	aPortfolio := Portfolio new.
	
	self assert: aPortfolio netTransferReport equals: 0.
	!

!methodRemoval: PortfolioTest #test15aPortfolioWithAnExtractedAccountHasNegativeNetTransferValue stamp: 'CD 5/29/2021 15:30:33'!
test15aPortfolioWithAnExtractedAccountHasNegativeNetTransferValue

	| aPortfolio anAccount anotherAccount |
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio := Portfolio with: anAccount.
	
	Transfer from: anAccount to: anotherAccount withValue: 50.
	
	self assert: aPortfolio netTransferReport equals: -50.!

!methodRemoval: Account #netTransferReport stamp: 'CD 5/29/2021 15:30:40'!
netTransferReport

	^ self subclassResponsibility.!

!methodRemoval: Portfolio #netTransferReport stamp: 'CD 5/29/2021 15:30:55'!
netTransferReport

	^ 0.!

!methodRemoval: ReceptiveAccount #transferNetReport stamp: 'CD 5/29/2021 15:30:58'!
transferNetReport

	^ 0.!

!classRemoval: #Transfer stamp: 'CD 5/29/2021 15:31:33'!
Object subclass: #Transfer
	instanceVariableNames: 'accountTo accountFrom value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferTest category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 15:31:46'!
TestCase subclass: #TransferTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferTest methodsFor: 'nil' stamp: 'CD 5/29/2021 15:36:40'!
test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 15:39:13'!
Object subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferTest methodsFor: 'as yet unclassified' stamp: 'CD 5/29/2021 15:39:01' prior: 50860072!
test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount

	| sourceAccount destinationAccount |
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	self assert: -100 equals: sourceAccount balance.
	self assert: 100 equals: destinationAccount balance.! !
!Transfer class methodsFor: 'nil' stamp: 'CD 5/29/2021 15:50:21'!
from: anAccount to: anotherAccount withValue: value! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'CD 5/29/2021 15:51:56' prior: 50860100!
from: anAccount to: anotherAccount withValue: value! !

Object subclass: #Transfer
	instanceVariableNames: 'amount withDrawEnd depositEnd'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 15:52:39'!
Object subclass: #Transfer
	instanceVariableNames: 'amount withDrawEnd depositEnd'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'CD 5/29/2021 15:54:21' prior: 50860105!
from: sourceAccount to: destinationAccount withValue: value

	| transfer |
	transfer := self for: value .
	
	sourceAccount register: transfer withdrawEnd.
	destinationAccount register: transfer depositEnd.
! !
!Transfer class methodsFor: 'as yet unclassified' stamp: 'CD 5/29/2021 16:04:08' prior: 50860123!
from: sourceAccount to: destinationAccount withValue: value

	| transfer |
	transfer := self with: value.
	
	sourceAccount register: transfer withdrawEnd.
	destinationAccount register: transfer depositEnd.
! !
!Transfer class methodsFor: 'nil' stamp: 'CD 5/29/2021 16:17:42'!
with: amount

	^ self new initializeWith: amount.! !

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:21:27'!
Object subclass: #Transfer
	instanceVariableNames: 'amount withDrawEnd depositEnd withdrawEnd'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #WithdrawTransfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:21:57'!
AccountTransaction subclass: #WithdrawTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #DepositTransfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:22:27'!
AccountTransaction subclass: #DepositTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Transfer methodsFor: 'initializers' stamp: 'CD 5/29/2021 16:21:33'!
with: anAmount

	amount := anAmount.
	withdrawEnd := WithdrawTransfer with: self.
	depositEnd := DepositTransfer with: self! !

Object subclass: #Transfer
	instanceVariableNames: 'amount depositEnd withdrawEnd'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Transfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:22:42'!
Object subclass: #Transfer
	instanceVariableNames: 'amount depositEnd withdrawEnd'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #TransferEnd
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #TransferEnd
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferEnd category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:24:59'!
AccountTransaction subclass: #TransferEnd
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TransferEnd subclass: #DepositTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #DepositTransfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:25:19'!
TransferEnd subclass: #DepositTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TransferEnd subclass: #WithdrawTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #WithdrawTransfer category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:25:29'!
TransferEnd subclass: #WithdrawTransfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferEnd class methodsFor: 'nil' stamp: 'CD 5/29/2021 16:30:13'!
with: transfer

	^ self new with: transfer.! !
!TransferEnd methodsFor: 'nil' stamp: 'CD 5/29/2021 16:30:43'!
with: aTransfer

	transfer := aTransfer.! !
!DepositTransfer methodsFor: 'nil' stamp: 'CD 5/29/2021 16:32:24' overrides: 50859885!
updateBalance: amount! !
!DepositTransfer methodsFor: 'as yet unclassified' stamp: 'CD 5/29/2021 16:33:09' prior: 50860242 overrides: 50859885!
updateBalance: aBalance

	^ aBalance + transfer amount.! !
!WithdrawTransfer methodsFor: 'nil' stamp: 'CD 5/29/2021 16:33:27' overrides: 50859885!
updateBalance: aBalance

	^ aBalance - transfer amount.! !

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:33:38'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:33:46'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'CD 5/29/2021 16:33:56'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 5/29/2021 16:34:00'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:34:00'!
ERROR!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:34:00'!
ERROR!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 5/29/2021 16:34:17'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:34:59'!
ERROR!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:34:59'!
ERROR!
!Transfer methodsFor: 'nil' stamp: 'CD 5/29/2021 16:37:07'!
depositEnd

	^ depositEnd.! !
!Transfer methodsFor: 'transfer-legs' stamp: 'CD 5/29/2021 16:37:14' prior: 50860438!
depositEnd

	^ depositEnd.! !

!methodRemoval: Transfer #depositEnd stamp: 'CD 5/29/2021 16:37:39'!
depositEnd

	^ depositEnd.!
!Transfer methodsFor: 'transfer-legs' stamp: 'CD 5/29/2021 16:37:51'!
depositEnd

	^ depositEnd.! !
!Transfer methodsFor: 'transfer-legs' stamp: 'CD 5/29/2021 16:38:06'!
withdrawEnd

	^ withdrawEnd.! !
!Transfer methodsFor: 'amount' stamp: 'CD 5/29/2021 16:38:35'!
amount

	^ amount.! !

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:38:37'!
ERROR!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:38:37'!
ERROR!
!Transfer class methodsFor: 'initializers' stamp: 'CD 5/29/2021 16:38:54' prior: 50860142!
with: amount

	^ self new with: amount.! !

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 5/29/2021 16:38:59'!
PASSED!

----QUIT----(29 May 2021 16:44:41) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (31 May 2021 20:11:28) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


TestCase subclass: #TransferNetTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNetTest category: 'Portfolio-Ejercicio' stamp: 'CD 5/31/2021 20:26:20'!
TestCase subclass: #TransferNetTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 5/31/2021 20:31:39'!
Object subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferNetTest methodsFor: 'nil' stamp: 'CD 5/31/2021 20:31:35'!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	
	transferNet := TransferNet over: account.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNet.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 5/31/2021 20:59:31' prior: 50860503!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNetValue transferNet |
	
	account := ReceptiveAccount new.
	
	transferNetValue := TransferNet valueOver: account.
	
	self assert: 0 equals: transferNet.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 5/31/2021 20:59:55' prior: 50860515!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNetValue |
	
	account := ReceptiveAccount new.
	
	transferNetValue := TransferNet valueOver: account.
	
	self assert: 0 equals: transferNetValue .! !

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 5/31/2021 21:01:26'!
Object subclass: #TransferNet
	instanceVariableNames: 'transferNet'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferNet methodsFor: 'nil' stamp: 'CD 5/31/2021 21:01:25'!
valueOver: account

	transferNet := 0.
	account getTransferNetValueWith self.
	
	^ transferNet.! !
!Account methodsFor: 'transactions' stamp: 'CD 5/31/2021 21:03:38'!
getTransferNetValueWith: aTransferNet

	^ self subclassResponsibility.! !
!Portfolio methodsFor: 'transactions' stamp: 'CD 6/1/2021 08:32:49' overrides: 50860549!
getTransferNetValueWith: aTransferNet

	! !
!Portfolio methodsFor: 'transactions' stamp: 'CD 6/1/2021 08:36:21' prior: 50860555 overrides: 50860549!
getTransferNetValueWith: aTransferNet

	accounts do: [ :anAccount | anAccount getTransferNetValueWith: aTransferNet ].

	! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'CD 6/1/2021 08:38:49' overrides: 50860549!
getTransferNetValueWith: aTransferNet

	transactions do: [ :aTransaction | aTransaction visitedBy: aTransferNet ].! !
!AccountTransaction methodsFor: 'auxiliars' stamp: 'CD 6/1/2021 08:39:37'!
visitedBy: aTransferNet

	^ self subclassResponsibility.! !
!Deposit methodsFor: 'auxiliars' stamp: 'CD 6/1/2021 08:41:18' overrides: 50860574!
visitedBy: aTransferNet

	^ aTransferNet visitDeposit: self.! !
!Withdraw methodsFor: 'auxiliars' stamp: 'CD 6/1/2021 08:42:04' overrides: 50860574!
visitedBy: aTransferNet

	^ aTransferNet visitWithdraw: self.! !
!TransferEnd methodsFor: 'balance' stamp: 'CD 6/1/2021 08:43:49' overrides: 50859885!
updateBalance: aBalance

	^ self subclassResponsibility.! !
!TransferEnd methodsFor: 'auxiliars' stamp: 'CD 6/1/2021 08:44:41' overrides: 50860574!
visitedBy: aTransferNet

	^ self subclassResponsibility.! !
!DepositTransfer methodsFor: 'nil' stamp: 'CD 6/1/2021 08:44:59' overrides: 50860594!
visitedBy: aTransferNet

	^ aTransferNet visitDepositTransfer: self.! !
!WithdrawTransfer methodsFor: 'auxiliars' stamp: 'CD 6/1/2021 08:45:23' overrides: 50860594!
visitedBy: aTransferNet

	^ aTransferNet visitWithdrawTransfer: self.! !
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:46:50'!
visitDeposit: aDeposit

	! !
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:47:01'!
visitWithdraw: aWithdraw
! !
!TransferNet class methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:48:02'!
visitDeposit: aDeposit

	! !

!methodRemoval: TransferNet #visitDeposit: stamp: 'CD 6/1/2021 08:48:02'!
visitDeposit: aDeposit

	!
!TransferNet class methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:48:10'!
visitWithdraw: aWithdraw
! !

!methodRemoval: TransferNet #visitWithdraw: stamp: 'CD 6/1/2021 08:48:10'!
visitWithdraw: aWithdraw
!
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:49:09'!
visitDeposit: aDeposit

	! !

!methodRemoval: TransferNet class #visitDeposit: stamp: 'CD 6/1/2021 08:49:09'!
visitDeposit: aDeposit

	!
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 08:49:16'!
visitWithdraw: aWithdraw
! !

!methodRemoval: TransferNet class #visitWithdraw: stamp: 'CD 6/1/2021 08:49:16'!
visitWithdraw: aWithdraw
!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 08:50:43' prior: 50860526!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	
	transferNetValue := TransferNet valueOver: account.
	
	self assert: 0 equals: transferNetValue .! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 08:51:13' prior: 50860647!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	transferNet := TransferNet over: account.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNetValue .! !
!TransferNet class methodsFor: 'initializers' stamp: 'CD 6/1/2021 08:52:32'!
over: anAccount

	^ self new over: anAccount.
! !
!TransferNet methodsFor: 'initializers' stamp: 'CD 6/1/2021 08:53:16'!
over: anAccount

	! !
!TransferNet methodsFor: 'value' stamp: 'CD 6/1/2021 08:53:46' overrides: 16881508!
value

	| account |
	transferNet := 0.
	account getTransferNetValueWith self.
	
	^ transferNet.! !

Object subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #TransferNet
	instanceVariableNames: 'transferNet'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 08:54:31'!
Object subclass: #TransferNet
	instanceVariableNames: 'transferNet'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #TransferNet
	instanceVariableNames: 'accountOperatedOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 08:55:10'!
Object subclass: #TransferNet
	instanceVariableNames: 'accountOperatedOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #TransferNet
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #TransferNet
	instanceVariableNames: 'accountOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 08:55:23'!
Object subclass: #TransferNet
	instanceVariableNames: 'accountOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 08:56:14'!
Object subclass: #TransferNet
	instanceVariableNames: 'accountOver transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferNet methodsFor: 'value' stamp: 'CD 6/1/2021 08:56:11' prior: 50860677 overrides: 16881508!
value

	transferNetValue := 0.
	accountOver getTransferNetValueWith self.
	
	^ transferNetValue.! !

!methodRemoval: TransferNet #valueOver: stamp: 'CD 6/1/2021 08:56:20'!
valueOver: account

	transferNet := 0.
	account getTransferNetValueWith self.
	
	^ transferNet.!

Object subclass: #TransferNet
	instanceVariableNames: 'account transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 08:56:37'!
Object subclass: #TransferNet
	instanceVariableNames: 'account transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!TransferNet methodsFor: 'value' stamp: 'CD 6/1/2021 09:06:20' prior: 50860743 overrides: 16881508!
value

	transferNetValue := 0.
	account getTransferNetValueWith self.
	
	^ transferNetValue.! !
!TransferNet methodsFor: 'initializers' stamp: 'CD 6/1/2021 09:07:00' prior: 50860673!
over: anAccount

	account := anAccount.

	! !
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 09:09:12'!
visitDepositTransfer: aDepositTransfer

	transferNetValue := transferNetValue + aDepositTransfer value.! !
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 09:09:38'!
visitWithdrawTransfer: aWithdrawTransfer

	transferNetValue := transferNetValue + aWithdrawTransfer value.! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:10:21'!
ERROR!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:10:21'!
ERROR!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:10:37'!
ERROR!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:10:37'!
ERROR!
!TransferNet methodsFor: 'value' stamp: 'CD 6/1/2021 09:11:59' prior: 50860768 overrides: 16881508!
value

	transferNetValue := 0.
	account getTransferNetValueWith: self.
	
	^ transferNetValue.! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:12:02'!
PASSED!
!TransferNetTest methodsFor: 'nil' stamp: 'CD 6/1/2021 09:12:58'!
test02aDepositDoesNotAlterTransferNetBalance! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:13:17'!
test02aDepositDoesNotAlterTransferNet! !

!methodRemoval: TransferNetTest #test02aDepositDoesNotAlterTransferNetBalance stamp: 'CD 6/1/2021 09:13:42'!
test02aDepositDoesNotAlterTransferNetBalance!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:13:59' prior: 50860658!
test01aTransferNetOverAccountWithoutTransactionsIsZero

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	transferNet := TransferNet over: account.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNetValue.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:14:36' prior: 50860820!
test02aDepositDoesNotAlterTransferNet

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	Deposit register: 50 on: account.
	transferNet := TransferNet over: account.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNetValue.! !

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:14:39'!
PASSED!
!TransferNetTest methodsFor: 'nil' stamp: 'CD 6/1/2021 09:15:15'!
test03aWithdrawDoesNotAlterTransferNet

	| account transferNet transferNetValue |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	transferNet := TransferNet over: account.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNetValue.! !

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:15:18'!
PASSED!
!TransferNetTest methodsFor: 'nil' stamp: 'CD 6/1/2021 09:20:17'!
test03aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue ! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:20:36'!
test04aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test03aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:20:36'!
test03aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue !

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:20:39'!
ERROR!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:20:39'!
ERROR!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:20:47'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:20:57'!
ERROR!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:20:57'!
ERROR!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/1/2021 09:21:34'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/1/2021 09:21:38'!
PASSED!
!AccountTransaction methodsFor: 'value' stamp: 'CD 6/1/2021 09:22:13' prior: 50859881 overrides: 16881508!
value 

	^ self subclassResponsibility.! !
!TransferEnd methodsFor: 'value' stamp: 'CD 6/1/2021 09:22:48' overrides: 50860953!
value

	^ self subclassResponsibility.! !
!DepositTransfer methodsFor: 'value' stamp: 'CD 6/1/2021 09:23:07' overrides: 50860957!
value

	! !
!DepositTransfer methodsFor: 'value' stamp: 'CD 6/1/2021 09:23:42' prior: 50860962 overrides: 50860957!
value

	^ transfer depositEnd

	! !
!WithdrawTransfer methodsFor: 'value' stamp: 'CD 6/1/2021 09:24:04' overrides: 50860957!
value

	^ transfer withdrawEnd.! !
!DepositTransfer methodsFor: 'value' stamp: 'CD 6/1/2021 09:24:16' prior: 50860966 overrides: 50860957!
value

	^ transfer depositEnd.

	! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:24:20'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:24:20'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:24:20'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:24:20'!
ERROR!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:24:20'!
ERROR!
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 09:24:36' prior: 50860778!
visitDepositTransfer: aDepositTransfer

	transferNetValue := transferNetValue + (aDepositTransfer value).! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:24:42'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:24:42'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:24:42'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:24:42'!
ERROR!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:24:42'!
ERROR!

!methodRemoval: DepositTransfer #value stamp: 'CD 6/1/2021 09:27:19'!
value

	^ transfer depositEnd.

	!

!methodRemoval: WithdrawTransfer #value stamp: 'CD 6/1/2021 09:27:24'!
value

	^ transfer withdrawEnd.!
!TransferEnd methodsFor: 'value' stamp: 'CD 6/1/2021 09:27:34' prior: 50860957 overrides: 50860953!
value

	^ transfer amount.! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:27:40'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:27:40'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:27:40'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:27:40'!
PASSED!
!TransferNetTest methodsFor: 'nil' stamp: 'CD 6/1/2021 09:47:43'!
test04aDepositTransferDecrementsTransferNetOnSourceAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: sourceAccount.
	transferNetValue := transferNet value.
	
	self assert: -100 equals: transferNetValue ! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:47:54'!
test05aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:47:54'!
test04aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:48:00'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:48:00'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:48:00'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:48:00'!
FAILURE!

!testRun: #TransferNetTest #test05aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:48:00'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:48:00'!
FAILURE!

!testRun: #TransferNetTest #test04aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:48:08'!
FAILURE!

!testRun: #TransferNetTest #test04aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:48:08'!
FAILURE!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:48:26'!
test05aDepositTransferDecrementsTransferNetOnSourceAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: sourceAccount.
	transferNetValue := transferNet value.
	
	self assert: -100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test04aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:48:26'!
test04aDepositTransferDecrementsTransferNetOnSourceAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: sourceAccount.
	transferNetValue := transferNet value.
	
	self assert: -100 equals: transferNetValue !

!testRun: #TransferNetTest #test05aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:48:28'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:48:38'!
test04aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test05aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:48:38'!
test05aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:52:46'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:52:46'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:52:46'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:52:46'!
PASSED!

!testRun: #TransferNetTest #test05aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:52:46'!
FAILURE!

!testRun: #TransferNetTest #test05aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:52:46'!
FAILURE!
!TransferNet methodsFor: 'visitTransaction' stamp: 'CD 6/1/2021 09:53:09' prior: 50860784!
visitWithdrawTransfer: aWithdrawTransfer

	transferNetValue := transferNetValue - aWithdrawTransfer value.! !

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/1/2021 09:53:12'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:53:12'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/1/2021 09:53:13'!
PASSED!

!testRun: #TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:53:13'!
PASSED!

!testRun: #TransferNetTest #test05aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:53:13'!
PASSED!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:56:53'!
test04aTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test04aDepositTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/1/2021 09:56:53'!
test04aDepositTransferIncrementsTransferNetOnDestinationAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: destinationAccount .
	transferNetValue := transferNet value.
	
	self assert: 100 equals: transferNetValue !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 09:57:10'!
test05aTransferDecrementsTransferNetOnSourceAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: sourceAccount.
	transferNetValue := transferNet value.
	
	self assert: -100 equals: transferNetValue ! !

!methodRemoval: TransferNetTest #test05aDepositTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/1/2021 09:57:10'!
test05aDepositTransferDecrementsTransferNetOnSourceAccount

	| sourceAccount destinationAccount transferNet transferNetValue  |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	
	transferNet := TransferNet over: sourceAccount.
	transferNetValue := transferNet value.
	
	self assert: -100 equals: transferNetValue !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 10:01:42'!
test06TransferNetIsResultOfAllTransactions

	| sourceAccount destinationAccount transferNet transferNetValue |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	Transfer from: sourceAccount to: destinationAccount withValue: 30.
	
	transferNet := TransferNet on: sourceAccount .
	transferNetValue := transferNet value.
	
	self assert: -80 equals: transferNetValue.! !

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/1/2021 10:01:57'!
ERROR!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/1/2021 10:01:57'!
ERROR!
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 10:02:11' prior: 50861316!
test06TransferNetIsResultOfAllTransactions

	| sourceAccount destinationAccount transferNet transferNetValue |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	Transfer from: sourceAccount to: destinationAccount withValue: 30.
	
	transferNet := TransferNet over: sourceAccount .
	transferNetValue := transferNet value.
	
	self assert: -80 equals: transferNetValue.! !
!TransferNetTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 10:02:25' prior: 50861341!
test06TransferNetIsResultOfAllTransactions

	| sourceAccount destinationAccount transferNet transferNetValue |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	Transfer from: sourceAccount to: destinationAccount withValue: 30.
	
	transferNet := TransferNet over: sourceAccount .
	transferNetValue := transferNet value.
	
	self assert: -130 equals: transferNetValue.! !
!TransferNetTest methodsFor: 'nil' stamp: 'CD 6/1/2021 10:15:02'!
test07TransferNetIsCalculatedOnPortfolio

	| portfolio sourceAccount destinationAccount transferNet transferNetValue |
	
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 100.
	Transfer from: sourceAccount to: destinationAccount withValue: 30.
	portfolio := Portfolio with: sourceAccount 	with: destinationAccount.
	
	transferNet := TransferNet over: portfolio.
	transferNetValue := transferNet value.
	
	self assert: 0 equals: transferNetValue.! !

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/1/2021 10:15:05'!
PASSED!

----QUIT----(1 June 2021 10:17:05) CuisUniversity-4532.image priorSource: 16922462!

----STARTUP---- (1 June 2021 16:18:00) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


TestCase subclass: #AccountSummaryTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummaryTest category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 16:18:39'!
TestCase subclass: #AccountSummaryTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummaryTest methodsFor: 'nil' stamp: 'CD 6/1/2021 16:41:06'!
test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance! !

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 16:44:53'!
Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummaryTest methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 16:44:49' prior: 50861417!
test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance

	| account accountSummary lines |
	account := ReceptiveAccount new.
	accountSummary := AccountSummary over: account.
	
	lines := accountSummary lines.
	
	self assert: 1 equals: lines size.
	self assert: 'Balance = 0' equals: lines first! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/1/2021 16:52:25'!
ERROR!

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/1/2021 16:52:25'!
ERROR!

!classDefinition: 'AccountSummary class' category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 17:03:31'!
AccountSummary class
	instanceVariableNames: 'account'!
!AccountSummary class methodsFor: 'nil' stamp: 'CD 6/1/2021 17:03:30'!
over: anAccount

	account := anAccount.! !
!AccountSummary class methodsFor: 'as yet unclassified' stamp: 'CD 6/1/2021 17:03:50' prior: 50861456!
over: anAccount

	^ self new over: anAccount.! !

AccountSummary class
	instanceVariableNames: ''!

!classDefinition: 'AccountSummary class' category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 17:04:00'!
AccountSummary class
	instanceVariableNames: ''!

Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio' stamp: 'CD 6/1/2021 17:04:05'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummary methodsFor: 'initializers' stamp: 'CD 6/1/2021 17:10:20'!
over: anAccount

	account := anAccount.! !
!AccountSummary methodsFor: 'summary' stamp: 'CD 6/2/2021 01:22:36'!
lines

	! !
!AccountSummary methodsFor: 'summary' stamp: 'CD 6/2/2021 01:23:24' prior: 50861488!
lines

	^ #('Balance = 0').

	! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:23:27'!
PASSED!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:24:58'!
test02anAccountSummaryShowsDeposit! !
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:26:35' prior: 50861500!
test02anAccountSummaryShowsDeposit

	| account accountSummary lines |
	account := ReceptiveAccount new.
	Deposit register: 10 on: account.
	accountSummary := AccountSummary over: account.
	
	lines := accountSummary lines.
	
	self assert: 2 equals: lines size.
	self assert: 'Depósito por 10' equals: lines first.
	self assert: 'Balance = 10' equals: lines second! !

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:26:39'!
FAILURE!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:26:39'!
FAILURE!

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 01:29:12'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account lines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountSummary methodsFor: 'summary' stamp: 'CD 6/2/2021 01:29:09' prior: 50861492!
lines

	lines := OrderedCollection new.	
	account getAccountSummaryWith: self.
	lines add: ('Balance = ', account balance printString).
	
	^lines

	! !
!Account methodsFor: 'account-summary' stamp: 'CD 6/2/2021 01:32:12'!
getAccountSummaryWith: anAccountSummary

	^ self subclassResponsibility.! !
!ReceptiveAccount methodsFor: 'account-summary' stamp: 'CD 6/2/2021 01:35:12' overrides: 50861540!
getAccountSummaryWith: anAccountSummary

	! !
!Portfolio methodsFor: 'transactions' stamp: 'CD 6/2/2021 01:38:27' prior: 50860560 overrides: 50860549!
getTransferNetValueWith: aTransferNet

	accounts do: [ :anAccount | anAccount getTransferNetValueWith: aTransferNet ].

	! !
!ReceptiveAccount methodsFor: 'account-summary' stamp: 'CD 6/2/2021 01:39:12' prior: 50861546 overrides: 50861540!
getAccountSummaryWith: anAccountSummary

	transactions do: [ :aTransaction | aTransaction visitedBy: anAccountSummary].

	! !
!Portfolio methodsFor: 'account-summary' stamp: 'CD 6/2/2021 01:40:32' overrides: 50861540!
getAccountSummaryWith: anAccountSummary

	accounts do: [ :anAccount | anAccount getTransferNetValueWith: anAccountSummary].! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:43:42'!
visitDeposit: aDeposit

	lines add: ('Depósito por ', aDeposit value printString).! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:43:56'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:43:56'!
PASSED!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:45:07'!
test03anAccountSummaryShowsWithDraw

	| account accountSummary lines |
	account := ReceptiveAccount new.
	Withdraw register: 10 on: account.
	accountSummary := AccountSummary over: account.
	
	lines := accountSummary lines.
	
	self assert: 2 equals: lines size.
	self assert: 'Extracción por 10' equals: lines first.
	self assert: 'Balance = -10' equals: lines second! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:45:34'!
visitWithdraw: aWithdraw! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:45:56' prior: 50861601!
visitWithdraw: aWithdraw

	lines add: ('Extracción por ', aWithdraw value printString).! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:46:01'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:46:01'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 01:46:01'!
PASSED!
!AccountSummaryTest methodsFor: 'nil' stamp: 'CD 6/2/2021 01:46:54'!
test05anAccountSummaryShowsDepositTransfer! !
!AccountSummaryTest methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 01:47:03'!
test04anAccountSummaryShowsDepositTransfer! !

!methodRemoval: AccountSummaryTest #test05anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 01:47:10'!
test05anAccountSummaryShowsDepositTransfer!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:49:27' prior: 50861626!
test04anAccountSummaryShowsDepositTransfer

	| sourceAccount destinationAccount accountSummary lines |
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 10. 
	accountSummary := AccountSummary over: destinationAccount.
	
	lines := accountSummary lines.
	
	self assert: 2 equals: lines size.
	self assert: 'Entrada por transferencia de 10' equals: lines first.
	self assert: 'Balance = 10' equals: lines second.! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:50:26'!
visitDepositTransfer: aDepositTransfer
! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:51:07' prior: 50861654!
visitDepositTransfer: aDepositTransfer

	lines add: ('Entrada por transferencia de', aDepositTransfer value printString).
! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:51:14'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:51:14'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 01:51:14'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 01:51:14'!
FAILURE!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 01:51:14'!
FAILURE!
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:51:24' prior: 50861659!
visitDepositTransfer: aDepositTransfer

	lines add: ('Entrada por transferencia de ', aDepositTransfer value printString).
! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:51:28'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:51:28'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 01:51:28'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 01:51:28'!
PASSED!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:52:05'!
test05anAccountSummaryShowsWithdrawTransfer

	| sourceAccount destinationAccount accountSummary lines |
	sourceAccount := ReceptiveAccount new.
	destinationAccount := ReceptiveAccount new.
	Transfer from: sourceAccount to: destinationAccount withValue: 10. 
	accountSummary := AccountSummary over: sourceAccount.
	
	lines := accountSummary lines.
	
	self assert: 2 equals: lines size.
	self assert: 'Salida por transferencia de 10' equals: lines first.
	self assert: 'Balance = -10' equals: lines second.! !
!AccountSummary methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 01:52:54'!
visitWithdrawTransfer: aWithdrawTransfer

	lines add: ('Salida por transferencia de ', aWithdrawTransfer value printString).! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 01:53:02'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 01:53:02'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 01:53:02'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 01:53:02'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 01:53:02'!
PASSED!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:57:24'!
test06AccountSummaryIsResultOfAllTransactions

	| account anotherAccount accountSummary lines |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Transfer from: anotherAccount to: account withValue: 30.
	Deposit register: 10  on: account.
	 ! !
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 01:59:00' prior: 50861750!
test06AccountSummaryIsResultOfAllTransactions

	| account anotherAccount accountSummary lines |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Transfer from: anotherAccount to: account withValue: 30.
	Deposit register: 10  on: account.
	accountSummary := AccountSummary over: account.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Entrada por transferencia de 30' equals: lines second.
	self assert: 'Depósito por 10' equals: lines third.
	self assert: 'Balance = -60' equals: lines fourth.
	 ! !

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 01:59:03'!
PASSED!
!AccountSummaryTest methodsFor: 'nil' stamp: 'CD 6/2/2021 02:03:40'!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	! !
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:04:33' prior: 50861792!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Entrada por transferencia de 100' equals: lines second.
	self assert: 'Depósito por 50' equals: lines third.
	self assert: 'Balance = -50' equals: lines fourth.
	! !

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:04:37'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:04:37'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:05:15'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:05:15'!
FAILURE!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:05:47' prior: 50861808!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Entrada por transferencia de 100' equals: lines second.
	self assert: 'Depósito por 50' equals: lines third.
	self assert: 'Balance = -50' equals: lines fourth.
	! !
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:05:55' prior: 50861848!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Depósito por 50' equals: lines third.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Entrada por transferencia de 100' equals: lines second.
	self assert: 'Balance = -50' equals: lines fourth.
	! !

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:05:57'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:05:57'!
FAILURE!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:06:09' prior: 50861873!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Depósito por 50' equals: lines first.
	self assert: 'Salida por transferencia de 100' equals: lines second.
	self assert: 'Entrada por transferencia de 100' equals: lines third.
	self assert: 'Balance = -50' equals: lines fourth.
	! !

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:06:11'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:06:11'!
FAILURE!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:06:22' prior: 50861906!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines second.
	self assert: 'Depósito por 50' equals: lines first.
	self assert: 'Entrada por transferencia de 100' equals: lines third.
	self assert: 'Balance = -50' equals: lines fourth.
	! !
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:06:30' prior: 50861939!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Depósito por 50' equals: lines second.
	self assert: 'Entrada por transferencia de 100' equals: lines third.
	self assert: 'Balance = -50' equals: lines fourth.
	! !

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:06:32'!
FAILURE!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:06:32'!
FAILURE!
!AccountSummaryTest methodsFor: 'tests' stamp: 'CD 6/2/2021 02:06:39' prior: 50861964!
test07AccountSummaryIsCalculatedOnPortfolio

	| portfolio account anotherAccount accountSummary lines |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer from: account to: anotherAccount withValue: 100.
	Deposit register: 50 on: account.
	portfolio := Portfolio with: account 	with: anotherAccount.
	accountSummary := AccountSummary over: portfolio.
	
	lines := accountSummary lines.
	
	self assert: 4 equals: lines size.
	self assert: 'Salida por transferencia de 100' equals: lines first.
	self assert: 'Depósito por 50' equals: lines second.
	self assert: 'Entrada por transferencia de 100' equals: lines third.
	self assert: 'Balance = 50' equals: lines fourth.
	! !

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:06:41'!
PASSED!

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test04aTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test05aTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 02:07:11'!
PASSED!

----SNAPSHOT----(2 June 2021 02:07:22) CuisUniversity-4532.image priorSource: 16951952!

!classDefinition: #AccountVisitor category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:12:04'!
Object subclass: #AccountVisitor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:12:04'!
AccountVisitor subclass: #AccountSummary
	instanceVariableNames: 'account lines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountVisitor subclass: #TransferNet
	instanceVariableNames: 'account transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:12:40'!
AccountVisitor subclass: #TransferNet
	instanceVariableNames: 'account transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountVisitor methodsFor: 'initializers' stamp: 'CD 6/2/2021 02:13:20'!
over: anAccount

	! !

AccountVisitor subclass: #AccountSummary
	instanceVariableNames: 'lines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountSummary category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:13:27'!
AccountVisitor subclass: #AccountSummary
	instanceVariableNames: 'lines'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountVisitor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountVisitor category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:13:34'!
Object subclass: #AccountVisitor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountVisitor subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #TransferNet category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:13:39'!
AccountVisitor subclass: #TransferNet
	instanceVariableNames: 'transferNetValue'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountVisitor
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountVisitor category: 'Portfolio-Ejercicio' stamp: 'CD 6/2/2021 02:13:45'!
Object subclass: #AccountVisitor
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountVisitor methodsFor: 'initializers' stamp: 'CD 6/2/2021 02:13:59' prior: 50862188!
over: anAccount

	account := anAccount.

	! !
!AccountVisitor class methodsFor: 'initializers' stamp: 'CD 6/2/2021 02:14:43'!
over: anAccount

	^ self new over: anAccount.! !

!methodRemoval: AccountVisitor class #over: stamp: 'CD 6/2/2021 02:15:00'!
over: anAccount

	^ self new over: anAccount.!
!AccountVisitor class methodsFor: 'initializers' stamp: 'CD 6/2/2021 02:15:17'!
over: anAccount

	^ self new over: anAccount.! !

!methodRemoval: TransferNet class #over: stamp: 'CD 6/2/2021 02:15:24'!
over: anAccount

	^ self new over: anAccount.
!

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test04aTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test05aTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:15:31'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 02:15:31'!
PASSED!
!AccountVisitor methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 02:16:42'!
visitDeposit: aDeposit

	^ self subclassResponsibility.! !
!AccountVisitor methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 02:16:58'!
visitWithdraw: aWithdraw

	^ self subclassResponsibility.! !
!AccountVisitor methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 02:17:21'!
visitDepositTransfer: aDepositTransfer

	^ self subclassResponsibility.
! !
!AccountVisitor methodsFor: 'visit-transaction' stamp: 'CD 6/2/2021 02:17:38'!
visitWithdrawTransfer: aWithdrawTransfer

	^ self subclassResponsibility.! !
!AccountTransaction methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:18:59' prior: 50860574!
visitedBy: anAccountVisitor

	^ self subclassResponsibility.! !
!Deposit methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:19:21' prior: 50860579 overrides: 50862414!
visitedBy: anAccountVisitor

	^ anAccountVisitor visitDeposit: self.! !
!TransferEnd methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:19:39' prior: 50860594 overrides: 50862414!
visitedBy: anAccountVisitor

	^ self subclassResponsibility.! !
!DepositTransfer methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:19:48' prior: 50860599 overrides: 50862426!
visitedBy: anAccountVisitor

	^ anAccountVisitor visitDepositTransfer: self.! !
!WithdrawTransfer methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:19:57' prior: 50860605 overrides: 50862426!
visitedBy: anAccountVisitor

	^ anAccountVisitor visitWithdrawTransfer: self.! !
!Withdraw methodsFor: 'auxiliars' stamp: 'CD 6/2/2021 02:20:10' prior: 50860584 overrides: 50862414!
visitedBy: anAccountVisitor

	^ anAccountVisitor visitWithdraw: self.! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 6/2/2021 02:20:14'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test04aTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test05aTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 02:20:15'!
PASSED!

----SNAPSHOT----(2 June 2021 02:20:29) CuisUniversity-4532.image priorSource: 16976169!

----QUIT----(2 June 2021 02:20:34) CuisUniversity-4532.image priorSource: 16989725!

----STARTUP---- (2 June 2021 18:23:39) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!

!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 18:50:30'!
visitTransactionsWith: anAccountSummary

	^ self subclassResponsibility.! !
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 18:50:38' prior: 50862588!
visitTransactionsWith: anAccountVisitor

	^ self subclassResponsibility.! !

!methodRemoval: Account #getTransferNetValueWith: stamp: 'CD 6/2/2021 18:50:43'!
getTransferNetValueWith: aTransferNet

	^ self subclassResponsibility.!

!methodRemoval: Account #getAccountSummaryWith: stamp: 'CD 6/2/2021 18:50:46'!
getAccountSummaryWith: anAccountSummary

	^ self subclassResponsibility.!
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 18:51:46'!
getAccountSummaryWith: anAccountSummary

	^ self subclassResponsibility.! !
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 18:52:17' prior: 50862609!
getAccountSummaryWith: anAccountSummary

	^ self subclassResponsibility.! !
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 18:52:44'!
getTransferNetValueWith: aTransferNet

	^ self subclassResponsibility.

	! !

!methodRemoval: Account #visitTransactionsWith: stamp: 'CD 6/2/2021 18:53:04'!
visitTransactionsWith: anAccountVisitor

	^ self subclassResponsibility.!
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:01:25'!
visitTransactionsWith: aTransferNet

	^ self subclassResponsibility.

	! !
!Portfolio methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:01:25' overrides: 50862630!
visitTransactionsWith: aTransferNet

	accounts do: [ :anAccount | anAccount getTransferNetValueWith: aTransferNet ].

	! !
!ReceptiveAccount methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:01:25' overrides: 50862630!
visitTransactionsWith: aTransferNet

	transactions do: [ :aTransaction | aTransaction visitedBy: aTransferNet ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 19:01:25' prior: 50861551 overrides: 50862620!
getTransferNetValueWith: aTransferNet

	accounts do: [ :anAccount | anAccount visitTransactionsWith: aTransferNet ].

	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 19:01:25' prior: 50861566 overrides: 50862615!
getAccountSummaryWith: anAccountSummary

	accounts do: [ :anAccount | anAccount visitTransactionsWith: anAccountSummary].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 19:01:25' prior: 50862636 overrides: 50862630!
visitTransactionsWith: aTransferNet

	accounts do: [ :anAccount | anAccount visitTransactionsWith: aTransferNet ].

	! !

!methodRemoval: Account #getTransferNetValueWith: stamp: 'CD 6/2/2021 19:01:25'!
getTransferNetValueWith: aTransferNet

	^ self subclassResponsibility.

	!

!methodRemoval: Portfolio #getTransferNetValueWith: stamp: 'CD 6/2/2021 19:01:25'!
getTransferNetValueWith: aTransferNet

	accounts do: [ :anAccount | anAccount visitTransactionsWith: aTransferNet ].

	!

!methodRemoval: ReceptiveAccount #getTransferNetValueWith: stamp: 'CD 6/2/2021 19:01:25'!
getTransferNetValueWith: aTransferNet

	transactions do: [ :aTransaction | aTransaction visitedBy: aTransferNet ].!
!ReceptiveAccount methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:01:43' prior: 50862643 overrides: 50862630!
visitTransactionsWith: anAccountVisitor

	transactions do: [ :aTransaction | aTransaction visitedBy: anAccountVisitor].! !

!methodRemoval: ReceptiveAccount #getAccountSummaryWith: stamp: 'CD 6/2/2021 19:01:47'!
getAccountSummaryWith: anAccountSummary

	transactions do: [ :aTransaction | aTransaction visitedBy: anAccountSummary].

	!
!Portfolio methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:02:05' prior: 50862667 overrides: 50862630!
visitTransactionsWith: anAccountVisitor

	accounts do: [ :anAccount | anAccount visitTransactionsWith: anAccountVisitor].

	! !

!methodRemoval: Portfolio #getAccountSummaryWith: stamp: 'CD 6/2/2021 19:02:15'!
getAccountSummaryWith: anAccountSummary

	accounts do: [ :anAccount | anAccount visitTransactionsWith: anAccountSummary].!
!Account methodsFor: 'accept-visitor' stamp: 'CD 6/2/2021 19:02:26' prior: 50862630!
visitTransactionsWith: anAccountVisitor

	^ self subclassResponsibility.

	! !

!methodRemoval: Account #getAccountSummaryWith: stamp: 'CD 6/2/2021 19:02:35'!
getAccountSummaryWith: anAccountSummary

	^ self subclassResponsibility.!
!TransferNet methodsFor: 'value' stamp: 'CD 6/2/2021 19:03:01' prior: 50860806 overrides: 16881508!
value

	transferNetValue := 0.
	account visitTransactionsWith: self.
	
	^ transferNetValue.! !
!AccountSummary methodsFor: 'summary' stamp: 'CD 6/2/2021 19:03:09' prior: 50861533!
lines

	lines := OrderedCollection new.	
	account visitTransactionsWith: self.
	lines add: ('Balance = ', account balance printString).
	
	^lines

	! !

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test04aTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test05aTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 19:03:16'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:03:16'!
PASSED!
!Transfer class methodsFor: 'initializers' stamp: 'CD 6/2/2021 19:12:02' prior: 50860133!
from: sourceAccount to: destinationAccount withValue: value

	| transfer |
	transfer := self with: value.
	
	sourceAccount register: transfer withdrawEnd.
	destinationAccount register: transfer depositEnd.
	
	^ transfer.
! !
!TransferTest methodsFor: 'tests' stamp: 'CD 6/2/2021 19:14:31'!
test03aTransferDepositEndCanGetToWithdrawEnd

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd equals: transfer depositEnd withdrawEnd.! !

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:14:37'!
ERROR!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:14:37'!
ERROR!
!DepositTransfer methodsFor: 'withdraw-end' stamp: 'CD 6/2/2021 19:15:27'!
withDrawEnd

	^ transfer withdrawEnd.! !
!WithdrawTransfer methodsFor: 'deposit-end' stamp: 'CD 6/2/2021 19:15:52'!
depositEnd

	^ transfer depositEnd.! !

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:15:59'!
PASSED!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:15:59'!
ERROR!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:15:59'!
ERROR!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:16:20'!
ERROR!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:16:20'!
ERROR!
!DepositTransfer methodsFor: 'withdraw-end' stamp: 'CD 6/2/2021 19:16:43'!
withdrawEnd

	^ transfer withdrawEnd.! !

!methodRemoval: DepositTransfer #withDrawEnd stamp: 'CD 6/2/2021 19:16:43'!
withDrawEnd

	^ transfer withdrawEnd.!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:16:48'!
PASSED!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:16:48'!
PASSED!
!TransferTest methodsFor: 'tests' stamp: 'CD 6/2/2021 19:17:32'!
test02aTransferWithdrawEndCanGetToDepositEnd

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer depositEnd equals: transfer withdrawEnd depositEnd.! !

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:17:35'!
PASSED!

!testRun: #TransferTest #test02aTransferWithdrawEndCanGetToDepositEnd stamp: 'CD 6/2/2021 19:17:35'!
PASSED!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:17:35'!
PASSED!
!TransferTest methodsFor: 'nil' stamp: 'CD 6/2/2021 19:23:00'!
test03transferEndsMustHaveSameTransfer

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd equals: transfer depositEnd withdrawEnd.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 19:23:11' prior: 50862971!
test03transferEndsMustHaveSameTransfer

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd transfer equals: transfer depositEnd transfer.! !
!TransferEnd methodsFor: 'transfer' stamp: 'CD 6/2/2021 19:24:47'!
transfer

	^ transfer.! !
!TransferTest methodsFor: 'as yet unclassified' stamp: 'CD 6/2/2021 19:25:05'!
test04TransferEndsMustHaveSameTransfer

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd transfer equals: transfer depositEnd transfer.! !

!methodRemoval: TransferTest #test03transferEndsMustHaveSameTransfer stamp: 'CD 6/2/2021 19:25:17'!
test03transferEndsMustHaveSameTransfer

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd transfer equals: transfer depositEnd transfer.!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:25:50'!
PASSED!

!testRun: #TransferTest #test02aTransferWithdrawEndCanGetToDepositEnd stamp: 'CD 6/2/2021 19:25:50'!
PASSED!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:25:50'!
PASSED!

!testRun: #TransferTest #test04TransferEndsMustHaveSameTransfer stamp: 'CD 6/2/2021 19:25:50'!
PASSED!
!TransferTest methodsFor: 'tests' stamp: 'CD 6/2/2021 19:34:54'!
test05TransferEndsAreRegisteredInAccountsFromTransference

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: transfer withdrawEnd transfer equals: transfer depositEnd transfer.! !
!TransferTest methodsFor: 'tests' stamp: 'CD 6/2/2021 19:35:56' prior: 50863040!
test05TransferEndsAreRegisteredInAccountsFromTransference

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: (account hasRegistered: transfer withdrawEnd).
	self assert: (account hasRegistered: transfer depositEnd).! !
!TransferTest methodsFor: 'tests' stamp: 'CD 6/2/2021 19:36:59' prior: 50863053!
test05TransferEndsAreRegisteredInAccountsFromTransference

	| transfer account anotherAccount |
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.		
	transfer := Transfer from: account to: anotherAccount  withValue: 10.
	
	self assert: (account hasRegistered: transfer withdrawEnd).
	self assert: (anotherAccount hasRegistered: transfer depositEnd).! !

!testRun: #TransferTest #test05TransferEndsAreRegisteredInAccountsFromTransference stamp: 'CD 6/2/2021 19:37:03'!
PASSED!

!testRun: #AccountSummaryTest #test01anAccountSummaryOfanAccountWithNoTransactionsShowsOnlyBalance stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test02anAccountSummaryShowsDeposit stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test03anAccountSummaryShowsWithDraw stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test04anAccountSummaryShowsDepositTransfer stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test05anAccountSummaryShowsWithdrawTransfer stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test06AccountSummaryIsResultOfAllTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #AccountSummaryTest #test07AccountSummaryIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test01aPortfolioWithoutAccountsHasABalanceOfZero stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test02aPortfolioWithOneAccountBalanceEqualsAccountBalance stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test03aPortfolioBalanceIsCalculatedRecursivelyOnItsAccountsBalances stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test04aPortfolioWithoutAccountsDoesNotHaveRegisteredTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test05aPortfolioWithOneAccountHasRegisteredItsTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test06aPortfolioCalculatesRecursivelyItsRegisteredTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test07aPortfolioWithoutAccountsDoesNotHaveTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test08aPortfolioWithOneAccountHasSameTransactionsAsAccount stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test09aPortfolioTransactionsIsSumOfItsAccountsTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test10aPortfolioCannotContainTheSameAccountTwice stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test11aPortfolioCannotContainItself stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test12aPortfolioCannotAddAccountOwnedByIncludedPortfolio stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #PortfolioTest #test13aPortfolioCannotHaveAncestorPortfolioAccount stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test01aTransferNetOverAccountWithoutTransactionsIsZero stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test02aDepositDoesNotAlterTransferNet stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test03aWithdrawDoesNotAlterTransferNet stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test04aTransferIncrementsTransferNetOnDestinationAccount stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test05aTransferDecrementsTransferNetOnSourceAccount stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test06TransferNetIsResultOfAllTransactions stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferNetTest #test07TransferNetIsCalculatedOnPortfolio stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferTest #test01aTransferDepositsInTransferedToAccountAndWithdrawsFromTransferedFromAccount stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferTest #test02aTransferWithdrawEndCanGetToDepositEnd stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferTest #test03aTransferDepositEndCanGetToWithdrawEnd stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferTest #test04TransferEndsMustHaveSameTransfer stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

!testRun: #TransferTest #test05TransferEndsAreRegisteredInAccountsFromTransference stamp: 'CD 6/2/2021 19:37:15'!
PASSED!

----SNAPSHOT----(2 June 2021 19:38:13) CuisUniversity-4532.image priorSource: 16989814!

----QUIT----(2 June 2021 19:40:28) CuisUniversity-4532.image priorSource: 17010567!

----STARTUP---- (7 June 2021 20:22:17) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/7/2021 20:24:23'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'nil' stamp: 'CD 6/7/2021 20:26:03'!
test01aNewCartIsEmpty! !
!CartTest methodsFor: 'nil' stamp: 'CD 6/7/2021 20:27:48'!
test02cartIsNonEmptyAfterAddingAnItem! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'CD 6/7/2021 20:27:55'!
test02CartIsNonEmptyAfterAddingAnItem! !

!methodRemoval: CartTest #test02cartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/7/2021 20:27:57'!
test02cartIsNonEmptyAfterAddingAnItem!
!CartTest methodsFor: 'as yet unclassified' stamp: 'CD 6/7/2021 20:28:01'!
test01NewCartIsEmpty! !

!methodRemoval: CartTest #test01aNewCartIsEmpty stamp: 'CD 6/7/2021 20:28:03'!
test01aNewCartIsEmpty!
!CartTest methodsFor: 'nil' stamp: 'CD 6/7/2021 20:31:58'!
test03CannotAddItemsThatNotBelongToTheStore! !
!CartTest methodsFor: 'nil' stamp: 'CD 6/7/2021 20:32:32'!
test04CannotAddToCartANonPositiveQuantityOfItems! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'CD 6/7/2021 20:32:46'!
test03CannotAddToCartItemsThatNotBelongToTheStore! !

!methodRemoval: CartTest #test03CannotAddItemsThatNotBelongToTheStore stamp: 'CD 6/7/2021 20:32:46'!
test03CannotAddItemsThatNotBelongToTheStore!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/7/2021 20:35:30'!
TestCase subclass: #CartTest
	instanceVariableNames: 'cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'as yet unclassified' stamp: 'CD 6/7/2021 20:35:28' prior: 50863265!
test01NewCartIsEmpty

	self assert: cart isEmpty.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/7/2021 20:35:35'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/7/2021 20:35:35'!
ERROR!

!classDefinition: #Cart category: 'TusLibros' stamp: 'CD 6/7/2021 20:37:25'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/7/2021 20:37:18' overrides: 16927572!
setUp

	cart := Cart new.! !
!Cart methodsFor: 'nil' stamp: 'CD 6/7/2021 20:37:49'!
isEmpty

	^ true.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/7/2021 20:37:59'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'CD 6/7/2021 20:38:13' prior: 50863257!
test02CartIsNonEmptyAfterAddingAnItem
! !

!methodRemoval: CartTest #setUp stamp: 'CD 6/8/2021 10:19:44'!
setUp

	cart := Cart new.!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:20:09' prior: 50863295!
test01NewCartIsEmpty

	| cart1 |
	cart1 := Cart new.

	self assert: cart isEmpty.! !

TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:21:24'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:21:37' prior: 50863327!
test01NewCartIsEmpty

	| cart |
	cart := Cart new.

	self assert: cart isEmpty.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/8/2021 10:21:39'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:28:58' prior: 50863320!
test02CartIsNonEmptyAfterAddingAnItem

	| cart aBook |
	cart := Cart new.
	aBook := 'Persuasion'.
	
	cart add: 1 copiesOf: aBook.
	
	self deny: cart isEmpty.
! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'CD 6/8/2021 10:31:15'!
Object subclass: #Cart
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'nil' stamp: 'CD 6/8/2021 10:31:13'!
add: aNumber copiesOf: aBook

	items add aBook.! !

Bag new!

Bag new!
!Cart methodsFor: 'as yet unclassified' stamp: 'CD 6/8/2021 10:33:06' prior: 50863365!
add: aNumber copiesOf: aBook

	items add aBook withOcurrences: aNumber.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'CD 6/8/2021 10:33:19' prior: 50863370!
add: aNumber copiesOf: aBook

	items add: aBook withOcurrences: aNumber.! !
!Cart class methodsFor: 'initializers' stamp: 'CD 6/8/2021 10:34:25' overrides: 16883149!
initialize

	^ self new initialize.! !
!Cart methodsFor: 'initializers' stamp: 'CD 6/8/2021 10:34:51' overrides: 16896425!
initialize

	items := Bag new.! !

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 10:35:02'!
ERROR!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 10:35:02'!
ERROR!

----End fileIn of /home/caro/Downloads/linux64/Packages/TerseGuide.pck.st----!
!Cart methodsFor: 'as yet unclassified' stamp: 'CD 6/8/2021 10:36:57' prior: 50863376!
add: aNumber copiesOf: aBook

	items add: aBook withOcurrences: aNumber.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'CD 6/8/2021 10:37:40' prior: 50866322!
add: aNumber copiesOf: aBook

	items add: aBook withOccurrences: aNumber.! !

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 10:37:58'!
FAILURE!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 10:37:58'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'CD 6/8/2021 10:38:16' prior: 50863314!
isEmpty

	^ items isEmpty.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/8/2021 10:38:24'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 10:38:27'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:40:17' prior: 50863279!
test03CannotAddToCartItemsThatNotBelongToTheStore
! !

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:42:44'!
TestCase subclass: #CartTest
	instanceVariableNames: 'book'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:42:45'!
TestCase subclass: #CartTest
	instanceVariableNames: 'book invalidBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:42:47'!
TestCase subclass: #CartTest
	instanceVariableNames: 'book invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/8/2021 10:42:42' overrides: 16927572!
setUp

	book := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: book.! !
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:43:25' prior: 50863351!
test02CartIsNonEmptyAfterAddingAnItem

	| cart |
	cart := Cart new.
	
	cart add: 1 copiesOf: book.
	
	self deny: cart isEmpty.
! !

TestCase subclass: #CartTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:43:53'!
TestCase subclass: #CartTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:44:05'!
TestCase subclass: #CartTest
	instanceVariableNames: 'aBook invalidBook aCatalog book'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/8/2021 10:44:02' prior: 50866375 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: book.! !

TestCase subclass: #CartTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'CD 6/8/2021 10:44:17'!
TestCase subclass: #CartTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/8/2021 10:44:27' prior: 50866409 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.! !
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:44:37' prior: 50866382!
test02CartIsNonEmptyAfterAddingAnItem

	| cart |
	cart := Cart new.
	
	cart add: 1 copiesOf: aBook.
	
	self deny: cart isEmpty.
! !
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:45:32' prior: 50866349!
test03CannotAddToCartItemsThatNotBelongToTheStore

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	cart add: 1 copiesOf: invalidBook.
	
! !
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 10:47:09' prior: 50866442!
test03CannotAddToCartItemsThatNotBelongToTheStore

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ cart add: 1 copiesOf: invalidBook ] raise: Error withMessageText: Cart invalidBookMessage.
	self assert: cart isEmpty. 
	
! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/8/2021 18:43:06'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 18:43:10'!
PASSED!

!classDefinition: #Cart category: 'TusLibros' stamp: 'CD 6/8/2021 18:44:42'!
Object subclass: #Cart
	instanceVariableNames: 'items catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'initializers' stamp: 'CD 6/8/2021 18:44:40'!
initializeWith: aCatalog
	
	catalog := aCatalog.
	items := Bag new.! !

!methodRemoval: Cart #initialize stamp: 'CD 6/8/2021 18:44:50'!
initialize

	items := Bag new.!
!Cart class methodsFor: 'initializers' stamp: 'CD 6/8/2021 18:45:12'!
initializeWith: aCatalog

	^ self new initializeWith: aCatalog.! !

!methodRemoval: Cart class #initialize stamp: 'CD 6/8/2021 18:45:16'!
initialize

	^ self new initialize.!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 18:45:40' prior: 50863343!
test01NewCartIsEmpty

	| cart |
	cart := Cart initializeWith: aCatalog.

	self assert: cart isEmpty.! !
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 18:45:52' prior: 50866435!
test02CartIsNonEmptyAfterAddingAnItem

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	cart add: 1 copiesOf: aBook.
	
	self deny: cart isEmpty.
! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/8/2021 18:45:54'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 18:45:57'!
PASSED!
!CartTest class methodsFor: 'nil' stamp: 'CD 6/8/2021 18:47:44'!
invalidBookMessage

	^ 'Book is not in catalog'! !

!methodRemoval: CartTest class #invalidBookMessage stamp: 'CD 6/8/2021 18:47:59'!
invalidBookMessage

	^ 'Book is not in catalog'!
!Cart class methodsFor: 'nil' stamp: 'CD 6/8/2021 18:48:04'!
invalidBookMessage

	^ 'Book is not in catalog'! !

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 18:48:27'!
FAILURE!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 18:48:27'!
FAILURE!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 23:15:55'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:16:05'!
FAILURE!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:16:05'!
FAILURE!
!Cart methodsFor: 'assertions' stamp: 'CD 6/8/2021 23:21:22'!
assertIsValidBook: aBook

	(items includes: aBook) ifFalse: [self error: Cart invalidBookMessage].

	! !
!Cart methodsFor: 'add' stamp: 'CD 6/8/2021 23:21:56' prior: 50866328!
add: aNumber copiesOf: aBook
	
	self assertIsValidBook: aBook.
	items add: aBook withOccurrences: aNumber.! !

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 23:22:01'!
ERROR!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 23:22:01'!
ERROR!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:22:09'!
PASSED!
!Cart methodsFor: 'assertions' stamp: 'CD 6/8/2021 23:23:31' prior: 50866535!
assertIsValidBook: aBook

	(catalog includes: aBook) ifFalse: [self error: Cart invalidBookMessage].

	! !

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:23:36'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 23:24:56' prior: 50863275!
test04CannotAddToCartANonPositiveQuantityOfItems

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ cart add: 0 copiesOf: invalidBook ] raise: Error withMessageText: Cart invalidQuantity.
	self assert: cart isEmpty.
	self should: [ cart add: -2 copiesOf: invalidBook ] raise: Error withMessageText: Cart invalidQuantity.
	self assert: cart isEmpty.! !
!Cart methodsFor: 'add' stamp: 'CD 6/8/2021 23:26:09' prior: 50866541!
add: aNumber copiesOf: aBook
	
	self assertIsValidBook: aBook.
	self assertIsValidQuantity: aNumber.
	items add: aBook withOccurrences: aNumber.! !
!Cart methodsFor: 'assertions' stamp: 'CD 6/8/2021 23:30:04'!
assertIsValidQuantity: aNumber

	(aNumber strictlyPositive) ifFalse: [self error: Cart invalidBookMessage].
 
	! !
!Cart class methodsFor: 'error-messages' stamp: 'CD 6/8/2021 23:30:44'!
invalidQuantity

	^ 'Quantity of items must be strictly positive'.! !
!Cart class methodsFor: 'error-messages' stamp: 'CD 6/8/2021 23:30:48' prior: 50866514!
invalidBookMessage

	^ 'Book is not in catalog'.! !
!Cart methodsFor: 'assertions' stamp: 'CD 6/8/2021 23:31:01' prior: 50866588!
assertIsValidQuantity: aNumber

	(aNumber strictlyPositive) ifFalse: [self error: Cart invalidQuantity].
 
	! !

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/8/2021 23:31:12'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/8/2021 23:31:12'!
FAILURE!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 23:31:35' prior: 50866567!
test04CannotAddToCartANonPositiveQuantityOfItems

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ cart add: 0 copiesOf: aBook] raise: Error withMessageText: Cart invalidQuantity.
	self assert: cart isEmpty.
	self should: [ cart add: -2 copiesOf: aBook] raise: Error withMessageText: Cart invalidQuantity.
	self assert: cart isEmpty.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/8/2021 23:31:40'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/8/2021 23:31:40'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:31:40'!
PASSED!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/8/2021 23:31:40'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 23:32:52'!
test03CannotAddToCartItemsThatNotBelongToTheCatalog

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ cart add: 1 copiesOf: invalidBook ] raise: Error withMessageText: Cart invalidBookMessage.
	self assert: cart isEmpty. 
	
! !

!methodRemoval: CartTest #test03CannotAddToCartItemsThatNotBelongToTheStore stamp: 'CD 6/8/2021 23:32:52'!
test03CannotAddToCartItemsThatNotBelongToTheStore

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ cart add: 1 copiesOf: invalidBook ] raise: Error withMessageText: Cart invalidBookMessage.
	self assert: cart isEmpty. 
	
!
!CartTest methodsFor: 'tests' stamp: 'CD 6/8/2021 23:37:47'!
test05CanAddDuplicatedCopiesOfBook

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	cart add: 3 copiesOf: aBook.
	
	self assert: cart includes: aBook.
	self assert: cart totalItems equals: 3.! !
!Cart methodsFor: 'auxiliars' stamp: 'CD 6/8/2021 23:38:34'!
includes: aBook

	^ items includes: aBook.! !
!Cart methodsFor: 'auxiliars' stamp: 'CD 6/8/2021 23:40:26'!
totalItems

	^ items size.! !

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/8/2021 23:40:34'!
PASSED!

----SNAPSHOT----(8 June 2021 23:42:35) CuisUniversity-4532.image priorSource: 17010656!

----QUIT----(8 June 2021 23:42:39) CuisUniversity-4532.image priorSource: 17121053!

----STARTUP---- (10 June 2021 18:39:55) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/10/2021 18:40:58'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'nil' stamp: 'CD 6/10/2021 18:44:30'!
test01CannotCheckoutAnEmptyCart

	| cart |
	

	
! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'CD 6/10/2021 18:45:05' prior: 50866704!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	

	
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 18:45:40' overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'CD 6/10/2021 18:47:35'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 18:47:20' prior: 50866709!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ | aMerchantProcessor aValidCreditCard | Cashier for: cart payingWith: aValidCreditCard validatingWith: aMerchantProcessor ] raise: Error withMessageText: Cashier invalidCart.
	
	

	
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 18:49:45' prior: 50866715 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 18:51:32' prior: 50866728!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	

	
	

	
! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/10/2021 18:51:45'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/10/2021 18:51:46'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard aMerchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 18:51:43' prior: 50866741 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.
	aValidCreditCard := ''.
	aMerchantProcessor := ''.
! !

GregorianMonthOfYear!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'CD 6/10/2021 19:12:02'!
Object subclass: #CreditCard
	instanceVariableNames: 'owner number expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 19:11:49' prior: 50866771 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date today. 
! !
!CreditCard class methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:18:50'!
withOwner: aPerson number: aNumber expirationDate: aDate

	^ self new withOwner: aPerson number: aNumber expirationDate: aDate.! !
!CreditCard methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:19:47'!
withOwner: aPerson number: aNumber expirationDate: aDate

	owner := aPerson.
	number := aNumber.
	expirationDate := aDate.! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 19:25:35' prior: 50866748!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor ] raise: Error withMessageText: Cashier invalidCartMessage.
	

	
	

	
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 19:26:30' prior: 50866812!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	
	
	
	

	
	

	
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 19:27:27' prior: 50866823!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor ] raise: Error withMessageText: Cashier invalidCartMessage.
	

	
	

	
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 19:27:52' prior: 50866788 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := OrderedCollection with: aBook.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 19:28:15' prior: 50866829!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor ] raise: Error withMessageText: Cashier invalidCartMessage.
	

	
	

	
! !

TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard aMerchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/10/2021 19:28:28'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard aMerchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier class methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:31:04'!
for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor

	^ self new for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor.! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'CD 6/10/2021 19:31:55'!
Object subclass: #Cashier
	instanceVariableNames: 'cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'CD 6/10/2021 19:31:57'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'CD 6/10/2021 19:31:59'!
Object subclass: #Cashier
	instanceVariableNames: 'cart creditCard merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:31:51'!
for: aCart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor

	cart := aCart.
	creditCard := aCreditCard.
	merchantProcessor := aMerchantProcessor.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:51:44'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:51:44'!
ERROR!
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/10/2021 19:53:40'!
invalidCartMessage

	^ 'Cannot checkout invalid cart'.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:53:53'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:53:53'!
FAILURE!
!Cashier class methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:56:03' prior: 50866877!
for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor

	cart isEmpty ifTrue: [Cashier invalidCartMessage ].
	^ self new for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor.! !
!Cashier class methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:56:38'!
validateCartIsNotEmpty: cart

	^ cart isEmpty ifTrue: [Cashier invalidCartMessage ]! !
!Cashier class methodsFor: 'initializers' stamp: 'CD 6/10/2021 19:56:38' prior: 50866931!
for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor

	self validateCartIsNotEmpty: cart.
	^ self new for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:57:02'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:57:02'!
FAILURE!
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/10/2021 19:57:45' prior: 50866941!
validateCartIsNotEmpty: cart

	^ cart isEmpty ifTrue: [self error: self invalidCartMessage ].! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 19:57:50'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:03:42'!
test02CheckingOutSingleBookGivesBookPriceAsTotal

! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:03:55' prior: 50866972!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart |
	cart := Cart initializeWith: aCatalog.
	! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:06:48' prior: 50866977!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: aBook copiesOf: 1.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: aBook price.
	! !
!Cashier methodsFor: 'initializers' stamp: 'CD 6/10/2021 20:18:21'!
checkout

	! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:21:33' prior: 50866995!
checkout
! !
!Cart methodsFor: 'accesors' stamp: 'CD 6/10/2021 20:27:00'!
bookPrice: book

	^ catalog at: book.! !
!Cart methodsFor: 'accesors' stamp: 'CD 6/10/2021 20:27:14'!
items

	^ items.! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:30:56' prior: 50866998!
checkout

	^ cart items inject: 0 into: [ :accum :item | (cart bookPrice: item) + accum]. ! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:32:34' prior: 50867009!
checkout

	^ cart items inject: 0 into: [ :accum :item | (cart items at: item)*(cart bookPrice: item) + accum]. ! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 20:35:28' prior: 50866841 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new) add: aBook -> 10.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:35:50' prior: 50866983!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: aBook copiesOf: 1.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 10.5.
	! !

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:35:52'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:35:52'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:36:50'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:36:53'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:36:53'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:39:27'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:39:27'!
ERROR!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 20:42:21' prior: 50867022 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:42:25'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:42:25'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:42:59'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:42:59'!
ERROR!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 20:43:37' prior: 50867069 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:44:07' prior: 50867032!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 1 copiesOf: aBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 10.5.
	! !

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:08'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:08'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:44:21'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:21'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:21'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 20:44:31'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 20:44:31'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 20:44:31'!
PASSED!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 20:44:31'!
PASSED!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 20:44:31'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:52'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:44:52'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'CD 6/10/2021 20:46:28' prior: 50866557!
assertIsValidBook: aBook

	(catalog includesKey: aBook) ifFalse: [self error: Cart invalidBookMessage].

	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:46:31'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:46:31'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:46:31'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:46:50'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:46:50'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:46:50'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:47:33'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:47:36'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:47:36'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:48:18'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:48:18'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:48:18'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:49:55' prior: 50867015!
checkout

	^ cart items inject: 0 into: [ :accum :item | (cart items occurrencesOf: item)*(cart bookPrice: item) + accum]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:49:58'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:49:58'!
PASSED!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/10/2021 20:52:55'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard aMerchantProcessor anotherBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'nil' stamp: 'CD 6/10/2021 20:52:53'!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 10.5.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'CD 6/10/2021 20:53:29' prior: 50867226!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 30.
	! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 20:53:53' prior: 50867094 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.5.
	aCatalog add: anotherBook -> 9.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:54:16'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:54:16'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:55:04' prior: 50867204!
checkout

	^ cart items inject: 0 into: [ :accum :item | ((cart items occurrencesOf: item)*(cart bookPrice: item)) + accum]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:55:09'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:55:09'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:55:09'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:55:09'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:55:39' prior: 50867273!
checkout

	^ cart items inject: 0 into: [ :item :accum | ((cart items occurrencesOf: item)*(cart bookPrice: item)) + accum]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:55:41'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:55:41'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:55:41'!
ERROR!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:56:59' prior: 50867294!
checkout

	^ cart items inject: 0 into: [ :accum :item | ((cart items occurrencesOf: item)*(cart bookPrice: item)) + accum]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:57:01'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:57:01'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:57:01'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:57:01'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 20:58:54' prior: 50867311!
checkout

	^ cart items sum: [:item | (cart items occurrencesOf: item)*(cart bookPrice: item)]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:58:56'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:58:56'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:58:56'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:58:56'!
FAILURE!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 20:59:42' prior: 50867254 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 20:59:47'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 20:59:47'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 20:59:47'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 20:59:55' prior: 50867105!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 1 copiesOf: aBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 10.
	! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 21:00:11' prior: 50867240!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 29.
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:00:14'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:00:14'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:00:14'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:00:14'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 21:01:03' prior: 50867387!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 29.
	! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:01:25' prior: 50867332!
checkout

	^ cart items sum: [:item | (cart items occurrencesOf: item)*(cart bookPrice: item)]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:01:45'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:01:45'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:01:45'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:01:45'!
FAILURE!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:02:19'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:02:26'!
FAILURE!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:02:26'!
FAILURE!

2*10!

2*10 + 1*9!

2*10 + 1*9!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/10/2021 21:05:00' prior: 50867415!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor.
	
	self assert: cashier checkout equals: 29.5. 
	! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 21:05:06' prior: 50867353 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:05:28' prior: 50867428!
checkout

	^ cart items sum: [:item | cart bookPrice: item]. ! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:05:30'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:05:30'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:05:30'!
PASSED!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:11:08'!
total

	^ cart items sum: [:item | cart bookPrice: item]! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:11:08' prior: 50867487!
checkout

	^ self total. ! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:11:29' prior: 50867507!
checkout

	^ cart items sum: [:item | cart bookPrice: item]. ! !

!methodRemoval: Cashier #total stamp: 'CD 6/10/2021 21:11:32'!
total

	^ cart items sum: [:item | cart bookPrice: item]!
!Cashier methodsFor: 'checkout' stamp: 'CD 6/10/2021 21:11:50' prior: 50867511!
checkout

	^ cart total. ! !
!Cart methodsFor: 'total' stamp: 'CD 6/10/2021 21:12:22'!
total

	^ items sum: [:item | self bookPrice: item]! !
!Cart methodsFor: 'total' stamp: 'CD 6/10/2021 21:12:33' prior: 50867523!
total

	^ items sum: [:item | self bookPrice: item].! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:12:41'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:12:41'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:12:41'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:15:17'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:15:17'!
ERROR!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:15:17'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:15:17'!
FAILURE!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:15:17'!
ERROR!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:15:17'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:15:17'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:15:17'!
PASSED!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:15:24'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:15:24'!
ERROR!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:15:24'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:15:24'!
FAILURE!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:15:24'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:15:33'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:15:35'!
ERROR!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:15:35'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:16:06'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:16:06'!
ERROR!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:16:06'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:16:06'!
FAILURE!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:16:06'!
ERROR!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:16:17'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:16:19'!
ERROR!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:16:19'!
ERROR!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 21:16:57' prior: 50866428 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aBook := 'Persuasion'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: invalidBook -> 9.5.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:01'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/10/2021 21:17:01'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:01'!
FAILURE!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:17:07'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:17:07'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:07'!
FAILURE!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:17:07'!
PASSED!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:17:07'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:07'!
FAILURE!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:17:16'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:18'!
FAILURE!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:18'!
FAILURE!
!CartTest methodsFor: 'setUp' stamp: 'CD 6/10/2021 21:17:40' prior: 50867619 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	invalidBook := 'Concrete Mathematics'.
	aBook := 'Persuasion'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.! !

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/10/2021 21:17:43'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/10/2021 21:17:43'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/10/2021 21:17:43'!
PASSED!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/10/2021 21:17:43'!
PASSED!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/10/2021 21:17:43'!
PASSED!

----SNAPSHOT----(10 June 2021 21:21:19) CuisUniversity-4532.image priorSource: 17121142!

----QUIT----(10 June 2021 21:21:26) CuisUniversity-4532.image priorSource: 17153941!

----STARTUP---- (14 June 2021 17:06:22) as /home/caro/Downloads/linux64/CuisUniversity-4532.image!


!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 17:06:46'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 17:06:46'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:06:46'!
PASSED!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/14/2021 17:15:22'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook invalidBook aCatalog aValidCreditCard aMerchantProcessor anotherBook expiredCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 17:15:19'!
test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: aMerchantProcessor] raise: Error withMessageText: Cashier expiredCreditCardMessage.! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 17:15:55' prior: 50867475 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date yesterday.
! !
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/14/2021 17:16:52'!
expiredCreditCard
	^ 'Credit Card has expired'.! !
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/14/2021 17:16:55' prior: 50867769!
expiredCreditCard

	^ 'Credit Card has expired'.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 17:17:08'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 17:17:08'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:08'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:08'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:08'!
ERROR!
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/14/2021 17:17:30'!
expiredCreditCardMessage

	^ 'Credit Card has expired'.! !

!methodRemoval: Cashier class #expiredCreditCard stamp: 'CD 6/14/2021 17:17:30'!
expiredCreditCard

	^ 'Credit Card has expired'.!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 17:17:33'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 17:17:33'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:33'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:33'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:17:33'!
FAILURE!
!Cashier class methodsFor: 'initializers' stamp: 'CD 6/14/2021 17:22:40' prior: 50866947!
for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor

	self validateCartIsNotEmpty: cart.
	self validateCardIsNotExpired: aCreditCard.
	
	^ self new for: cart payingWith: aCreditCard withMerchantProcessor: aMerchantProcessor.! !
!Cashier class methodsFor: 'validation-errors' stamp: 'CD 6/14/2021 17:24:37'!
validateCardIsNotExpired: aCreditCard

	(aCreditCard isExpiredOn: Date today) ifTrue: [ self error: self expiredCreditCardMessage].! !
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 17:28:32'!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [aDate month < expirationDate month]. ].
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 17:28:50'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 17:28:50'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:28:50'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 17:28:50'!
FAILURE!
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 17:29:54' prior: 50867842!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate month < aDate month]. ].
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:02:44'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:02:44'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:02:44'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:02:44'!
FAILURE!
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 18:03:28' prior: 50867865!
isExpiredOn: aDate

	^ false"(expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate month < aDate month]. ]."
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:03:31'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:03:31'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:03:31'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:30:36'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:30:36'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:30:36'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:30:36'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:30:36'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:35:02'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:35:02'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:35:02'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:35:02'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:35:02'!
FAILURE!
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 18:36:42' prior: 50867888!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate month < aDate month].].
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:36:47'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:36:47'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:36:47'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:36:47'!
FAILURE!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:40:03'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:40:03'!
ERROR!
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 18:40:36' prior: 50867951!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate monthNumber < aDate monthNumber].].
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:40:46'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:40:46'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:40:46'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:40:46'!
FAILURE!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:40:51'!
ERROR!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:40:51'!
ERROR!
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 18:41:30' prior: 50867981!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate month < aDate month].].
	! !
!CreditCard methodsFor: 'expiration' stamp: 'CD 6/14/2021 18:42:19' prior: 50868011!
isExpiredOn: aDate

	^ (expirationDate yearNumber < aDate yearNumber) or: [(expirationDate yearNumber = aDate yearNumber) and: [expirationDate monthIndex < aDate monthIndex].].
	! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:42:22'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:42:22'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:22'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:22'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:22'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:42:29'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:42:32'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:35'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:41'!
FAILURE!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:42:41'!
FAILURE!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 18:43:32' prior: 50867754 overrides: 16927572!
setUp

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date yesterday.
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 18:47:55' prior: 50868066 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 18:47:58'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 18:47:58'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:47:58'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 18:47:58'!
PASSED!

----SNAPSHOT----(14 June 2021 18:52:44) CuisUniversity-4532.image priorSource: 17154031!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 18:57:47'!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: aMerchantProcessor] raise: Error withMessageText: Cashier expiredCreditCardMessage.! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/14/2021 19:00:31' prior: 50867520!
checkout
	 
	^ cart total. ! !

TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook anotherBook invalidBook aCatalog aValidCreditCard expiredCreditCard aMerchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/14/2021 19:03:16'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook anotherBook invalidBook aCatalog aValidCreditCard expiredCreditCard aMerchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'CD 6/14/2021 19:04:21'!
Object subclass: #MerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:04:12' prior: 50868082 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	
	aMerchantProcessor := MerchantProcessor anInsufficientFundsMerchantProcessor.
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:07:32' prior: 50868157 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	
	aMerchantProcessor := MerchantProcessor new.
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:09:00' prior: 50868178 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:10:04' prior: 50866851!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessor ] raise: Error withMessageText: Cashier invalidCartMessage.
	

	
	

	
! !

MerchantProcessor subclass: #MerchantProcessorMock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessorMock category: 'TusLibros' stamp: 'CD 6/14/2021 19:10:18'!
MerchantProcessor subclass: #MerchantProcessorMock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessorMock category: 'TusLibros' stamp: 'CD 6/14/2021 19:12:18'!
MerchantProcessor subclass: #MerchantProcessorMock
	instanceVariableNames: 'mockedMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessorMock methodsFor: 'nil' stamp: 'CD 6/14/2021 19:12:17'!
creditCard: card debit: amount

	^ mockedMessage.! !
!MerchantProcessorMock methodsFor: 'initializers' stamp: 'CD 6/14/2021 19:13:29'!
initializeWithMessage: aMessage
	
	mockedMessage := aMessage.	! !
!MerchantProcessorMock class methodsFor: 'nil' stamp: 'CD 6/14/2021 19:14:26'!
initializeWithMessage: aMessage

	^ self new initializeWithMessage: aMessage.! !

TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook anotherBook invalidBook aCatalog aValidCreditCard expiredCreditCard anOkMerchantProcessor aMerchantProcessorWithError'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'CD 6/14/2021 19:15:24'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'aBook anotherBook invalidBook aCatalog aValidCreditCard expiredCreditCard anOkMerchantProcessor aMerchantProcessorWithError'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:16:30' prior: 50868197 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	anOkMerchantProcessor := MerchantProcessorMock initializeWithMessage: 'OK'.
	aMerchantProcessorWithError := MerchantProcessorMock initializeWithMessage: 'Insufficient Funds'.
	
! !
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:17:08' prior: 50868280 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	anOkMerchantProcessor := MerchantProcessorMock initializeWithMessage: '0 | OK'.
	aMerchantProcessorWithError := MerchantProcessorMock initializeWithMessage: '1 | Insufficient Funds'.
	
! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/14/2021 19:18:15' prior: 50868129!
checkout
	| total |
	total := cart total.
	merchantProcessor creditCard: creditCard debit: total.	
	^ total. ! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/14/2021 19:18:18' prior: 50868327!
checkout
	| total |
	
	total := cart total.
	merchantProcessor creditCard: creditCard debit: total.	
	^ total. ! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/14/2021 19:18:42' prior: 50868334!
checkout
	| total |
	
	total := cart total.
	merchantProcessor creditCard: creditCard debit: total.	
	^ total. ! !
!Cashier methodsFor: 'checkout' stamp: 'CD 6/14/2021 19:24:26' prior: 50868341!
checkout
	| total merchantProcessorResponse |
	
	total := cart total.
	merchantProcessorResponse := merchantProcessor creditCard: creditCard debit: total.	
	(merchantProcessorResponse beginsWith: '1') ifTrue: [self error: (self merchantProcessorError: merchantProcessorResponse)].
	^ total. ! !
!Cashier methodsFor: 'auxiliars' stamp: 'CD 6/14/2021 19:24:56'!
merchantProcessorError: merchantProcessorResponse! !
!Cashier methodsFor: 'auxiliars' stamp: 'CD 6/14/2021 19:32:15' prior: 50868360!
merchantProcessorError: merchantProcessorResponse

	^ merchantProcessorResponse withoutPrefix: '1|'.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 19:32:26'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 19:32:26'!
ERROR!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:32:26'!
ERROR!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:32:26'!
PASSED!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:32:26'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:32:40' prior: 50867375!
test02CheckingOutSingleBookGivesBookPriceAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 1 copiesOf: aBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: anOkMerchantProcessor.
	
	self assert: cashier checkout equals: 10.
	! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:32:47' prior: 50868214!
test01CannotCheckoutAnEmptyCart

	| cart |
	cart := Cart initializeWith: aCatalog.
	
	self should: [ Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: anOkMerchantProcessor] raise: Error withMessageText: Cashier invalidCartMessage.
	

	
	

	
! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:32:56' prior: 50867461!
test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cart add: 1 copiesOf: anotherBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: anOkMerchantProcessor.
	
	self assert: cashier checkout equals: 29.5. 
	! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:33:03' prior: 50867740!
test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: anOkMerchantProcessor] raise: Error withMessageText: Cashier expiredCreditCardMessage.! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:33:37' prior: 50868116!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: Cashier expiredCreditCardMessage.! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:34:12' prior: 50868439!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient funds'.! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:34:38' prior: 50868452!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient Funds'.! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 19:34:44'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 19:34:44'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:34:44'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:34:44'!
PASSED!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:34:44'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:34:44'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:35:15' prior: 50868465!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient Funds'.! !

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:35:20'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:35:20'!
FAILURE!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 19:35:25'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 19:35:25'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:35:25'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:35:25'!
PASSED!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:35:25'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:35:25'!
FAILURE!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:37:14' prior: 50868304 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	anOkMerchantProcessor := MerchantProcessorMock initializeWithMessage: '0|OK'.
	aMerchantProcessorWithError := MerchantProcessorMock initializeWithMessage: '1|Insufficient Funds'.
	
! !

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/14/2021 19:37:18'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/14/2021 19:37:18'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:37:18'!
PASSED!

!testRun: #CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:37:18'!
PASSED!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:37:18'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:37:18'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:37:49'!
FAILURE!

!testRun: #CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:37:49'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:39:27'!
test05checkingOutWithInsufficientFundsThrowsError

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient Funds'.! !

!methodRemoval: CashierTest #test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData stamp: 'CD 6/14/2021 19:39:27'!
test05CheckingOutWhenMerchanProcessorReturnsOKWithValidData

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient Funds'.!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:40:58'!
FAILURE!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:40:58'!
FAILURE!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:43:45'!
FAILURE!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:43:45'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:44:58' prior: 50868596!
test05checkingOutWithInsufficientFundsThrowsError

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessorWithError] raise: Error withMessageText: 'Insufficient Funds'.! !

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:45:09'!
FAILURE!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:45:09'!
FAILURE!
!CashierTest methodsFor: 'setUp' stamp: 'CD 6/14/2021 19:45:40' prior: 50868543 overrides: 16927572!
setUp

	| expiredDate |

	aBook := 'Persuasion'.
	anotherBook := 'Concrete Mathematics'.
	aCatalog := (Dictionary new).
	aCatalog add: aBook -> 10.
	aCatalog add: anotherBook -> 9.5.
	aValidCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678' expirationDate: Date tomorrow. 
	expiredDate := Date newDay: 1 month: #July year: 2010. 
	expiredCreditCard := CreditCard withOwner: 'John Gibson' number: '12345678'
	expirationDate: expiredDate.
	anOkMerchantProcessor := MerchantProcessorMock initializeWithMessage: '0|OK'.
	aMerchantProcessorWithError := MerchantProcessorMock initializeWithMessage: '1|Insufficient Funds'.
	
! !

'1|BLA BLA' withoutPrefix: '1|'.!

'1|BLA BLA' beginsWith: '1|'.!

'1|BLA BLA' beginsWith: '1'.  !
!Cashier methodsFor: 'auxiliars' stamp: 'CD 6/14/2021 19:47:44' prior: 50868365!
merchantProcessorError: merchantProcessorResponse

	^ merchantProcessorResponse withoutPrefix: '1|'.
	
	! !
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:49:25' prior: 50868636!
test05checkingOutWithInsufficientFundsThrowsError

	| cart cashier |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	cashier := Cashier for: cart payingWith: aValidCreditCard withMerchantProcessor: aMerchantProcessorWithError.
	
	self should: [cashier checkout] raise: Error withMessageText: 'Insufficient Funds'.! !

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/14/2021 19:49:28'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'CD 6/14/2021 19:51:31'!
test04CheckingOutWithExpiredCardThrowsError

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: anOkMerchantProcessor] raise: Error withMessageText: Cashier expiredCreditCardMessage.! !

!methodRemoval: CashierTest #test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/14/2021 19:51:31'!
test04CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal

	| cart |
	cart := Cart initializeWith: aCatalog.
	cart add: 2 copiesOf: aBook.
	
	self should: [Cashier for: cart payingWith: expiredCreditCard withMerchantProcessor: anOkMerchantProcessor] raise: Error withMessageText: Cashier expiredCreditCardMessage.!

!testRun: #CartTest #test01NewCartIsEmpty stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CartTest #test02CartIsNonEmptyAfterAddingAnItem stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CartTest #test03CannotAddToCartItemsThatNotBelongToTheCatalog stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CartTest #test04CannotAddToCartANonPositiveQuantityOfItems stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CartTest #test05CanAddDuplicatedCopiesOfBook stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CashierTest #test01CannotCheckoutAnEmptyCart stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CashierTest #test02CheckingOutSingleBookGivesBookPriceAsTotal stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CashierTest #test03CheckingOutMultipleBooksGivesSumOfBookPricesAsTotal stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CashierTest #test04CheckingOutWithExpiredCardThrowsError stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

!testRun: #CashierTest #test05checkingOutWithInsufficientFundsThrowsError stamp: 'CD 6/17/2021 08:38:07'!
PASSED!

----QUIT----(17 June 2021 08:38:13) CuisUniversity-4532.image priorSource: 17166803!