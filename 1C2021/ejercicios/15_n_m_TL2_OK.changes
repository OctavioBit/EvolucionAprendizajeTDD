

----QUIT----(9 March 2021 14:58:42) CuisUniversity-4532.image priorSource: 13044060!

----STARTUP---- (9 March 2021 14:58:43) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4532.image!


----QUIT----(9 March 2021 14:58:43) CuisUniversity-4532.image priorSource: 16885479!

----STARTUP---- (8 April 2021 02:05:24) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/NumerosNaturales.st----!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/Numeros Naturales Tests.st----!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/Numeros Naturales Tests.st----!

!methodRemoval: II class #/ stamp: 'DV 4/8/2021 02:09:33'!
/ unDivisor
	|unDividendo|
	unDividendo _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor ] 
								ifFalse: [((unDividendo-unDivisor)/unDivisor)+I ]!
!II class methodsFor: 'nil' stamp: 'DV 4/8/2021 02:11:20'!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDividendo = unDivisor )! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:12:18' prior: 50859974!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDividendo = unDivisor) ifTrue: [I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I ]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:15:35' prior: 50859980!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [1] 
				ifFalse: [(unDividendo = unDivisor) ifTrue: [I] ifFalse: [(unDividendo-unDivisor)/unDivisor+I ]]! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:15:48' prior: 50859988!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [1] 
				ifFalse: [(unDividendo = unDivisor) ifTrue: [I] ifFalse: [(unDividendo-unDivisor)/unDivisor+I ]]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:16:37' prior: 50859998!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [1] 
				ifFalse: [2]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:17:20' prior: 50860008!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ True ifTrue: [1] 
				ifFalse: [2]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:18:09' prior: 50860015!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (True) ifTrue: [1] 
				ifFalse: [2]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:18:49' prior: 50860022!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (1=1) ifTrue: [1] 
				ifFalse: [2]! !

IIII / II!
!I class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:19:38' prior: 50859398!
isGreater: unNumero
	^false! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:19:50' prior: 50859467!
isGreater: unNumero
	^ (unNumero = 1) ifTrue: [true] ifFalse:[^self previous isGreater: unNumero previous] ! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:21:41' prior: 50860029!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor < unDividendo) ifTrue: [self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor ] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !

IIII / II!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:22:05' prior: 50860047!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor ] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !

IIII / II!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:22:20'!
ERROR!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:23:33' prior: 50860060!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:24:06' prior: 50860111!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [self error: self descripcionDeErrorDeNumerosNegativosNoSoportados ] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:24:19' prior: 50860124!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [^self error: self descripcionDeErrorDeNumerosNegativosNoSoportados ] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:24:39' prior: 50860137!
/ unDivisor
	|unDividendo|
	unDividendo  _ self.
	^ (unDivisor isGreater: unDividendo) ifTrue: [self error: self descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor ] 
	                                      	 				ifFalse: [(unDividendo = unDivisor ) ifTrue:[I] ifFalse: [((unDividendo-unDivisor)/unDivisor)+I]]! !
!II class methodsFor: 'nil' stamp: 'DV 4/8/2021 02:25:55'!
descripcionDeErrorDeNoSePuedeDividirPorUnNumeroMayor
	^'No se puede dividir por un Numero Menor'! !

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:26:33'!
ERROR!

!methodRemoval: I class #divides: stamp: 'DV 4/8/2021 02:27:20'!
divides: unDividendo 
	^unDividendo !
!I class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := II.
	previous := nil.! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.! !
!III class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860218!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.! !
!IIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860226!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.! !
!IIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860234!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.! !
!IIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860242!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.! !
!IIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860250!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.! !
!IIIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860258!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIIII.
	previous := IIIIIII.! !
!IIIIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:27:30' overrides: 50860266!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIIII.! !

!methodRemoval: I class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := II.
	previous := nil.!

!methodRemoval: II class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.!

!methodRemoval: III class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.!

!methodRemoval: IIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.!

!methodRemoval: IIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.!

!methodRemoval: IIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.!

!methodRemoval: IIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.!

!methodRemoval: IIIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIIII.
	previous := IIIIIII.!

!methodRemoval: IIIIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:27:30'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIIII.!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
ERROR!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:28:09'!
ERROR!


I/II!


III/IIII!


IIII isGreater:  III!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:30:04' prior: 50860040!
isGreater: unNumero
	^ (unNumero = 1) ifTrue: [true] ifFalse:[^(self previous) isGreater: (unNumero previous)] ! !

IIII isGreater:  III
!

IIII isGreater:  III
!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:32:25' prior: 50860385!
isGreater: unNumero
	^ (unNumero = 1) ifTrue: [true] ifFalse:[(self previous) isGreater: (unNumero previous)] ! !

IIII isGreater:  III
!

II isGreater:  I
!


II isGreater:  I
!
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:00' prior: 50860393!
isGreater: unNumero
	^ (unNumero = I) ifTrue: [true] ifFalse:[(self previous) isGreater: (unNumero previous)] ! !


II isGreater:  I!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!

!testRun: #DenotativeObjectTestCase #performRealTest stamp: 'DV 4/8/2021 02:35:20'!
PASSED!
!I class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := II.
	previous := nil.! !
!II class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.! !
!III class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860452!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.! !
!IIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860460!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.! !
!IIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860468!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.! !
!IIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860476!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.! !
!IIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860484!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.! !
!IIIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860492!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIIII.
	previous := IIIIIII.! !
!IIIIIIIII class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 02:35:28' overrides: 50860500!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIIII.! !

!methodRemoval: I class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := II.
	previous := nil.!

!methodRemoval: II class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := III.
	previous := I.!

!methodRemoval: III class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIII.
	previous := II.!

!methodRemoval: IIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIII.
	previous := III.!

!methodRemoval: IIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIII.
	previous := IIII.!

!methodRemoval: IIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIII.
	previous := IIIII.!

!methodRemoval: IIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIII.
	previous := IIIIII.!

!methodRemoval: IIIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := IIIIIIIII.
	previous := IIIIIII.!

!methodRemoval: IIIIIIIII class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 02:35:28'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	next := nil.
	previous := IIIIIIII.!

----STARTUP---- (8 April 2021 17:15:26) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


ObjectBuilder create: #Semaforo
	collaboratorNames: ''
	in: 'SEMAFORO'
	!

ObjectBuilder create: #LuzAmarilla
	collaboratorNames: ''
	in: 'SEMAFORO'
	!

!classDefinition: #LuzAmarilla category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:22:10'!
DenotativeObject subclass: #LuzAmarilla
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'LuzAmarilla class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:22:10'!
LuzAmarilla class
	instanceVariableNames: ''!

ObjectBuilder create: #LuzRoja
	collaboratorNames: ''
	in: 'SEMAFORO'
	!

!classDefinition: #LuzRoja category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:23:24'!
DenotativeObject subclass: #LuzRoja
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'LuzRoja class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:23:24'!
LuzRoja class
	instanceVariableNames: ''!

ObjectBuilder create: #LuzVerde
	collaboratorNames: ''
	in: 'SEMAFORO'
	!

!classDefinition: #LuzVerde category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:23:37'!
DenotativeObject subclass: #LuzVerde
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'LuzVerde class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 17:23:37'!
LuzVerde class
	instanceVariableNames: ''!

Processor!

!classRenamed: #LuzAmarilla as: #unLuzAmarilla stamp: 'DV 4/8/2021 17:47:26'!
Smalltalk renameClassNamed: #LuzAmarilla as: #unLuzAmarilla!

!classRenamed: #unLuzAmarilla as: #unaLuzAmarilla stamp: 'DV 4/8/2021 17:47:39'!
Smalltalk renameClassNamed: #unLuzAmarilla as: #unaLuzAmarilla!

!classRenamed: #LuzVerde as: #unaLuzVerde stamp: 'DV 4/8/2021 17:48:01'!
Smalltalk renameClassNamed: #LuzVerde as: #unaLuzVerde!

!classRenamed: #LuzRoja as: #unaLuzRoja stamp: 'DV 4/8/2021 17:48:12'!
Smalltalk renameClassNamed: #LuzRoja as: #unaLuzRoja!
!Semaforo class methodsFor: 'nil' stamp: 'DV 4/8/2021 18:34:05'!
prender
	
	5 timesRepeat: [self titilarSeñalDePrecuacion]! !
!Semaforo class methodsFor: 'nil' stamp: 'DV 4/8/2021 18:34:52'!
titilarSeñalDePrecuacion 
	! !
!Semaforo class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:36:19' prior: 50859395!
prender
	
	self avisarPrecaucionPorEncendido! !
!Semaforo class methodsFor: 'nil' stamp: 'DV 4/8/2021 18:36:53'!
avisarPrecaucionPorEncendido
	5 timesRepeat: [self titilarSeñalDePrecuacion]! !
!Semaforo class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:37:04' prior: 50859407!
avisarPrecaucionPorEncendido
	5 timesRepeat: [self titilarSeñalDePrecaucion]! !
!Semaforo class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:37:26'!
titilarSeñalDePrecaucion 
	! !

!methodRemoval: Semaforo class #titilarSeñalDePrecuacion stamp: 'DV 4/8/2021 18:37:26'!
titilarSeñalDePrecuacion 
	!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/Numeros Naturales.st----!

unaLuzAmarilla
	asChildOf: Light 
	collaboratorNames: ''
	in: 'SEMAFORO'!

!classDefinition: #unaLuzAmarilla category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:45:32'!
Light subclass: #unaLuzAmarilla
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'unaLuzAmarilla class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:45:32'!
unaLuzAmarilla class
	instanceVariableNames: ''!

Light!

 Light !

!classRemoval: #IIII stamp: 'DV 4/8/2021 18:49:33'!
III subclass: #IIII
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #III stamp: 'DV 4/8/2021 18:49:34'!
II subclass: #III
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #II stamp: 'DV 4/8/2021 18:49:34'!
DenotativeObject subclass: #II
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!

!classRemoval: #I stamp: 'DV 4/8/2021 18:49:35'!
DenotativeObject subclass: #I
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Numeros Naturales'!
!unaLuzAmarilla class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:49:40' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.! !

!methodRemoval: unaLuzAmarilla class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 18:49:40'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.!
!Semaforo class methodsFor: 'private' stamp: 'DV 4/8/2021 18:50:30' prior: 50859419!
titilarSeñalDePrecaucion 
	unaLuzAmarilla  color: Color yellow.
	
	unaLuzAmarilla  color: Color black! !

ObjectBuilder create: #ReguladorDeTransitoMaipu
	asChildOf: ThreeLightsContainer 
	collaboratorNames: 'SeñalDeAvanceDeMaipu SeñalDePrecaucionDeMaipu SeñalDeDetencionDeMaipu'
	in: 'SEMAFORO'
	!

!classDefinition: #ReguladorDeTransitoMaipu category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:13'!
ThreeLightsContainer subclass: #ReguladorDeTransitoMaipu
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'ReguladorDeTransitoMaipu class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:13'!
ReguladorDeTransitoMaipu class
	instanceVariableNames: 'SeñalDeAvanceDeMaipu SeñalDePrecaucionDeMaipu SeñalDeDetencionDeMaipu'!

unaLuzRoja
	asChildOf: Light
	collaboratorNames: ''
	in: 'SEMAFORO'!

!classDefinition: #unaLuzRoja category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:40'!
Light subclass: #unaLuzRoja
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'unaLuzRoja class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:40'!
unaLuzRoja class
	instanceVariableNames: ''!

unaLuzVerde
	asChildOf: Light
	collaboratorNames: ''
	in: 'SEMAFORO'!

!classDefinition: #unaLuzVerde category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:46'!
Light subclass: #unaLuzVerde
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'SEMAFORO'!

!classDefinition: 'unaLuzVerde class' category: 'SEMAFORO' stamp: 'DV 4/8/2021 18:54:46'!
unaLuzVerde class
	instanceVariableNames: ''!
!unaLuzAmarilla class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:55:26' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.! !
!unaLuzRoja class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:55:26' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.! !
!unaLuzVerde class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:55:26' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.! !
!ReguladorDeTransitoMaipu class methodsFor: 'as yet unclassified' stamp: 'DV 4/8/2021 18:55:26' overrides: 50849241!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.
	SeñalDeAvanceDeMaipu := nil.
	SeñalDePrecaucionDeMaipu := nil.
	SeñalDeDetencionDeMaipu := nil.! !

!methodRemoval: unaLuzAmarilla class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 18:55:26'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.!

!methodRemoval: unaLuzRoja class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 18:55:26'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.!

!methodRemoval: unaLuzVerde class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 18:55:26'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.!

!methodRemoval: ReguladorDeTransitoMaipu class #initializeCollaboratorsFromFile stamp: 'DV 4/8/2021 18:55:26'!
initializeCollaboratorsFromFile
	"Auto generated method for loading purposes - Do not modify it"

	morph := nil.
	SeñalDeAvanceDeMaipu := nil.
	SeñalDePrecaucionDeMaipu := nil.
	SeñalDeDetencionDeMaipu := nil.!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/00-NumerosNaturales_NumerosNaturales.st----!

----QUIT----(9 April 2021 10:18:39) CuisUniversity-4532.image priorSource: 16885703!

----STARTUP---- (12 April 2021 20:53:53) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CodigoRepetido-Ejercicio.st----!

self fail!

CustomerBookTest superclass!

TestCase fail!

Error!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/12/2021 21:34:47' prior: 50860241!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''. ]
		on: Error 
		do: [ :anError | 
			self assert: anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/12/2021 21:34:56'!
PASSED!

CustomerBook new addCustomerNamed: ''.!
!CustomerBook methodsFor: 'customer management' stamp: 'DV 4/12/2021 21:37:04' prior: 50860371!
addCustomerNamed: aName

	"aName isEmpty ifTrue: [ self signalCustomerNameCannotBeEmpty ]."
	((active includes: aName) or: [suspended includes: aName]) ifTrue: [ self signalCustomerAlreadyExists ].
	
	active add: aName ! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/12/2021 21:37:20'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/12/2021 21:37:20'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/12/2021 21:38:05' prior: 50860451!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.

	[ customerBook addCustomerNamed: ''. ]
		on: Error 
		do: [ :anError | 
			self assert: 1 = CustomerBook customerCanNotBeEmptyErrorMessage.
			self assert: customerBook isEmpty ]! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/12/2021 21:38:07'!
PASSED!

!classRemoval: #CustomerBook stamp: 'DV 4/12/2021 21:39:04'!
Object subclass: #CustomerBook
	instanceVariableNames: 'suspended active'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classRemoval: #CustomerBookTest stamp: 'DV 4/12/2021 21:39:05'!
TestCase subclass: #CustomerBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classRemoval: #NotFound stamp: 'DV 4/12/2021 21:39:05'!
Error subclass: #NotFound
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

!classRemoval: #CantSuspend stamp: 'DV 4/12/2021 21:39:06'!
Error subclass: #CantSuspend
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'CodigoRepetido-Ejercicio'!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CodigoRepetido-Ejercicio.st----!

----QUIT----(12 April 2021 22:13:04) CuisUniversity-4532.image priorSource: 16912327!

----STARTUP---- (13 April 2021 16:56:08) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!

!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 17:05:01'!
Execute: closure takesLessThan: durationInMiliseconds
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (durationInMiliseconds * millisecond)! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 17:08:15'!
AssertExecutionOf: closure takesLessThan: durationInMiliseconds
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (durationInMiliseconds * millisecond)! !

!methodRemoval: CustomerBookTest #AssertExecutionOf:takesLessThan: stamp: 'DV 4/13/2021 17:08:20'!
AssertExecutionOf: closure takesLessThan: durationInMiliseconds
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (durationInMiliseconds * millisecond)!
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 17:08:49'!
AssertExecutionOf: closure takesLessThan: durationInMiliseconds
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (durationInMiliseconds * millisecond)! !

!methodRemoval: CustomerBookTest #Execute:takesLessThan: stamp: 'DV 4/13/2021 17:08:57'!
Execute: closure takesLessThan: durationInMiliseconds
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (durationInMiliseconds * millisecond)!
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 17:10:16' prior: 50860934!
AssertExecutionOf: closure takesLessThan: duration
	|millisecondsBeforeRunning millisecondsAfterRunning|
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	closure value.
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (duration)! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:10:18' prior: 50860639!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning |
	
	customerBook := CustomerBook new.
	
	millisecondsBeforeRunning := Time millisecondClockValue * millisecond.
	
	millisecondsAfterRunning := Time millisecondClockValue * millisecond.
	
	self assert: (millisecondsAfterRunning-millisecondsBeforeRunning) < (50 * millisecond).
	
	self AssertExecutionOf: [customerBook addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:10:44' prior: 50860978!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook millisecondsBeforeRunning millisecondsAfterRunning|
	customerBook := CustomerBook new.
	self AssertExecutionOf: [customerBook addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:10:56' prior: 50860997!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook|
	customerBook := CustomerBook new.
	self AssertExecutionOf: [customerBook addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:10:59' prior: 50861009!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds

	| customerBook |
	customerBook := CustomerBook new.
	self AssertExecutionOf: [customerBook addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:11:05'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:11:05'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:12:25' prior: 50860656!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	self AssertExecutionOf: [customerBook removeCustomerNamed: paulMcCartney.]  takesLessThan: 100 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:13:10' prior: 50861059!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	
	customerBook addCustomerNamed: paulMcCartney.
	self AssertExecutionOf: [customerBook removeCustomerNamed: paulMcCartney.]  takesLessThan: 100 * millisecond! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:13:13'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:13:13'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:13:35' prior: 50861072!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	
	customerBook := CustomerBook new.
	paulMcCartney := 'Paul McCartney'.
	customerBook addCustomerNamed: paulMcCartney.
	
	self AssertExecutionOf: [customerBook removeCustomerNamed: paulMcCartney.]  takesLessThan: 100 * millisecond! !

zzz!
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 17:39:01'!
tryingToExecute: forbiddenOperation raises: errorClass andAsserts: assertions

		[forbiddenOperation value . 	self fail ]
		on: errorClass
		do: [ :anError | assertions do: [:assertion |  self assert: (assertion value: anError)]  ]

! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:42:34' prior: 50860676!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.
! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:43:52' prior: 50861139!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.
	
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #([anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage.], [customerBook isEmpty ])! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:43:56'!
ERROR!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:43:56'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:43:56'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:46:01' prior: 50861145!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.
	
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #([:anError | messageText = CustomerBook customerCanNotBeEmptyErrorMessage.], [:anError| customerBook isEmpty ])! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:46:06'!
ERROR!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:46:06'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:46:06'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:46:41' prior: 50861191!
test03CanNotAddACustomerWithEmptyName 

	| customerBook |
			
	customerBook := CustomerBook new.
	
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #([:anError | messageText = CustomerBook customerCanNotBeEmptyErrorMessage], [:anError| customerBook isEmpty ])! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:48:14' prior: 50861237!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ]
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #(, )! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:48:31' prior: 50861250!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ]
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #(closure1, closure2)! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:48:51'!
ERROR!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:48:51'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:48:51'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:49:23'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:49:40'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:50:40' prior: 50861264!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ].
	self	tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #(closure1, closure2)! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:50:51' prior: 50861319!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ].
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #(closure1, closure2)! !

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:51:00'!
ERROR!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:51:00'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:58:30' prior: 50861334!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2 anArray|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ].
	anArray := Array new: 2.
	anArray at: 1 put: closure1.
	anArray at: 2 put: closure2.
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: #(closure1, closure2)! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:58:42'!
ERROR!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:58:42'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:58:42'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 17:59:05' prior: 50861356!
test03CanNotAddACustomerWithEmptyName 

	| customerBook closure1 closure2 anArray|
			
	customerBook := CustomerBook new.
	closure1 _ [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	closure2 _ [:anError | customerBook isEmpty ].
	anArray := Array new: 2.
	anArray at: 1 put: closure1.
	anArray at: 2 put: closure2.
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: anArray! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 17:59:12'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 17:59:12'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:01:15' prior: 50861407!
test03CanNotAddACustomerWithEmptyName 
	| customerBook anArray|
	customerBook := CustomerBook new.
	anArray := Array new: 2.
	anArray at: 1 put:  [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	anArray at: 2 put:  [:anError | customerBook isEmpty ].
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: anArray! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:03:10' prior: 50861454!
test03CanNotAddACustomerWithEmptyName 
	| customerBook anArray|
	customerBook := CustomerBook new.
	anArray := Array new: 2.
	anArray at: 1 put:  [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	anArray at: 2 put:  [:anError | customerBook isEmpty ].
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: anArray! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:03:31' prior: 50861469!
test03CanNotAddACustomerWithEmptyName 
	| customerBook assertions|
	customerBook := CustomerBook new.
	assertions := Array new: 2.
	assertions at: 1 put:  [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage].
	assertions at: 2 put:  [:anError | customerBook isEmpty ].
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: assertions! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:05:52' prior: 50861484!
test03CanNotAddACustomerWithEmptyName 
	| customerBook |
	customerBook := CustomerBook new.
	
	self tryingToExecute:  [ customerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: (Array with:  [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage]  with:  [:anError | customerBook isEmpty ]).! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 18:06:07'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 18:06:07'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:07:59' prior: 50860688!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.

	self tryingToExecute:  [ customerBook removeCustomerNamed: 'Paul McCartney'.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: johnLennon]).! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 18:08:04'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 18:08:04'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:08:34' prior: 50861543!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	self tryingToExecute:  [ customerBook removeCustomerNamed: 'Paul McCartney'.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: johnLennon]).! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:09:52' prior: 50861589!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	self tryingToExecute:  [ customerBook removeCustomerNamed: 'Paul McCartney'.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [customerBook includesCustomerNamed: johnLennon]).! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:09:57'!
ERROR!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 18:09:57'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:09:57'!
ERROR!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:10:24' prior: 50861606!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	self tryingToExecute:  [ customerBook removeCustomerNamed: 'Paul McCartney'.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: johnLennon]).! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:23:25' prior: 50861115!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds

	| customerBook paulMcCartney |
	paulMcCartney := 'Paul McCartney'.
	customerBook := CustomerBook new addCustomerNamed: paulMcCartney.
	
	self AssertExecutionOf: [customerBook removeCustomerNamed: paulMcCartney.]  takesLessThan: 100 * millisecond! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:25:18'!
customerBookWithPaulMcCartney
	| customerBook paulMcCartney |
	paulMcCartney := 'Paul McCartney'.
	customerBook := CustomerBook new addCustomerNamed: paulMcCartney.
	^customerBook ! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:26:03'!
PaulMcCartney
	^'Paul McCartney'! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:26:37' prior: 50861019!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self AssertExecutionOf: [self customerBookWithPaulMcCartney addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:27:37'!
emptyCustomerBook
	^CustomerBook new.! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:28:19' prior: 50861696!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self AssertExecutionOf: [self customerBook new addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:28:45' prior: 50861710!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self AssertExecutionOf: [self emptyCustomerBook addCustomerNamed: 'John Lennon'.]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:29:52' prior: 50861672!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds
	
	self AssertExecutionOf: [self  customerBookWithPaulMcCartney removeCustomerNamed:  self PaulMcCartney ]  takesLessThan: 100 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:30:11' prior: 50861728!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds
	
	self AssertExecutionOf: [self  customerBookWithPaulMcCartney removeCustomerNamed:  self PaulMcCartney ] takesLessThan: 100 * millisecond! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:30:57' prior: 50861684!
customerBookWithPaulMcCartney

 	^CustomerBook new addCustomerNamed: self paulMcCartney.
	! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:31:06' prior: 50861747!
customerBookWithPaulMcCartney

 	^CustomerBook new addCustomerNamed: self PaulMcCartney .
	! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 18:31:10'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 18:31:10'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:33:18' prior: 50861500!
test03CanNotAddACustomerWithEmptyName 
	| emptyCustomerBook |
	emptyCustomerBook := CustomerBook new.
	
	self tryingToExecute:  [ emptyCustomerBook addCustomerNamed: ''.]
	raises: Error 
	andAsserts: (Array with:  [:anError | anError messageText = CustomerBook customerCanNotBeEmptyErrorMessage]  with:  [:anError | emptyCustomerBook isEmpty ]).! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:34:00' prior: 50861655!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook johnLennon |
			
	customerBook := CustomerBook new.
	johnLennon := 'John Lennon'.
	customerBook addCustomerNamed: johnLennon.
	self tryingToExecute:  [ customerBook removeCustomerNamed: self PaulMcCartney.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: johnLennon]).! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:34:40'!
JohnLennon
	^'John Lennon'.! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:35:59' prior: 50861803!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook |		
	customerBook := CustomerBook new.
	customerBook addCustomerNamed: (self JohnLennon).
	self tryingToExecute:  [ customerBook removeCustomerNamed: self PaulMcCartney.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: self JohnLennon ]).! !
!CustomerBookTest methodsFor: 'xxx' stamp: 'DV 4/13/2021 18:38:55'!
customerBookWith: customer

 	^CustomerBook new addCustomerNamed: customer .
	! !

!methodRemoval: CustomerBookTest #customerBookWithPaulMcCartney stamp: 'DV 4/13/2021 18:39:38'!
customerBookWithPaulMcCartney

 	^CustomerBook new addCustomerNamed: self PaulMcCartney .
	!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:40:32' prior: 50861738!
test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds
	
	self AssertExecutionOf: [(self  customerBookWith: self PaulMcCartney) removeCustomerNamed:  self PaulMcCartney ] takesLessThan: 100 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:40:57' prior: 50861719!
test01AddingCustomerShouldNotTakeMoreThan50Milliseconds
	
	self AssertExecutionOf: [self emptyCustomerBook addCustomerNamed: self JohnLennon .]  takesLessThan: 50 * millisecond! !
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:41:44' prior: 50861823!
test04CanNotRemoveAnInvalidCustomer
	
	| customerBook |		
	customerBook := self customerBookWith: self JohnLennon.
	self tryingToExecute:  [ customerBook removeCustomerNamed: self PaulMcCartney.]
	raises: NotFound
	andAsserts: (Array with:  [:anError | customerBook numberOfCustomers = 1.]  with:  [:anError | customerBook includesCustomerNamed: self JohnLennon ]).! !

!testRun: #CustomerBookTest #test01AddingCustomerShouldNotTakeMoreThan50Milliseconds stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test02RemovingCustomerShouldNotTakeMoreThan100Milliseconds stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test03CanNotAddACustomerWithEmptyName stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test04CanNotRemoveAnInvalidCustomer stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test05SuspendingACustomerShouldNotRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test06RemovingASuspendedCustomerShouldRemoveItFromCustomerBook stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test07CanNotSuspendAnInvalidCustomer stamp: 'DV 4/13/2021 18:41:49'!
PASSED!

!testRun: #CustomerBookTest #test08CanNotSuspendAnAlreadySuspendedCustomer stamp: 'DV 4/13/2021 18:41:49'!
PASSED!
!CustomerBookTest methodsFor: 'testing' stamp: 'DV 4/13/2021 18:43:54' prior: 50860703!
test05SuspendingACustomerShouldNotRemoveItFromCustomerBook

	| customerBook |
	
	customerBook  _ self customerBookWith: self PaulMcCartney.
	customerBook suspendCustomerNamed: self PaulMcCartney.
	
	self assert: 0 equals: customerBook numberOfActiveCustomers.
	self assert: 1 equals: customerBook numberOfSuspendedCustomers.
	self assert: 1 equals: customerBook numberOfCustomers.
	self assert: (customerBook includesCustomerNamed: self PaulMcCartney).
	

	
! !

----SNAPSHOT----(13 April 2021 18:43:59) CuisUniversity-4532.image priorSource: 16935441!

----QUIT----(13 April 2021 18:44:54) CuisUniversity-4532.image priorSource: 16968973!

----STARTUP---- (13 April 2021 18:45:50) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----QUIT----(13 April 2021 18:45:59) CuisUniversity-4532.image priorSource: 16969064!

----STARTUP---- (13 April 2021 22:30:21) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----QUIT----(13 April 2021 22:47:38) CuisUniversity-4532.image priorSource: 16969272!

----STARTUP---- (26 April 2021 20:04:35) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/CuisImagen2/shit.st----!

----QUIT----(26 April 2021 20:50:40) CuisUniversity-4532.image priorSource: 16969480!

----STARTUP---- (26 April 2021 22:54:50) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


!classRemoval: #SentenceFinderByPrefix stamp: 'DV 4/26/2021 22:55:03'!
Object subclass: #SentenceFinderByPrefix
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OONonEmptyStackContent stamp: 'DV 4/26/2021 22:55:03'!
OOStackContent subclass: #OONonEmptyStackContent
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OOEmptyStackContent stamp: 'DV 4/26/2021 22:55:04'!
OOStackContent subclass: #OOEmptyStackContent
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OOStackContent stamp: 'DV 4/26/2021 22:55:05'!
Object subclass: #OOStackContent
	instanceVariableNames: 'valuesStored'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OOStack stamp: 'DV 4/26/2021 22:55:05'!
Object subclass: #OOStack
	instanceVariableNames: 'content'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #SentenceFinderByPrefixTest stamp: 'DV 4/26/2021 22:55:06'!
TestCase subclass: #SentenceFinderByPrefixTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

!classRemoval: #OOStackTest stamp: 'DV 4/26/2021 22:55:06'!
TestCase subclass: #OOStackTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Stack-Exercise'!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/CuisImagen2/Stack-Exercise-Broken.st----!

----QUIT----(26 April 2021 23:13:02) CuisUniversity-4532.image priorSource: 16989045!

----STARTUP---- (2 May 2021 14:50:10) as /home/duerunner/UBA/Inge1/inge1-1c-2021/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/Parciales/ISW1-2020-2C-Parcial-Solucion.st----!

----STARTUP---- (3 May 2021 21:54:03) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/CUIS_PARCIAL/ISW1-2021-1C-1erParcial.st----!

!testRun: #RobotWarsTest #test01ShouldNotAddWeaponIfMaxWeaponWeightExceeded stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test02ShouldNotAddWeaponIfSpeedBelowZero stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test03ShouldHaveZeroWeightWhenNoWeaponsAdded stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test04ShouldAddWeightWhenAddingWeapon stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test05ShouldHaveZeroSpeedWhenNoWeaponsAdded stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test06ShouldAddSpeedImpactWhenAddingWeapons stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test07ClawReducesLifeOfAluminum3000By25 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test08ClawReducesLifeOfTankRoverBy5 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test09HSBlasterReducesLifeOfAluminum3000By5 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test10HSBlasterReducesLifeOfTankRoverBy50 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test11TurboLaserCannonReducesLifeOfAluminum3000By100 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test12TurboLaserCannonReducesLifeOfTankRoverBy100 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test13CanUseClawOnlyTwiceWhenAttackingAluminum3000 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test14CanUseClawOnlyOnceWhenAttackingTankRover stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test15AfterUsing5TimesHSBlasterAgainstAluminum3000RemovesItselfAndAddTurboLaserCannon stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test16AddsClawWhenAttakingTankRoverWithHSBlasterAndVictingLiveLessOrEqualTo50 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test17CanUseOnlyTurboLaserCannon10TimesWhenAttakingAluminum3000 stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

!testRun: #RobotWarsTest #test18CanUseOnlyTurboLaserCannon10TimesWhenAttakingTankRover stamp: 'dc\ 5/3/2021 21:54:30'!
PASSED!

----STARTUP---- (3 May 2021 22:01:12) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/Downloads/ISW1-2021-1C-1erParcial.st----!

!testRun: #RobotWarsTest #test01ShouldNotAddWeaponIfMaxWeaponWeightExceeded stamp: 'dv 5/3/2021 22:02:05'!
PASSED!

!testRun: #RobotWarsTest #test02ShouldNotAddWeaponIfSpeedBelowZero stamp: 'dv 5/3/2021 22:02:05'!
PASSED!

!testRun: #RobotWarsTest #test03ShouldHaveZeroWeightWhenNoWeaponsAdded stamp: 'dv 5/3/2021 22:02:05'!
PASSED!

!testRun: #RobotWarsTest #test04ShouldAddWeightWhenAddingWeapon stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test05ShouldHaveZeroSpeedWhenNoWeaponsAdded stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test06ShouldAddSpeedImpactWhenAddingWeapons stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test07ClawReducesLifeOfAluminum3000By25 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test08ClawReducesLifeOfTankRoverBy5 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test09HSBlasterReducesLifeOfAluminum3000By5 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test10HSBlasterReducesLifeOfTankRoverBy50 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test11TurboLaserCannonReducesLifeOfAluminum3000By100 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test12TurboLaserCannonReducesLifeOfTankRoverBy100 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test13CanUseClawOnlyTwiceWhenAttackingAluminum3000 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test14CanUseClawOnlyOnceWhenAttackingTankRover stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test15AfterUsing5TimesHSBlasterAgainstAluminum3000RemovesItselfAndAddTurboLaserCannon stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test16AddsClawWhenAttakingTankRoverWithHSBlasterAndVictingLiveLessOrEqualTo50 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test17CanUseOnlyTurboLaserCannon10TimesWhenAttakingAluminum3000 stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

!testRun: #RobotWarsTest #test18CanUseOnlyTurboLaserCannon10TimesWhenAttakingTankRover stamp: 'dv 5/3/2021 22:02:06'!
PASSED!

----QUIT----(4 May 2021 09:06:20) CuisUniversity-4532.image priorSource: 17007853!

----STARTUP---- (4 May 2021 19:03:02) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/Parciales/ISW1-2021-1C-1erParcial-11Resolucion.st----!

!classRemoval: #TurboLaserCannon stamp: 'dv 5/4/2021 19:05:24'!
Weapon subclass: #TurboLaserCannon
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #HSBlaster stamp: 'dv 5/4/2021 19:05:25'!
Weapon subclass: #HSBlaster
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #Claw stamp: 'dv 5/4/2021 19:05:26'!
Weapon subclass: #Claw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #Weapon stamp: 'dv 5/4/2021 19:05:26'!
Object subclass: #Weapon
	instanceVariableNames: 'usedTimes'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #TankRover stamp: 'dv 5/4/2021 19:05:27'!
Robot subclass: #TankRover
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #Aluminum3000 stamp: 'dv 5/4/2021 19:05:28'!
Robot subclass: #Aluminum3000
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #Robot stamp: 'dv 5/4/2021 19:05:28'!
Object subclass: #Robot
	instanceVariableNames: 'life weapons'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

!classRemoval: #RobotWarsTest stamp: 'dv 5/4/2021 19:05:29'!
TestCase subclass: #RobotWarsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2021-1C-1erParcial'!

----End fileIn of /home/duerunner/UBA/Inge1/inge1-1c-2021/Parciales/ISW1-2021-1C-1erParcial-11Resolucion.st----!

----QUIT----(4 May 2021 20:13:28) CuisUniversity-4532.image priorSource: 17033887!

----STARTUP---- (17 May 2021 19:57:44) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/UBA/Inge1/Portfolio-Ejercicio.st----!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:17:16'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 20:17:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:17:16'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 20:35:37' prior: 50865566!
balance

	^transactions sum: [ :aTransaction | (aTransaction isKindOf:Deposit) ifTrue:[aTransaction value] ifFalse:[(aTransaction value) negated ] ] ifEmpty: [ 0 ]! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 20:35:46' prior: 50865609!
balance

	^transactions sum: [ :aTransaction | (aTransaction isKindOf:Deposit) ifTrue:[aTransaction value] ifFalse:[(aTransaction value) negated ] ] ifEmpty: [ 0 ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 20:35:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 20:35:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 20:35:54'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 20:36:27' prior: 50865617!
balance

	^transactions sum: [ :aTransaction | aTransaction xxx ] ifEmpty: [ 0 ]! !
!Deposit methodsFor: 'nil' stamp: 'dv 5/17/2021 20:37:01'!
xxx
	self value! !
!Withdraw methodsFor: 'nil' stamp: 'dv 5/17/2021 20:37:24'!
xxx
	^self value negated ! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 20:37:33' prior: 50865683!
xxx
	^self value! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 20:37:38'!
PASSED!

Object subclass: #ReceptiveAccount
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:01:47'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:03:36'!
Object subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'balanceAfterTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:05:56'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'balanceAfterTransaction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: Deposit #xxx stamp: 'dv 5/17/2021 21:06:12'!
xxx
	^self value!

!methodRemoval: Withdraw #xxx stamp: 'dv 5/17/2021 21:06:22'!
xxx
	^self value negated !
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 21:06:57' prior: 50865678!
balance

	^transactions last remainingBalance! !

Object subclass: #AccountTransaction
	instanceVariableNames: 'remainingBalance'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:07:24'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'remainingBalance'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction methodsFor: 'nil' stamp: 'dv 5/17/2021 21:07:33'!
remainingBalance
	^remainingBalance ! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'dv 5/17/2021 21:09:21' prior: 50865464!
register: aValue on: account

	self subclassResponsibility ! !
!Deposit class methodsFor: 'instance creation' stamp: 'dv 5/17/2021 21:10:42' overrides: 50865786!
register:aValue on:account

	| transaction |
	
	transaction := self for: aValue with: account.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: Deposit class #register:on: stamp: 'dv 5/17/2021 21:11:04'!
register:aValue on:account

	| transaction |
	
	transaction := self for: aValue with: account.
	account register: transaction.
		
	^ transaction!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'dv 5/17/2021 21:11:18' prior: 50865786!
register:aValue on:account

	| transaction |
	
	transaction := self for: aValue with: account.
	account register: transaction.
		
	^ transaction! !

!methodRemoval: AccountTransaction #remainingBalance stamp: 'dv 5/17/2021 21:43:22'!
remainingBalance
	^remainingBalance !

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:44:18'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Deposit methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:45:19'!
xxx: yyy
	^ yyy + self value! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:45:43' prior: 50865831!
xxx: aBalance
	^ aBalance+ self value! !
!Withdraw methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:45:57'!
xxx: aBalance
	^ aBalance - self value! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 21:47:20' prior: 50865764!
balance

	^transactions inject: 0  into: [:transaction :sum| transaction xxx:sum  ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:47:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:47:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:47:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:47:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:47:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:47:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:47:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:47:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:47:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:47:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:47:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:47:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:47:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:47:40'!
ERROR!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:47:44'!
ERROR!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'dv 5/17/2021 21:48:06' prior: 50865807!
register:aValue on:account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
		
	^ transaction! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:48:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:48:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:48:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:48:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:48:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:48:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:48:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:48:22'!
ERROR!
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 21:48:55' prior: 50865844!
balance

	^transactions inject: 0  into: [:sum :transaction| transaction xxx:sum  ]! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:48:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:48:58'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/17/2021 21:50:15' prior: 50865944!
balance

	^transactions inject: 0  into: [:sum :transaction| transaction xxx:sum  ]! !

Object subclass: #Portfolio
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:50:55'!
Object subclass: #Portfolio
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #PortofolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortofolioTest category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:51:15'!
TestCase subclass: #PortofolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortofolioTest methodsFor: 'no messages' stamp: 'dv 5/17/2021 21:53:31'!
test01
	|aPortfolio|
	aPortfolio := 	Portfolio new.
	self assert: aPortfolio balance = 0 ! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/17/2021 21:53:34'!
ERROR!
!Portfolio methodsFor: 'nil' stamp: 'dv 5/17/2021 21:53:49'!
balance 
	^0! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:53:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:53:50'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:55:41'!
test02
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio add: anAccount.
	self assert: aPortfolio balance = 0 ! !

!testRun: #PortofolioTest #test02 stamp: 'dv 5/17/2021 21:55:44'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:56:00'!
add: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/17/2021 21:57:19'!
Object subclass: #Portfolio
	instanceVariableNames: 'transactions account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:57:17' prior: 50866058!
add: aReceptiveAccount 
	account := aReceptiveAccount ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:57:30' prior: 50866046!
test02
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio add: anAccount.
	self assert: aPortfolio balance = 100 ! !

!testRun: #PortofolioTest #test02 stamp: 'dv 5/17/2021 21:57:31'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:58:18' prior: 50866014!
balance 
	^account balance ! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/17/2021 21:58:21'!
ERROR!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:58:21'!
PASSED!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/17/2021 21:58:21'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 21:59:58' prior: 50866088!
balance 
	account isNil ifTrue: [^0].
	^account balance ! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/17/2021 21:59:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/17/2021 21:59:59'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 22:00:53'!
test03
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio add: anAccount.
	anotherPortfolio := 	Portfolio new.
	self assert: aPortfolio balance = 100 ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/17/2021 22:01:31' prior: 50866162!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio add: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 ! !

----QUIT----(18 May 2021 13:09:38) CuisUniversity-4532.image priorSource: 17078281!

----STARTUP---- (19 May 2021 18:07:30) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:09:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:09:35'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:12:35' prior: 50866076!
test02
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	self assert: aPortfolio balance = 100 ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:12:35' prior: 50866174!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:12:45'!
addAccount: aReceptiveAccount 
	account := aReceptiveAccount ! !

!methodRemoval: Portfolio #add: stamp: 'dv 5/19/2021 18:12:53'!
add: aReceptiveAccount 
	account := aReceptiveAccount !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:13:16'!
ztest03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 ! !

!methodRemoval: PortofolioTest #test03 stamp: 'dv 5/19/2021 18:13:28'!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 !

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:13:33'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:14:22'!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addPortfolio: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 ! !

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:14:30'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:14:36'!
addPortfolio: aReceptiveAccount 
	self shouldBeImplemented.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/19/2021 18:15:44'!
Object subclass: #Portfolio
	instanceVariableNames: 'transactions account portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:15:41' prior: 50866304!
addPortfolio: aPortfolio
	portfolios add aPortfolio! !
!Portfolio methodsFor: 'nil' stamp: 'dv 5/19/2021 18:17:32' overrides: 16896425!
initialize
	portfolios := OrderedCollection  new! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:17:47' prior: 50866317!
addPortfolio: aPortfolio
	portfolios add aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:17:53' prior: 50866327!
addPortfolio: aPortfolio
	portfolios add: aPortfolio! !

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:18:09'!
FAILURE!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:18:09'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:20:40' prior: 50866332!
addPortfolio: aPortfolio
	portfolios:= aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:20:54' prior: 50866322 overrides: 16896425!
initialize
	'''portfolios := OrderedCollection  new'''! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:22:39' prior: 50866126!
balance 
	account isNil ifTrue: [^0].
	portfolios isNil ifTrue: [^0] ifFalse:[^portfolios balance ].
	^account balance! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:22:40'!
FAILURE!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:22:40'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:22:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:22:40'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:24:03' prior: 50866353!
balance
	portfolios isNil ifFalse:[^portfolios balance ].
	account isNil ifTrue: [^0].
	^account balance! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:24:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:24:04'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:25:26'!
test04
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:26:15' prior: 50866434!
test04
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: aPortfolio balance equals: 100
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:26:28' prior: 50866289!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addPortfolio: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance equals: 100 ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:28:39' prior: 50866463!
test03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	
	anotherPortfolio addAccount: anotherAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: aPortfolio balance equals: 100 ! !

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:28:39'!
FAILURE!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:29:25' prior: 50866477!
test03
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	
	anotherPortfolio := 	Portfolio new.

	
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: aPortfolio balance equals: 100 ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:29:38' prior: 50866495!
test03
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: aPortfolio balance equals: 100 ! !

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:29:40'!
PASSED!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:29:40'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:29:40'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:29:40'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:29:40'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:29:59' prior: 50866448!
test04
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: aPortfolio balance equals: 200
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:30:08' prior: 50866229!
test02
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	self assert: aPortfolio balance equals: 100 ! !

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:30:15'!
FAILURE!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:30:55' prior: 50866535!
test04
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:31:07' prior: 50866509!
test03
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:31:12'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:31:47' prior: 50866252!
addAccount: aReceptiveAccount 
	account add: aReceptiveAccount ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:32:08' prior: 50866348 overrides: 16896425!
initialize
	account = OrderedCollection new.
	'''portfolios := OrderedCollection  new'''! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/19/2021 18:32:18'!
Object subclass: #Portfolio
	instanceVariableNames: 'transactions accounts portfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:32:18' prior: 50866594!
addAccount: aReceptiveAccount 
	accounts add: aReceptiveAccount ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:32:18' prior: 50866600 overrides: 16896425!
initialize
	accounts = OrderedCollection new.
	'''portfolios := OrderedCollection  new'''! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:32:18' prior: 50866394!
balance
	portfolios isNil ifFalse:[^portfolios balance ].
	accounts isNil ifTrue: [^0].
	^accounts balance! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:34:35' prior: 50866626!
balance
	portfolios isNil ifFalse:[^portfolios balance ].
	accounts isNil ifTrue: [^0].
	^accounts sum: [:account| account ] ifEmpty:[^0]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:34:39' prior: 50866633!
balance
	portfolios isNil ifFalse:[^portfolios balance ].
	accounts isNil ifTrue: [^0].
	^accounts sum: [:account| account] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:34:43'!
ERROR!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:34:43'!
ERROR!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:34:43'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:34:43'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:34:47'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:35:12' prior: 50866620 overrides: 16896425!
initialize
	accounts := OrderedCollection new.
	'''portfolios := OrderedCollection  new'''! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:35:14'!
FAILURE!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:35:14'!
FAILURE!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:35:14'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:35:14'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:35:16'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:35:35' prior: 50866641!
balance
	portfolios isNil ifFalse:[^portfolios balance ].
	accounts isNil ifTrue: [^0].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:35:42'!
PASSED!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:35:44'!
PASSED!

!methodRemoval: PortofolioTest #ztest03 stamp: 'dv 5/19/2021 18:36:01'!
ztest03
	|aPortfolio anAccount anotherPortfolio anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	self assert: aPortfolio balance = 100 !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:37:12'!
test05
	|aPortfolio anAccount anotherAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:38:41' prior: 50866789!
test05
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	parentPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:40:28' prior: 50866806!
test05
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:40:32'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:40:48' prior: 50866687 overrides: 16896425!
initialize
	accounts := OrderedCollection new.
	portfolios := OrderedCollection  new! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:40:55' prior: 50866342!
addPortfolio: aPortfolio
	portfolios add: aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:42:36' prior: 50866731!
balance
	portfolios isEmpty ifFalse:[^portfolios sum: [:portfolio| portfolio balance] ifEmpty:[^0]].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:42:56' prior: 50866861!
balance
	portfolios isEmpty ifFalse:[^portfolios sum: [:portfolio| portfolio balance]].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:43:08'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:43:08'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:43:08'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:43:08'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:43:08'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:44:56'!
test06
	|aPortfolio anAccount anotherAccount parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAccount: anotherAccount .
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 250 equals: parentPortfolio balance
! !

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:44:59'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:49:16' prior: 50866869!
balance
	(portfolios isEmpty not and:[accounts isEmpty not]) ifTrue: [portfolios sum: [:portfolio| portfolio balance]+(accounts sum: [:account| account balance])].
	portfolios isEmpty ifFalse:[^portfolios sum: [:portfolio| portfolio balance]].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:49:19'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:49:19'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:49:19'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:49:51' prior: 50866909!
balance
	(portfolios isEmpty not and:[accounts isEmpty not]) ifTrue: [(portfolios sum: [:portfolio| portfolio balance])+(accounts sum: [:account| account balance])].
	portfolios isEmpty ifFalse:[^portfolios sum: [:portfolio| portfolio balance]].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:49:52'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:49:52'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:49:52'!
FAILURE!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:50:37'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:50:37'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:50:37'!
FAILURE!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:50:53'!
FAILURE!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:51:29'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:51:29'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:51:29'!
FAILURE!

portfolios sum: [:portfolio| portfolio balance]!

accounts sum: [:account| account balance]!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:52:33' prior: 50866965!
balance
	(portfolios isEmpty not and:[accounts isEmpty not]) ifTrue: [^(portfolios sum: [:portfolio| portfolio balance])+(accounts sum: [:account| account balance])].
	portfolios isEmpty ifFalse:[^portfolios sum: [:portfolio| portfolio balance]].
	^accounts sum: [:account| account balance] ifEmpty:[^0]! !

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:52:37'!
PASSED!

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:52:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:52:40'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:53:35' prior: 50867112!
balance

	^(portfolios sum: [:portfolio| portfolio balance] ifEmpty:[^0])+(accounts sum: [:account| account balance]ifEmpty:[^0]) ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 18:53:51' prior: 50867168!
balance

	^(portfolios sum: [:portfolio| portfolio balance] ifEmpty:[0])+(accounts sum: [:account| account balance]ifEmpty:[0]) ! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 18:53:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 18:53:54'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'dv 5/19/2021 18:59:28' prior: 50865976!
balance

	^transactions inject: 0  into: [:current :transaction| transaction includeToBalance: current  ]! !
!AccountTransaction methodsFor: 'nil' stamp: 'dv 5/19/2021 19:00:07'!
includeToBalance:aCurrentBalance
	self subclassResponsibility ! !
!Deposit methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:00:57' overrides: 50867230!
includeToBalance: aCurrentBalance
	^ aCurrentBalance+ self value! !

!methodRemoval: Deposit #xxx: stamp: 'dv 5/19/2021 19:01:02'!
xxx: aBalance
	^ aBalance+ self value!

!methodRemoval: Withdraw #xxx: stamp: 'dv 5/19/2021 19:01:31'!
xxx: aBalance
	^ aBalance - self value!
!Withdraw methodsFor: 'private - operations' stamp: 'dv 5/19/2021 19:01:39' overrides: 50867230!
includeToBalance: aCurrentBalance
	^ aCurrentBalance - self value! !

!testRun: #PortofolioTest #test01 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #PortofolioTest #test02 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #PortofolioTest #test03 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #PortofolioTest #test04 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #PortofolioTest #test05 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #PortofolioTest #test06 stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:01:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:01:41'!
PASSED!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:06:28'!
test01EmptyPortfolioHasBalanceZero
	|aPortfolio|
	aPortfolio := 	Portfolio new.
	self assert: aPortfolio balance = 0 ! !

!methodRemoval: PortofolioTest #test01 stamp: 'dv 5/19/2021 19:06:28'!
test01
	|aPortfolio|
	aPortfolio := 	Portfolio new.
	self assert: aPortfolio balance = 0 !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:07:24'!
test02APortfolioWIthAccountBalanceIsEqualToAccountBalance
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	self assert: aPortfolio balance equals: 100 ! !

!methodRemoval: PortofolioTest #test02 stamp: 'dv 5/19/2021 19:07:24'!
test02
	|aPortfolio anAccount|
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	self assert: aPortfolio balance equals: 100 !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:08:56'!
test03APortfolioWithAcountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !

!methodRemoval: PortofolioTest #test03 stamp: 'dv 5/19/2021 19:08:56'!
test03
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:09:05'!
test03APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !

!methodRemoval: PortofolioTest #test03APortfolioWithAcountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:09:05'!
test03APortfolioWithAcountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:12:30'!
test04APortfolioWithMoreThanOneAccountBlanceIsEqualToSumOfAccountsBalance
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
! !

!methodRemoval: PortofolioTest #test04 stamp: 'dv 5/19/2021 19:12:30'!
test04
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:12:44'!
test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
! !

!methodRemoval: PortofolioTest #test04APortfolioWithMoreThanOneAccountBlanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:12:44'!
test04APortfolioWithMoreThanOneAccountBlanceIsEqualToSumOfAccountsBalance
	|aPortfolio anAccount anotherAccount |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	aPortfolio addAccount: anotherAccount.
	
	self assert: 200 equals: aPortfolio balance
!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:14:25'!
test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !

!methodRemoval: PortofolioTest #test03APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:14:25'!
test03APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAccount: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:14:34'!
test05APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !

!methodRemoval: PortofolioTest #test05 stamp: 'dv 5/19/2021 19:14:34'!
test05
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:15:53'!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !

!methodRemoval: PortofolioTest #test05APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:15:53'!
test05APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
!
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:16:37'!
test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio anAccount anotherAccount parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAccount: anotherAccount .
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 250 equals: parentPortfolio balance
! !

!methodRemoval: PortofolioTest #test06 stamp: 'dv 5/19/2021 19:16:37'!
test06
	|aPortfolio anAccount anotherAccount parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAccount: anotherAccount .
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 250 equals: parentPortfolio balance
!
!PortofolioTest methodsFor: 'nil' stamp: 'dv 5/19/2021 19:29:36'!
createPortfolioWith: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAccount: anAccount
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:31:35' prior: 50867613!
createPortfolioWith: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.
	
	
	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: 150 on: anAccount.
		aPortfolio addAccount: anAccount. 
	].! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:32:05' prior: 50867624!
createPortfolioWith: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.

	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: amount on: anAccount.
		aPortfolio addAccount: anAccount. 
	].
	^ aPortfolio ! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/19/2021 19:35:09' prior: 50867306!
test02APortfolioWIthAccountBalanceIsEqualToAccountBalance
	|aPortfolio |
	aPortfolio := 	self createPortfolioWith: 1 andBalanceForAccount: 100.
	self assert: aPortfolio balance equals: 100 ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:36:01'!
createPortfolioWithNumberOfAccounts: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.

	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: amount on: anAccount.
		aPortfolio addAccount: anAccount. 
	].
	^ aPortfolio ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:36:01' prior: 50867649!
test02APortfolioWIthAccountBalanceIsEqualToAccountBalance
	|aPortfolio |
	aPortfolio := 	self createPortfolioWithNumberOfAccounts: 1 andBalanceForAccount: 100.
	self assert: aPortfolio balance equals: 100 ! !

!methodRemoval: PortofolioTest #createPortfolioWith:andBalanceForAccount: stamp: 'dv 5/19/2021 19:36:01'!
createPortfolioWith: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.

	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: amount on: anAccount.
		aPortfolio addAccount: anAccount. 
	].
	^ aPortfolio !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/19/2021 19:37:40' prior: 50867418!
test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance
	|aPortfolio |
	aPortfolio := 	self createPortfolioWithNumberOfAccounts: 2 andBalanceForAccount: 100.	
	self assert: 200 equals: aPortfolio balance
! !

accounts sum: [:account| account balance]ifEmpty:[0]!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:38:49'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:38:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:38:52'!
PASSED!
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/19/2021 19:43:16' prior: 50867576!
test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio parentPortfolio |

	parentPortfolio := 	self createPortfolioWithNumberOfAccounts:  1 andBalanceForAccount:100. 
	aPortfolio := self createPortfolioWithNumberOfAccounts: 1  andBalanceForAccount: 150.

	parentPortfolio  addPortfolio: aPortfolio.

	self assert: 250 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/19/2021 19:44:30' prior: 50867766!
test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio parentPortfolio |

	parentPortfolio := 	self createPortfolioWithNumberOfAccounts:  1 andBalanceForAccount:100. 
	aPortfolio := self createPortfolioWithNumberOfAccounts: 1  andBalanceForAccount: 150.

	parentPortfolio  addPortfolio: aPortfolio.
	self assert: 250 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:49:45'!
test07
	| aPortfolio |
	aPortfolio = Portfolio new.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:50:12' prior: 50867797!
test07
	| aPortfolio |
	aPortfolio := Portfolio new.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:50:17'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:50:25'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:50:39' prior: 50867815!
hasRegistered: aDeposit 
	^ False ! !

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:50:42'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:51:39' prior: 50867820!
hasRegistered: aDeposit 
	^ false ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:51:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:51:43'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:52:43'!
test08
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:52:53' prior: 50867885!
test08
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:52:53'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:55:20' prior: 50867827!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^accounts first hasRegistered: aDeposit ].
	^ false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:55:41' prior: 50867906!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^true].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:55:44'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:55:44'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:55:44'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:56:18' prior: 50867913!
hasRegistered: aDeposit 
	accounts isEmpty not ifTrue: [^true].
	^false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:19'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:56:19'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:19'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:20'!
FAILURE!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:20'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:56:20'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:20'!
FAILURE!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:56:20'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 19:56:46' prior: 50867977!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^true].
	^ false! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:57:07' prior: 50867894!
test08
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:57:23'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:57:23'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:59:02'!
test09
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 19:59:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 19:59:05'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:59:14' prior: 50868126!
test09
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 19:59:15'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:00:06' prior: 50868105!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^accounts first hasRegistered: aDeposit ].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:00:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:00:08'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:01:35' prior: 50868199!
test09
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	Withdraw register: 50 on: anAccount.

	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount )).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:01:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:01:38'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:02:30' prior: 50868278!
test09
	| aPortfolio anAccount anotherAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 50 on: anotherAccount.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:02:35'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:05:19' prior: 50868213!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [true] ifNone:[false] ].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:05:22'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:05:22'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:05:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:05:22'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:06:04' prior: 50868368!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [^true] ifNone:[^false]].
	^ false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:06:20' prior: 50868435!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [^accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [true] ifNone:[false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:06:20'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:06:20'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:06:20'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:06:41'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:06:41'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:06:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:06:41'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:06:52' prior: 50868443!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:06:55'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:06:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:06:55'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:06:57'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:07:55' prior: 50868568!
hasRegistered: aDeposit 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:07:58'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:08:00'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:08:00'!
FAILURE!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:08:00'!
FAILURE!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:08:48' prior: 50868351!
test09
	| aPortfolio anAccount anotherAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:08:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:08:50'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:01:35' prior: 50868709!
test09
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	Withdraw register: 50 on: anAccount.

	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount )).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 19:59:14' prior: 50868786!
test09
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:11:10'!
test10
	| aPortfolio anAccount anotherAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:11:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:11:11'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:12:27'!
test11
	| aPortfolio anAccount anotherPortFolio |
	aPortfolio := Portfolio new.
	anotherPortFolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:14:01' prior: 50868889!
test11
	| aPortfolio anAccount anotherPortFolio anotherPorfolio anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPorfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:16:07' prior: 50868901!
test11
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:16:10'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:16:50' prior: 50868637!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [^true].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:16:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:16:51'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:17:22'!
test12
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:17:22'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:19:50' prior: 50868930!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [^true].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:19:50'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:19:50'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:19:50'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:20:24' prior: 50869018!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [^portfolios first hasRegistered: aDeposit ].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:20:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:20:25'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:21:17'!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anotherPortfolio := Portfolio new.
	
	
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:23:31' prior: 50869171!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anAccount.
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio := Portfolio new.
	aPortfolio addAccount: anAccount.
	aPortfolio addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:27:21' prior: 50869189!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:27:35'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:28:45' prior: 50869095!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [^portfolios detect:[:anAccount| anAccount hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone: [^false]].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:28:47'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:28:47'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:28:47'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:28:57' prior: 50869236!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [portfolios detect:[:anAccount| anAccount hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone: [^false]].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:28:59'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:28:59'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:28:59'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:29:57' prior: 50869319!
hasRegistered: aDeposit 
	portfolios ifNotEmpty: [portfolios detect:[:portfolio| portfolio hasRegistered: aDeposit] ifFound: [:portfolio| ^true] ifNone: [^false]].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aDeposit] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:30:12'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:30:12'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:30:12'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:30:36'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:30:36'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:30:36'!
FAILURE!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:32:13' prior: 50869211!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:32:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:32:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:32:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:32:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:32:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:32:14'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:32:13' prior: 50869555!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:33:43'!
test14
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.



	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:33:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:33:48'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:36:21' prior: 50869671!
test14
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:36:21'!
PASSED!

portfolio hasRegistered: aDeposit!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:41:44' prior: 50869402!
hasRegistered: aTransaction 
	portfolios ifNotEmpty: [portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] ifFound: [:portfolio| ^true] ifNone: [^false]].
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] ifFound: [:account| ^true] ifNone:[^false]].
	^ false! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:42:30' prior: 50869763!
test14
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).! !

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:42:32'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:43:33' prior: 50869830!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] ifFound: [:account| ^true] ifNone:[^false]].
	portfolios ifNotEmpty: [portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] ifFound: [:portfolio| ^true] ifNone: [^false]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:43:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:43:34'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 20:44:25'!
test15
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 20:44:27'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:47:15' prior: 50869866!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[portfolios 
			ifNotEmpty: [portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
				ifFound: [:portfolio| ^true] 
				ifNone: [^false]]]].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:47:21'!
FAILURE!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:47:21'!
FAILURE!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:47:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:47:21'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:49:21' prior: 50869971!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
		portfolios ifNotEmpty: ([portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
				ifFound: [:portfolio| ^true] 
				ifNone: [^false]
				])
			]
		].
	^ false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:49:53' prior: 50870057!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
		portfolios ifNotEmpty: ([portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
				ifFound: [:portfolio| ^true] 
				ifNone: [^false]
				])
			]
		].
			portfolios ifNotEmpty: [portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
				ifFound: [:portfolio| ^true] 
				ifNone: [^false]
				].
	^ false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 20:49:54'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:59:01' prior: 50870071!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
			self xxx
			]
		].
	^ self xxx. ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:59:20'!
xxx: aTransaction
	portfolios ifNotEmpty: ([portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
				ifFound: [:portfolio| ^true] 
				ifNone: [^false]
				])! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:59:36' prior: 50870136!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
			self xxx:aTransaction 
			]
		].
	^ self xxx:aTransaction.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:59:43'!
ERROR!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:59:43'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:59:43'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:59:43'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:59:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:59:43'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 20:59:55' prior: 50870154!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
			^self xxx:aTransaction 
			]
		].
	^self xxx:aTransaction.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 20:59:56'!
ERROR!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 20:59:56'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 20:59:56'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 20:59:56'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 20:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 20:59:56'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:01:03' prior: 50870145!
xxx: aTransaction
	portfolios ifNotEmpty: [
		portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
		ifFound: [:portfolio| ^true] 
		ifNone: [^false]	]! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:01:14'!
ERROR!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:01:14'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:01:14'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:01:14'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:01:14'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:01:38'!
ERROR!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:01:45'!
ERROR!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:01:53'!
ERROR!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:01:59'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:03:01' prior: 50870237!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 
		ifFound: [:account| ^true] 
		ifNone:[
			^self xxx:aTransaction 
			]
		].
	self xxx:aTransaction.
	^false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:03:01'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:03:01'!
FAILURE!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:03:01'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:03:01'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:03:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:03:01'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:06:28' prior: 50870410!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 		ifFound: [:account| ^true]]. 

	self xxx:aTransaction.
	^false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:06:53' prior: 50870493!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [accounts detect: [:account| account hasRegistered: aTransaction] 		ifFound: [:account| ^true]]. 

	self xxx:aTransaction.
	^false! !

!methodRemoval: Portfolio #xxx: stamp: 'dv 5/19/2021 21:07:04'!
xxx: aTransaction
	portfolios ifNotEmpty: [
		portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
		ifFound: [:portfolio| ^true] 
		ifNone: [^false]	]!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:07:32' prior: 50870502!
hasRegistered: aTransaction 
	accounts ifNotEmpty: [
		accounts detect: [:account| account hasRegistered: aTransaction] 		
		ifFound: [:account| ^true]]. 
	portfolios ifNotEmpty: [
		portfolios detect:[:portfolio| portfolio hasRegistered: aTransaction] 
		ifFound: [:portfolio| ^true]].
	^false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:07:36'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:07:36'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:08:14'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:08:14'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:08:25'!
ERROR!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:08:39'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:09:47' prior: 50870519!
hasRegistered: aTransaction 
	portfolios do: [:portfolio | (portfolio hasRegistered: aTransaction) ifTrue: [^true]].
	accounts do: [:account | (account hasRegistered: aTransaction) ifTrue: [^true]].
	^false! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test07 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test08 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:09:57'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:11:38'!
test07AnEmptyPortfolioHasNotRegisteredATransaction
	| aPortfolio |
	aPortfolio := Portfolio new.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!methodRemoval: PortofolioTest #test07 stamp: 'dv 5/19/2021 21:11:38'!
test07
	| aPortfolio |
	aPortfolio := Portfolio new.
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:12:51'!
test08APortfolioWithAccountHasRegisteredTransactionInAccount
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!methodRemoval: PortofolioTest #test08 stamp: 'dv 5/19/2021 21:12:51'!
test08
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:13:38'!
test08APortfolioWithAccountHasRegisteredAccountsTransactions
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!methodRemoval: PortofolioTest #test08APortfolioWithAccountHasRegisteredTransactionInAccount stamp: 'dv 5/19/2021 21:13:38'!
test08APortfolioWithAccountHasRegisteredTransactionInAccount
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:14:07'!
test08APortfolioWithAccountHasRegisteredAccountTransactions
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!methodRemoval: PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountsTransactions stamp: 'dv 5/19/2021 21:14:07'!
test08APortfolioWithAccountHasRegisteredAccountsTransactions
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:16:19' prior: 50868799!
test09
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	aTransaction := Deposit register: 100 on: ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: aTransaction).! !

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:16:23'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:16:25'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:16:26'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test09 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test10 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:16:27'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:17:30'!
test09APortfolioWithAccountHasNotRegisteredAnotherTransaction
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	aTransaction := Deposit register: 100 on: ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: aTransaction).! !

!methodRemoval: PortofolioTest #test09 stamp: 'dv 5/19/2021 21:17:30'!
test09
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	aTransaction := Deposit register: 100 on: ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: aTransaction).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:18:08' prior: 50868810!
test10
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:19:17'!
test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).! !

!methodRemoval: PortofolioTest #test10 stamp: 'dv 5/19/2021 21:19:17'!
test10
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:19:48' prior: 50871163!
test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAccount: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAccount: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).
	self assert: (aPortfolio hasRegistered: (Deposit register: 50 on: anAccount)).! !

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test11 stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test12 stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:19:50'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:20:29'!
test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !

!methodRemoval: PortofolioTest #test11 stamp: 'dv 5/19/2021 21:20:29'!
test11
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:21:50'!
test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !

!methodRemoval: PortofolioTest #test12 stamp: 'dv 5/19/2021 21:21:50'!
test12
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:22:26' prior: 50869648!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test13 stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:22:28'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:22:28'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:23:00'!
test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !

!methodRemoval: PortofolioTest #test13 stamp: 'dv 5/19/2021 21:23:00'!
test13
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:23:49' prior: 50869844!
test14
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !

!methodRemoval: PortofolioTest #test15 stamp: 'dv 5/19/2021 21:23:54'!
test15
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:23:58'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:23:58'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:23:58'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:23:58'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:23:58'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #PortofolioTest #test14 stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:23:59'!
PASSED!
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/19/2021 21:24:47'!
test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !

!methodRemoval: PortofolioTest #test14 stamp: 'dv 5/19/2021 21:24:47'!
test14
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAccount: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAccount: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:27:26'!
test15
	| aPortafolio aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortafolio transactions isEmpty.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:27:38' prior: 50871667!
test15
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.! !

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:27:43'!
ERROR!
!Portfolio methodsFor: 'nil' stamp: 'dv 5/19/2021 21:28:06'!
transactions
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:28:19'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:28:19'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:28:52' prior: 50871674!
test15
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	
	self assert: aPortfolio transactions isEmpty.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:27:26' prior: 50871748!
test15
	| aPortafolio aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortafolio transactions isEmpty.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:30:17'!
test16
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	self deny: aPortfolio transactions isEmpty.! !

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:30:19'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:30:44' prior: 50871682!
transactions
	^ accounts first transactions 
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:31:10'!
ERROR!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:31:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:31:10'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:32:08' prior: 50871775!
transactions
	accounts ifNotEmpty: [^accounts ]
	^ OrderedCollection  new
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:32:11' prior: 50871869!
transactions
	accounts ifNotEmpty: [^accounts ].
	^ OrderedCollection  new
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:32:13' prior: 50871875!
transactions
	accounts ifNotEmpty: [^accounts].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:32:16'!
ERROR!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:32:16'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:32:16'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:32:28'!
ERROR!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:32:30'!
ERROR!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:32:53'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:33:20' prior: 50871881!
transactions
	
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:33:21'!
ERROR!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:33:21'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:33:21'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:28:06' prior: 50871983!
transactions
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:33:44'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:33:44'!
ERROR!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:33:44'!
FAILURE!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:33:47'!
ERROR!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:34:29' prior: 50871756!
test15
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.! !

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:34:42'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:32:13' prior: 50872077!
transactions
	accounts ifNotEmpty: [^accounts].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:35:03'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:35:03'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:35:03'!
FAILURE!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:35:12'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:35:43' prior: 50871763!
test16
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self deny: aPortfolio transactions isEmpty.! !

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:35:48'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:36:46'!
test17
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aTransaction equals: aPortfolio transactions.! !

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:36:50'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:37:13' prior: 50872156!
transactions
	accounts ifNotEmpty: [^accounts first transactions].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:37:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:37:15'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:37:15'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:38:13' prior: 50872358!
test17
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:38:14'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:38:43'!
test18
	| aPortfolio anAccount aTransaction anotherAccount |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:38:57' prior: 50872579!
test18
	| aPortfolio anAccount aTransaction anotherAccount |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:39:08' prior: 50872595!
test18
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Deposit register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:39:21' prior: 50872612!
test18
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Deposit register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 21:39:24'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:39:47' prior: 50872630!
test18
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:45:08' prior: 50872372!
transactions
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:45:13'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:45:14'!
PASSED!

!methodRemoval: PortofolioTest #test16 stamp: 'dv 5/19/2021 21:46:50'!
test16
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self deny: aPortfolio transactions isEmpty.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:47:03'!
test16
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test17 stamp: 'dv 5/19/2021 21:47:03'!
test17
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:47:12'!
test17
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test18 stamp: 'dv 5/19/2021 21:47:12'!
test18
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:49:03'!
test18
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:49:26' prior: 50872845!
test18
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 21:49:31'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:50:28'!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test18 stamp: 'dv 5/19/2021 21:53:00'!
test18
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:53:51' prior: 50872672!
transactions
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios first transactions.
	^ OrderedCollection  new
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:54:41' prior: 50872910!
transactions
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios ifNotEmpty: [^portfolios first transactions.]
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:54:43'!
ERROR!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 21:54:43'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:54:43'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 21:55:24' prior: 50872921!
transactions
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios ifNotEmpty: [^portfolios first transactions.].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:55:27'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 21:55:27'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:55:35'!
test18
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 21:55:37'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:55:54' prior: 50872881!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	
	
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:56:30' prior: 50873245!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	
	
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 21:59:03' prior: 50873261!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:00:13' prior: 50873278!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anAccount.
	anotherTransaction := Withdraw register: 100 on: anAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:00:41' prior: 50873297!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherPortfolio addAccount: anotherAccount.
	anotherTransaction := Withdraw register: 100 on: anAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:00:45'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:01:34' prior: 50873026!
transactions
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios ifNotEmpty: [^portfolios inject: (OrderedCollection new) into: [:AccumulatedTransactions :portfolio| AccumulatedTransactions, portfolio transactions]].
	^ OrderedCollection  new
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:01:35'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:01:35'!
FAILURE!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:01:35'!
FAILURE!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:01:47'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:02:38' prior: 50873322!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anAccount.
	anotherPortfolio addAccount: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:02:39'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:03:49'!
test20
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:03:52'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:04:34' prior: 50873565!
test20
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:04:41' prior: 50873440!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:04:49'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:05:00'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:06:06' prior: 50873663!
test20
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:06:06'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:06:12'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:07:02' prior: 50873916!
test20
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addAccount: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:07:06'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:09:07' prior: 50873350!
transactions
	| allTransactions |
	allTransactions := OrderedCollection new.
	accounts ifNotEmpty: [^accounts inject: (OrderedCollection new) into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios ifNotEmpty: [^portfolios inject: (OrderedCollection new) into: [:AccumulatedTransactions :portfolio| AccumulatedTransactions, portfolio transactions]].
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:09:27' prior: 50874168!
transactions
	| allTransactions |
	allTransactions := OrderedCollection new.
	accounts ifNotEmpty: [^accounts inject: allTransactions into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions]].
	portfolios ifNotEmpty: [^portfolios inject: allTransactions into: [:AccumulatedTransactions :portfolio| AccumulatedTransactions, portfolio transactions]].
	! !

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:09:30'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:10:13' prior: 50874184!
transactions
	| allTransactions |
	allTransactions := OrderedCollection new.
	accounts inject: allTransactions into: [:AccumulatedTransactions :account| AccumulatedTransactions , account transactions].
	portfolios inject: allTransactions into: [:AccumulatedTransactions :portfolio| AccumulatedTransactions, portfolio transactions].
	^ allTransactions 
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:10:16'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:10:16'!
FAILURE!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:10:16'!
FAILURE!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:10:16'!
FAILURE!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:10:16'!
FAILURE!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:10:16'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:12:57'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:12:57'!
FAILURE!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:12:57'!
FAILURE!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:12:57'!
FAILURE!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:12:57'!
FAILURE!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:12:58'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:12:58'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:13:05'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:15:30' prior: 50874202!
transactions
	| allTransactions |
	allTransactions := OrderedCollection new.
	accounts inject: allTransactions into: [:AccumulatedTransactions :account| AccumulatedTransactions addAll: account transactions].
	portfolios inject: allTransactions into: [:AccumulatedTransactions :portfolio| AccumulatedTransactions addAll: portfolio transactions].
	^ allTransactions 
	! !

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:15:33'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:15:35'!
FAILURE!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:15:35'!
FAILURE!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:15:35'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:15:42'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:15:42'!
FAILURE!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:15:42'!
FAILURE!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:15:44'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:19:49' prior: 50874390!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	accounts do: [ :account| accumulatedTransactions addAll: account transactions].
	portfolios do: [ :portfolio| accumulatedTransactions addAll: portfolio transactions].
	^ accumulatedTransactions 
	! !

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:19:50'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:19:52'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test15 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test16 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test17 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test18 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test19 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #PortofolioTest #test20 stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:20:00'!
PASSED!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:20:25'!
test15EmptyPortfolioHasNoTransactions
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.! !

!methodRemoval: PortofolioTest #test15 stamp: 'dv 5/19/2021 22:20:25'!
test15
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:21:03'!
test16APortfolioWithAccountHasAccountTransactions
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test16 stamp: 'dv 5/19/2021 22:21:03'!
test16
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:21:35'!
test17APortfolioWithAccountsHasAccountsTransactions
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test17 stamp: 'dv 5/19/2021 22:21:35'!
test17
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:22:00'!
test15EmptyPortfolioTransactionsIsEmpty
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.! !

!methodRemoval: PortofolioTest #test15EmptyPortfolioHasNoTransactions stamp: 'dv 5/19/2021 22:22:00'!
test15EmptyPortfolioHasNoTransactions
	| aPortfolio |
	aPortfolio := Portfolio new.
	self assert: aPortfolio transactions isEmpty.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:22:16'!
test16APortfolioWithAccountTransactionsIncludesAccountTransactions
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test16APortfolioWithAccountHasAccountTransactions stamp: 'dv 5/19/2021 22:22:16'!
test16APortfolioWithAccountHasAccountTransactions
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:22:37'!
test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test17APortfolioWithAccountsHasAccountsTransactions stamp: 'dv 5/19/2021 22:22:37'!
test17APortfolioWithAccountsHasAccountsTransactions
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAccount: anAccount.
	aPortfolio  addAccount: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:23:20'!
test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !

!methodRemoval: PortofolioTest #test18 stamp: 'dv 5/19/2021 22:23:20'!
test18
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAccount: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:23:53'!
test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!methodRemoval: PortofolioTest #test19 stamp: 'dv 5/19/2021 22:23:53'!
test19
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAccount: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:25:07'!
test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addAccount: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !

!methodRemoval: PortofolioTest #test20 stamp: 'dv 5/19/2021 22:25:07'!
test20
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAccount: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addAccount: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:31:48'!
test21
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAccount: anAccount .
	
	self
		should: [aPortfolio  addAccount: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!Portfolio class methodsFor: 'error messages' stamp: 'dv 5/19/2021 22:32:33'!
cannotAddDuplicatedAccount
	^'Cannot Add Duplicated Account'! !

!testRun: #PortofolioTest #test21 stamp: 'dv 5/19/2021 22:32:46'!
FAILURE!
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/19/2021 22:32:58' prior: 50875115!
test21
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAccount: anAccount .
	
	self
		should: [aPortfolio addAccount: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:36:00' prior: 50866614!
addAccount: aReceptiveAccount 
	(accounts includes: aReceptiveAccount) ifTrue:[self error: self class cannotAddDuplicatedAccount]. 
	accounts add: aReceptiveAccount ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/19/2021 22:36:06'!
PASSED!
!PortofolioTest methodsFor: 'tests - addPortfolios' stamp: 'dv 5/19/2021 22:37:30'!
test22 
	! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:38:28' prior: 50875267!
test22
	| aPortfolio anAccount anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAccount: anAccount .
	
	self
		should: [aPortfolio addAccount: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:39:28' prior: 50875271!
test22
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [aPortfolio addPortfolio: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedPortfolio.! !
!Portfolio class methodsFor: 'error messages' stamp: 'dv 5/19/2021 22:39:52'!
cannotAddDuplicatedPprtfolio
	^'Cannot Add Duplicated Portfolio'! !

!testRun: #PortofolioTest #test22 stamp: 'dv 5/19/2021 22:40:01'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:41:00' prior: 50866856!
addPortfolio: aPortfolio
	(portfolios includes: aPortfolio) ifTrue: [self error: self class cannotAddDuplicatedPprtfolio].
	portfolios add: aPortfolio! !
!Portfolio class methodsFor: 'error messages' stamp: 'dv 5/19/2021 22:41:28'!
cannotAddDuplicatedPortfolio
	^'Cannot Add Duplicated Portfolio'! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/19/2021 22:41:28' prior: 50875303!
addPortfolio: aPortfolio
	(portfolios includes: aPortfolio) ifTrue: [self error: self class cannotAddDuplicatedPortfolio].
	portfolios add: aPortfolio! !

!methodRemoval: Portfolio class #cannotAddDuplicatedPprtfolio stamp: 'dv 5/19/2021 22:41:28'!
cannotAddDuplicatedPprtfolio
	^'Cannot Add Duplicated Portfolio'!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/19/2021 22:41:41'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/19/2021 22:41:41'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:43:20'!
test23
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [aPortfolio addPortfolio: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedPortfolio.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:44:28' prior: 50875418!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	aPortfolio  addAccount: anAccount.
	
	self
		should: [aPortfolio addPortfolio: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:45:28' prior: 50875431!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !

!testRun: #PortofolioTest #test23 stamp: 'dv 5/19/2021 22:45:30'!
FAILURE!

----QUIT----(19 May 2021 22:55:25) CuisUniversity-4532.image priorSource: 17105151!

----STARTUP---- (20 May 2021 19:57:53) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!

!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (25 to: 41)
		declaredAt: (25 to: 41)) new ] valueCoveringAll:
		{43 to: 45})
		cover: (13 to: 20)
		declaredAt: (13 to: 20).
	(portfolios _ [
	(OrderedCollection
		cover: (63 to: 79)
		declaredAt: (25 to: 41)) new ] valueCoveringAll:
		{82 to: 84})
		cover: (49 to: 58)
		declaredAt: (49 to: 58).! !
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
addAccount: aReceptiveAccount
	[
	([
	(accounts
		cover: (34 to: 41)
		declaredAt: (34 to: 41)) includes:
		(aReceptiveAccount
			cover: (53 to: 69)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{43 to: 51}) ifTrue: [
		[
		(self coverAll:
			{80 to: 83}) error:
			([
			([
			(self coverAll:
				{92 to: 95}) class ] valueCoveringAll:
				{97 to: 101}) cannotAddDuplicatedAccount ] valueCoveringAll:
				{103 to: 128}) ] valueCoveringAll:
			{85 to: 90} ]] valueCoveringAll:
		{72 to: 78}.
	[
	(accounts
		cover: (134 to: 141)
		declaredAt: (34 to: 41)) add:
		(aReceptiveAccount
			cover: (148 to: 164)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{143 to: 146}.! !
!Behavior method!
cannotAddDuplicatedAccount
	^ 'Cannot Add Duplicated Account' coverAll:
		{30 to: 60}.! !

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:04:06'!
PASSED!
!Behavior method!
addPortfolio: aPortfolio
	[
	([
	(portfolios
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{39 to: 47}) ifTrue: [
		[
		(self coverAll:
			{70 to: 73}) error:
			([
			([
			(self coverAll:
				{82 to: 85}) class ] valueCoveringAll:
				{87 to: 91}) cannotAddDuplicatedPortfolio ] valueCoveringAll:
				{93 to: 120}) ] valueCoveringAll:
			{75 to: 80} ]] valueCoveringAll:
		{61 to: 67}.
	[
	(portfolios
		cover: (125 to: 134)
		declaredAt: (28 to: 37)) add:
		(aPortfolio
			cover: (141 to: 150)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{136 to: 139}.! !
!Behavior method!
cannotAddDuplicatedPortfolio
	^ 'Cannot Add Duplicated Portfolio' coverAll:
		{32 to: 64}.! !

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:04:06'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:04:06'!
FAILURE!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:04:06'!
FAILURE!
!Behavior method!
initialize
	(accounts _ [
	(OrderedCollection
		cover: (25 to: 41)
		declaredAt: (25 to: 41)) new ] valueCoveringAll:
		{43 to: 45})
		cover: (13 to: 20)
		declaredAt: (13 to: 20).
	(portfolios _ [
	(OrderedCollection
		cover: (63 to: 79)
		declaredAt: (25 to: 41)) new ] valueCoveringAll:
		{82 to: 84})
		cover: (49 to: 58)
		declaredAt: (49 to: 58).! !
!Behavior method!
initialize
	(transactions _ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) new ] valueCoveringAll:
		{48 to: 50})
		cover: (14 to: 25)
		declaredAt: (14 to: 25).! !
!Behavior method!
addAccount: aReceptiveAccount
	[
	([
	(accounts
		cover: (34 to: 41)
		declaredAt: (34 to: 41)) includes:
		(aReceptiveAccount
			cover: (53 to: 69)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{43 to: 51}) ifTrue: [
		[
		(self coverAll:
			{80 to: 83}) error:
			([
			([
			(self coverAll:
				{92 to: 95}) class ] valueCoveringAll:
				{97 to: 101}) cannotAddDuplicatedAccount ] valueCoveringAll:
				{103 to: 128}) ] valueCoveringAll:
			{85 to: 90} ]] valueCoveringAll:
		{72 to: 78}.
	[
	(accounts
		cover: (134 to: 141)
		declaredAt: (34 to: 41)) add:
		(aReceptiveAccount
			cover: (148 to: 164)
			declaredAt: (13 to: 29)) ] valueCoveringAll:
		{143 to: 146}.! !
!Behavior method!
cannotAddDuplicatedAccount
	^ 'Cannot Add Duplicated Account' coverAll:
		{30 to: 60}.! !

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:04:52'!
PASSED!
!Behavior method!
addPortfolio: aPortfolio
	[
	([
	(portfolios
		cover: (28 to: 37)
		declaredAt: (28 to: 37)) includes:
		(aPortfolio
			cover: (49 to: 58)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{39 to: 47}) ifTrue: [
		[
		(self coverAll:
			{70 to: 73}) error:
			([
			([
			(self coverAll:
				{82 to: 85}) class ] valueCoveringAll:
				{87 to: 91}) cannotAddDuplicatedPortfolio ] valueCoveringAll:
				{93 to: 120}) ] valueCoveringAll:
			{75 to: 80} ]] valueCoveringAll:
		{61 to: 67}.
	[
	(portfolios
		cover: (125 to: 134)
		declaredAt: (28 to: 37)) add:
		(aPortfolio
			cover: (141 to: 150)
			declaredAt: (15 to: 24)) ] valueCoveringAll:
		{136 to: 139}.! !
!Behavior method!
cannotAddDuplicatedPortfolio
	^ 'Cannot Add Duplicated Portfolio' coverAll:
		{32 to: 64}.! !

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:04:52'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:04:52'!
FAILURE!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:04:52'!
FAILURE!

----STARTUP---- (20 May 2021 20:07:46) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:17:11'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:18:57' prior: 50875146!
addAccount: aReceptiveAccount 
	(accounts includes: aReceptiveAccount) ifTrue:[self error: self class cannotAddDuplicatedAccount].
	(portfolios ifNotEmpty: [self error: self class cannotAddDuplicatedAccount]).
	accounts add: aReceptiveAccount ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:18:59'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/20/2021 20:18:59'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:18:59'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:18:59'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:20:14' prior: 50875637!
addAccount: aReceptiveAccount 
	(accounts includes: aReceptiveAccount) ifTrue:[self error: self class cannotAddDuplicatedAccount].
	(portfolios first hasAccount: aReceptiveAccount).
	accounts add: aReceptiveAccount ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/20/2021 20:20:18'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/20/2021 20:20:18'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/20/2021 20:20:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:20:18'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:20:18'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:20:21'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:22:31' prior: 50875739!
addAccount: aReceptiveAccount 
	(accounts includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].
	(portfolios ifNotEmpty:[ 
		(portfolios first hasAccount: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount]
	]).
	accounts add: aReceptiveAccount ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:22:37'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/20/2021 20:22:37'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:22:37'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:22:37'!
FAILURE!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:22:40'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:22:52'!
hasAccount: aReceptiveAccount 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:23:46' prior: 50875951!
hasAccount: aReceptiveAccount 
	(accounts includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:24:14' prior: 50875956!
hasAccount: aReceptiveAccount 
	^accounts includes: aReceptiveAccount! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:24:28'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:24:28'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/20/2021 20:25:27' prior: 50875448!
test23
	| aPortfolio anotherPortfolio anAccount otherPortfolio |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/20/2021 20:25:27' prior: 50876060!
test23
	| aPortfolio anotherPortfolio anAccount otherPortfolio |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/20/2021 20:25:55'!
test24
	| aPortfolio anotherPortfolio anAccount otherPortfolio |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/20/2021 20:26:20' prior: 50876093!
test24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !

Object subclass: #Portfolio
	instanceVariableNames: 'financialServices'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/20/2021 20:56:05'!
Object subclass: #Portfolio
	instanceVariableNames: 'financialServices'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:57:24' prior: 50875843!
addAccount: aReceptiveAccount 
	(financialServices includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].
	financialServices add: aReceptiveAccount ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:57:38' prior: 50875317!
addPortfolio: aPortfolio
	(financialServices includes: aPortfolio) ifTrue: [self error: self class cannotAddDuplicatedPortfolio].
	financialServices add: aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:58:12' prior: 50867176!
balance

	^(financialServices sum: [:service| service balance] ifEmpty:[0])! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:58:26' prior: 50875964!
hasAccount: aReceptiveAccount 
	^financialServices includes: aReceptiveAccount! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:58:56' prior: 50870680!
hasRegistered: aTransaction 
	financialServices do: [:service | (service hasRegistered: aTransaction) ifTrue: [^true]].
	^false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:59:07' prior: 50866850 overrides: 16896425!
initialize
	financialServices := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/20/2021 20:59:22' prior: 50874607!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	financialServices do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/20/2021 20:59:58'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 20:59:58'!
FAILURE!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/20/2021 20:59:58'!
FAILURE!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 21:00:05'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/19/2021 22:45:28' prior: 50876077!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 21:01:28'!
FAILURE!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/20/2021 21:02:15'!
FAILURE!

----QUIT----(20 May 2021 22:05:42) CuisUniversity-4532.image priorSource: 17402050!

----STARTUP---- (23 May 2021 15:11:02) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 15:16:19'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 15:16:19'!
FAILURE!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 15:16:19'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:20:00'!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !

!methodRemoval: PortofolioTest #test23 stamp: 'dv 5/23/2021 15:20:00'!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:20:06'!
xtest24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !

!methodRemoval: PortofolioTest #test24 stamp: 'dv 5/23/2021 15:20:06'!
test24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAccount: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAccount: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.!

Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinancialAsset category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 15:21:20'!
Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialServices'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 15:21:43'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialServices'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 15:22:06'!
FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!FinancialAsset methodsFor: 'nil' stamp: 'dv 5/23/2021 15:22:50'!
balance
	^ self subclassResponsibility ! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:23:34'!
hasRegistered: aTransaction 
	self subclassResponsibility ! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:23:44' prior: 50876511!
balance
	self subclassResponsibility ! !
!FinancialAsset methodsFor: 'nil' stamp: 'dv 5/23/2021 15:24:11'!
transactions
	self subclassResponsibility ! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 15:24:55'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876141!
addAccount: aReceptiveAccount 
	(financialAssets includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].
	financialAssets add: aReceptiveAccount ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876165!
hasAccount: aReceptiveAccount 
	^financialAssets includes: aReceptiveAccount! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876150!
addPortfolio: aPortfolio
	(financialAssets includes: aPortfolio) ifTrue: [self error: self class cannotAddDuplicatedPortfolio].
	financialAssets add: aPortfolio! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876171 overrides: 50876515!
hasRegistered: aTransaction 
	financialAssets do: [:service | (service hasRegistered: aTransaction) ifTrue: [^true]].
	^false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876159 overrides: 50876520!
balance

	^(financialAssets sum: [:service| service balance] ifEmpty:[0])! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876179 overrides: 16896425!
initialize
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:24:55' prior: 50876184 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	financialAssets do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:25:13' prior: 50876569 overrides: 50876520!
balance

	^financialAssets sum: [:service| service balance] ifEmpty:[0]! !
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:31:22' prior: 50876520!
balance
	^ self transactions inject: 0  into: [:current :transaction| transaction includeToBalance: current  ]! !

!methodRemoval: Portfolio #balance stamp: 'dv 5/23/2021 15:32:05'!
balance

	^financialAssets sum: [:service| service balance] ifEmpty:[0]!

!methodRemoval: ReceptiveAccount #balance stamp: 'dv 5/23/2021 15:32:13'!
balance

	^transactions inject: 0  into: [:current :transaction| transaction includeToBalance: current  ]!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 15:32:23'!
PASSED!

!methodRemoval: ReceptiveAccount #hasRegistered: stamp: 'dv 5/23/2021 15:33:24'!
hasRegistered: aTransaction

	^ transactions includes: aTransaction 
!

!methodRemoval: Portfolio #hasRegistered: stamp: 'dv 5/23/2021 15:33:39'!
hasRegistered: aTransaction 
	financialAssets do: [:service | (service hasRegistered: aTransaction) ifTrue: [^true]].
	^false!
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:33:47' prior: 50876515!
hasRegistered: aTransaction 
	^ self transactions includes: aTransaction! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 15:33:50'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 15:35:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 15:35:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 15:35:57'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45'!
addAsset: aReceptiveAccount 
	(financialAssets includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].
	financialAssets add: aReceptiveAccount ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50867528!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAsset: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addPortfolio: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addPortfolio: anotherPortfolio.
	parentPortfolio  addPortfolio: aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50875013!
test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50867452!
test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAsset: anAccount.
	aPortfolio addPortfolio: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50870797!
test08APortfolioWithAccountHasRegisteredAccountTransactions
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAsset: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50876409!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50874912!
test16APortfolioWithAccountTransactionsIncludesAccountTransactions
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50875134!
test21
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAsset: anAccount .
	
	self
		should: [aPortfolio addAsset: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50874982!
test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addPortfolio: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871621!
test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAsset: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addAsset: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50876438!
xtest24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAccount.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871331!
test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871443!
test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAsset: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount.

	
	

	aParentPortfolio  addPortfolio: aPortfolio. 
	aParentPortfolio  addPortfolio: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50874939!
test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  addAsset: anAccount.
	aPortfolio  addAsset: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871199!
test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAsset: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  addAsset: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).
	self assert: (aPortfolio hasRegistered: (Deposit register: 50 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50875067!
test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addPortfolio: aPortfolio.
	aParentPortfolio  addAsset: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871119!
test09APortfolioWithAccountHasNotRegisteredAnotherTransaction
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  addAsset: anAccount.
	aTransaction := Deposit register: 100 on: ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: aTransaction).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50871304!
test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addPortfolio:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:38:45' prior: 50867658!
createPortfolioWithNumberOfAccounts: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.

	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: amount on: anAccount.
		aPortfolio addAsset: anAccount. 
	].
	^ aPortfolio ! !

!methodRemoval: Portfolio #addAccount: stamp: 'dv 5/23/2021 15:38:45'!
addAccount: aReceptiveAccount 
	(financialAssets includes: aReceptiveAccount) 
		ifTrue:[self error: self class cannotAddDuplicatedAccount].
	financialAssets add: aReceptiveAccount !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:39:27' prior: 50876976!
addAsset: anAssetToStore
	(financialAssets includes:anAssetToStore) 
		ifTrue:[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !
!Portfolio class methodsFor: 'error messages' stamp: 'dv 5/23/2021 15:39:59'!
cannotAddDuplicatedAsset
	^'Cannot Add Duplicated Account'! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:39:59' prior: 50877066!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:39:59' prior: 50877095!
test21
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAsset: anAccount .
	
	self
		should: [aPortfolio addAsset: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 15:39:59' prior: 50877149!
xtest24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addPortfolio: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: Portfolio class #cannotAddDuplicatedAccount stamp: 'dv 5/23/2021 15:39:59'!
cannotAddDuplicatedAccount
	^'Cannot Add Duplicated Account'!
!Portfolio class methodsFor: 'error messages' stamp: 'dv 5/23/2021 15:40:06' prior: 50877340!
cannotAddDuplicatedAsset
	^'Cannot Add Duplicated Asset'! !

!methodRemoval: Portfolio class #cannotAddDuplicatedPortfolio stamp: 'dv 5/23/2021 15:40:17'!
cannotAddDuplicatedPortfolio
	^'Cannot Add Duplicated Portfolio'!

!methodRemoval: Portfolio #addPortfolio: stamp: 'dv 5/23/2021 15:40:51'!
addPortfolio: aPortfolio
	(financialAssets includes: aPortfolio) ifTrue: [self error: self class cannotAddDuplicatedPortfolio].
	financialAssets add: aPortfolio!
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 15:41:06' prior: 50877038!
test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAsset: anAccount.
	aPortfolio addAsset: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 15:41:27' prior: 50876985!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAsset: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio addAsset: aPortfolio.  
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAsset:  anotherPortfolio.
	parentPortfolio  addAsset:  aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 15:41:34' prior: 50867782!
test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio parentPortfolio |

	parentPortfolio := 	self createPortfolioWithNumberOfAccounts:  1 andBalanceForAccount:100. 
	aPortfolio := self createPortfolioWithNumberOfAccounts: 1  andBalanceForAccount: 150.

	parentPortfolio  addAsset:  aPortfolio.
	self assert: 250 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/23/2021 15:41:41' prior: 50877296!
test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addAsset:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/23/2021 15:41:47' prior: 50877167!
test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addAsset:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/23/2021 15:42:00' prior: 50877183!
test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAsset: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount.

	
	

	aParentPortfolio  addAsset: aPortfolio. 
	aParentPortfolio  addAsset: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/23/2021 15:42:11' prior: 50877124!
test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio addAsset: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  addAsset: aPortfolio. 
	aParentPortfolio  addAsset: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/23/2021 15:42:18' prior: 50877107!
test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio addAsset: anAccount.
	
	aPortfolio  addAsset: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/23/2021 15:42:25' prior: 50877009!
test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount.
	
	aParentPortfolio  addAsset: aPortfolio.
	aParentPortfolio  addPortfolio: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/23/2021 15:42:33' prior: 50877568!
test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount.
	
	aParentPortfolio  addAsset: aPortfolio.
	aParentPortfolio  addAsset: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'tests - transactions' stamp: 'dv 5/23/2021 15:42:44' prior: 50877255!
test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  addAsset: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  addAsset: aPortfolio.
	aParentPortfolio  addAsset: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:42:52' prior: 50875283!
test22
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addPortfolio: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedPortfolio.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:42:58' prior: 50877650!
test22
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedPortfolio.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:43:06' prior: 50877663!
test22
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:43:24' prior: 50877345!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 15:43:32' prior: 50877372!
xtest24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 15:44:51'!
PASSED!

!methodRemoval: Portfolio #hasAccount: stamp: 'dv 5/23/2021 15:45:32'!
hasAccount: aReceptiveAccount 
	^financialAssets includes: aReceptiveAccount!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:01:45'!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #xtest23 stamp: 'dv 5/23/2021 16:01:48'!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:01:52'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:11:05'!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test23 stamp: 'dv 5/23/2021 16:11:05'!
test23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:12:26'!
test23
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:12:38'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:13:08' prior: 50877332!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) 
		ifTrue:[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:13:19' prior: 50877883!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:13:33'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:13:33'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:14:19'!
test24
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:14:25'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:15:14' prior: 50877894!
addAsset: anAssetToStore
	(self parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 16:15:50'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:15:48' prior: 50878010!
addAsset: anAssetToStore
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:16:23' prior: 50876575 overrides: 16896425!
initialize
	parent := self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:22:19' prior: 50878032!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:22:49'!
addParent: 		aParentPortfolio
	parent := aParentPortfolio ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:22:58'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 16:22:58'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:22:58'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:23:09'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:23:09'!
FAILURE!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:23:09'!
FAILURE!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:23:35'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:24:06' prior: 50877996!
test24
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 16:24:07'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:25:16'!
test25
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:25:31' prior: 50878428!
test25
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:25:42' prior: 50878443!
test25
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:27:55'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:34:38'!
hasChild: 		aFinancialAsset
	^ financialAssets includes: aFinancialAsset ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:35:18' prior: 50878053!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent hasChild: anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 16:35:21'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 16:37:18'!
test26
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:37:24'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:43:23' prior: 50878477!
hasChild: 		aChildAsset
	financialAssets  do:[:asset| (asset hasChild: aChildAsset) ifTrue:[^true] ].
	^ financialAssets includes: aChildAsset! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:43:27' prior: 50878642!
hasChild: 		aChildAsset
	financialAssets  do:[:asset| (asset hasChild: aChildAsset) ifTrue:[^true] ].
	^ financialAssets includes: aChildAsset! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:43:50' prior: 50878650!
hasChild: 		aChildAsset
	financialAssets  do:[:asset| (asset hasChild: aChildAsset) ifTrue:[^true] ].
	^ financialAssets includes: aChildAsset! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:43:52'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 16:43:52'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:45:35' prior: 50878658!
hasChild: 		aChildAsset
	financialAssets  do:[:asset| ((asset isKindOf: Portfolio) and:[asset hasChild: aChildAsset]) ifTrue:[^true] ].
	^ financialAssets includes: aChildAsset! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:45:37'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 16:45:37'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:45:37'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:46:21'!
ERROR!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:48:21'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:48:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:48:21'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:50:17' prior: 50878047 overrides: 16896425!
initialize
	
	financialAssets := OrderedCollection new.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:50:17'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:50:17'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:50:17'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:50:17'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:50:18'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:50:18'!
ERROR!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:50:22'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:50:22'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:50:22'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:50:22'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:50:22'!
ERROR!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:51:42'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:51:42'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:51:42'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:51:42'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:51:42'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:51:44'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:53:14' prior: 50878483!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNotNil and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:53:16'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:53:16'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:53:16'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:53:16'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:53:16'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:53:23'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:53:36' prior: 50879335!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:53:37'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:53:37'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:53:37'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:54:56'!
getParent: 		aParentPortfolio
	^parent ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:55:05'!
getParent
	^parent ! !

!methodRemoval: Portfolio #getParent: stamp: 'dv 5/23/2021 16:55:07'!
getParent: 		aParentPortfolio
	^parent !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:56:58' prior: 50879456!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent getParent isNil not and:[parent hasChild: anAssetToStore]]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:56:59'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:56:59'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:56:59'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 16:57:14' prior: 50879588!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:57:18'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:57:18'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:57:18'!
FAILURE!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 16:58:04'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:58:04'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:58:04'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:58:23'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 16:58:53'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:02:02' prior: 50879713!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:02:03'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:02:03'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:02:03'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:02:53'!
ERROR!
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 17:08:27' prior: 50877428!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAsset: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	anotherPortfolio addAsset: anotherAccount .  
	Deposit register: 150 on: anotherAccount.
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAsset:  anotherPortfolio.
	parentPortfolio  addAsset:  aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 17:09:42' prior: 50880073!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAsset: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount .  

	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAsset:  anotherPortfolio.
	parentPortfolio  addAsset:  aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/23/2021 17:09:49' prior: 50880097!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio addAsset: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	anotherPortfolio addAsset: anotherAccount .  
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  addAsset:  anotherPortfolio.
	parentPortfolio  addAsset:  aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 17:10:05'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 17:10:49' prior: 50878624!
test26
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:10:50'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:12:38' prior: 50879943!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]]) ifTrue:
	(anAssetToStore isKindOf: Portfolio)) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:12:43'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:12:43'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:12:43'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:12:43'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:12:43'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:12:43'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:13:16' prior: 50880291!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:13:18'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:13:18'!
FAILURE!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:13:18'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:13:18'!
FAILURE!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:13:45'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:16:38' prior: 50880415!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]]) ifTrue:
	(anAssetToStore isKindOf: Portfolio)) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:16:39'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:16:39'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:16:39'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:16:39'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:16:39'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:16:39'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:17:46' prior: 50880541!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]])) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:17:48'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:17:48'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 17:10:49' prior: 50880273!
test26
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 17:19:02'!
test27
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 17:19:03'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:25:16' prior: 50880665!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent getParent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]])) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:25:18'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:25:18'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:25:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:25:18'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 17:25:18'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:25:55' prior: 50880827!
addAsset: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent getParent = anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]])) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 17:26:28'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:37:09' prior: 50880958!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addParent: self].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:37:25'!
assertIsValidToStore: anAssetToStore
	(self = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(financialAssets includes:anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent getParent = anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(self hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(parent isNil not and:[parent hasChild: anAssetToStore]) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	((parent isNil not and:[parent getParent isNil not and:[parent getParent hasChild: anAssetToStore]])) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 17:37:27'!
PASSED!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 17:40:14'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets parent root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 17:40:13' prior: 50879035 overrides: 16896425!
initialize
	root := self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:07:48'!
addRoot: 		aRootPortfolio
	root := aRootPortfolio ! !

FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 18:08:18'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets root'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: Portfolio #addParent: stamp: 'dv 5/23/2021 18:08:23'!
addParent: 		aParentPortfolio
	parent := aParentPortfolio !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:08:40' prior: 50881093!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoot: root].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:09:58' prior: 50881102!
assertIsValidToStore: anAssetToStore
	(root = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(root hasChild: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:09:59'!
PASSED!

!methodRemoval: Portfolio #getParent stamp: 'dv 5/23/2021 18:14:15'!
getParent
	^parent !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:17:37' prior: 50878790!
hasChild: 		aChildAsset
	^(financialAssets detect:[:asset| (asset isKindOf: Portfolio) and:[asset hasChild: aChildAsset]] ifFound:[true] ifNone:[false])
	 or: [financialAssets includes: aChildAsset]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:18:31' prior: 50881389!
hasChild: 		aChildAsset
	^financialAssets detect:[:asset| (asset isKindOf: Portfolio) and:[asset hasChild: aChildAsset]] ifFound:[:anAsset|true] ifNone:[financialAssets includes: aChildAsset].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:18:49' prior: 50881399!
hasChild: 		aChildAsset
	^financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[financialAssets includes: aChildAsset].! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'dv 5/23/2021 18:19:59'!
hasChild: aChildAsset
	^false! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:20:06'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:20:17'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:20:18'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:25:32' prior: 50881409!
hasChild: 		aChildAsset
	^financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:27:48' prior: 50881548!
hasChild: 		aChildAsset
	^financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:28:17' prior: 50881556!
hasChild: 		aChildAsset
	^(financialAssets includes: aChildAsset) ifFalse:[financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:28:20'!
FAILURE!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:28:20'!
FAILURE!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:28:20'!
FAILURE!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:28:20'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:28:44' prior: 50881564!
hasChild: 		aChildAsset
	^(financialAssets includes: aChildAsset) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:28:45'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:29:23' prior: 50881700!
hasChild: 		aChildAsset
	^(self = aChildAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:29:25'!
FAILURE!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:29:25'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:29:25'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:30:55'!
includesAsset: 		aChildAsset
	^(self = aChildAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset hasChild: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:30:55'!
includesAsset: aChildAsset
	^false! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:30:55' prior: 50881276!
assertIsValidToStore: anAssetToStore
	(root = anAssetToStore ) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	(root includesAsset: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:30:55' prior: 50881836!
hasChild: 		aChildAsset
	^(self = aChildAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset includesAsset: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:30:55' prior: 50881973!
includesAsset: 		aChildAsset
	^(self = aChildAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset includesAsset: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].! !

!methodRemoval: Portfolio #hasChild: stamp: 'dv 5/23/2021 18:30:55'!
hasChild: 		aChildAsset
	^(self = aChildAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset includesAsset: aChildAsset] 
		ifFound:[:anAsset|true] 
		ifNone:[false]].!

!methodRemoval: ReceptiveAccount #hasChild: stamp: 'dv 5/23/2021 18:30:55'!
hasChild: aChildAsset
	^false!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:31:02'!
FAILURE!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:31:02'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:31:02'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:31:40' prior: 50882007!
includesAsset: 		anAsset
	^(self = anAsset ) ifTrue:[true] ifFalse:[financialAssets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]].! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:32:01' prior: 50881982!
includesAsset: anAsset
	^self = anAsset ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:32:04'!
PASSED!
!FinancialAsset methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:32:23' prior: 50876598!
balance
	^ self transactions inject: 0 into: [:current :transaction| transaction includeToBalance: current]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 18:32:51' prior: 50881987!
assertIsValidToStore: anAssetToStore
	(root includesAsset: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test21 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test22 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test23 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test24 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test25 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test26 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:32:51'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:36:45'!
test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAsset: anAccount .
	
	self
		should: [aPortfolio addAsset: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test21 stamp: 'dv 5/23/2021 18:36:45'!
test21
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  addAsset: anAccount .
	
	self
		should: [aPortfolio addAsset: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:37:28'!
test22test21AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test22 stamp: 'dv 5/23/2021 18:37:28'!
test22
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:38:20'!
test23test21AddAPortfolioToItselfRaisesDuplicatedAssetError
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test23 stamp: 'dv 5/23/2021 18:38:20'!
test23
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:38:34'!
test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test22test21AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:38:34'!
test22test21AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [aPortfolio addAsset: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:38:48'!
test23AddAPortfolioToItselfRaisesDuplicatedAssetError
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test23test21AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:38:48'!
test23test21AddAPortfolioToItselfRaisesDuplicatedAssetError
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:41:17'!
test24AddRRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test24 stamp: 'dv 5/23/2021 18:41:17'!
test24
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:41:24'!
test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test24AddRRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:41:24'!
test24AddRRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:45:39'!
test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test25 stamp: 'dv 5/23/2021 18:45:39'!
test25
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!

!methodRemoval: PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:51:19'!
test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:51:27'!
test24AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:51:27'!
test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:51:38'!
test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test24AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:51:38'!
test24AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:51:51'!
test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test26 stamp: 'dv 5/23/2021 18:51:51'!
test26
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:58:08' prior: 50880809!
test27
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 18:58:09'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:59:23'!
test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 18:59:23'!
test25AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  addAsset: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 18:59:54'!
test25AddRootChildPortfolioToRootPortfolioRaisesError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test27 stamp: 'dv 5/23/2021 18:59:54'!
test27
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:00:59'!
test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test25AddRootChildPortfolioToRootPortfolioRaisesError stamp: 'dv 5/23/2021 19:00:59'!
test25AddRootChildPortfolioToRootPortfolioRaisesError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  addAsset: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!

!methodRemoval: PortofolioTest #xtest23 stamp: 'dv 5/23/2021 19:01:17'!
xtest23
	| aPortfolio anotherPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.

	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!

!methodRemoval: PortofolioTest #xtest24 stamp: 'dv 5/23/2021 19:01:19'!
xtest24
	| aPortfolio anotherPortfolio anAccount otherPortfolio otherAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio  addAsset: anAccount.
	
	otherPortfolio := Portfolio new.
	otherAccount := ReceptiveAccount  new. 
	aPortfolio  addAsset: anotherPortfolio.
	
	self
		should: [	aPortfolio  addAsset: anAccount. ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:10:59'!
test27
"	p1   p2
	  \   /  \
	  p3    a1
	   |
	  a1
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aLeftRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:13:01' prior: 50883026!
test27
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aLeftRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:13:01'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:13:17' prior: 50883047!
test27
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	
	aLeftRootPortfolio addAsset: aMiddlePortfolio.
	aRightRootPortfolio addAsset: aMiddlePortfolio.

	aLeftRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:13:17'!
FAILURE!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:13:42' prior: 50883208!
test27
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aRightRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:13:44'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:14:31' prior: 50881245!
addRoot: 		aRootPortfolio
	root add: aRootPortfolio ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:14:53' prior: 50881240 overrides: 16896425!
initialize
	root := OrderedCollection  newFrom: self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:15:14' prior: 50883260 overrides: 16896425!
initialize
	root := OrderedCollection with: self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:15:47' prior: 50883254!
addRoot: 		aRootPortfolio
	root add: aRootPortfolio ! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/23/2021 19:17:14'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'financialAssets roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:17:14' prior: 50883267 overrides: 16896425!
initialize
	roots := OrderedCollection with: self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:17:14' prior: 50881267!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoot: roots].
	financialAssets add: anAssetToStore! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:17:14' prior: 50882277!
assertIsValidToStore: anAssetToStore
	(roots includesAsset: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset].
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:17:14' prior: 50883273!
addRoot: 		aRootPortfolio
	roots add: aRootPortfolio ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:18:16' prior: 50883302!
assertIsValidToStore: anAssetToStore
	roots do:[:root|(root includesAsset: anAssetToStore) ifTrue:
		[self error: self class cannotAddDuplicatedAsset]].
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:18:54'!
FAILURE!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:18:54'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:18:54'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:15'!
FAILURE!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:19:15'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:19:15'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:19:17'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:20:16' prior: 50883310!
addRoot: 		aRootPortfolio
	roots addAll: aRootPortfolio ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:20:18'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:22:03' prior: 50883287 overrides: 16896425!
initialize
	roots := Set with: self.
	financialAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:22:22' prior: 50883603!
addRoot: 		aRootSet
	roots add: aRootSet! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:23:14' prior: 50883753!
addRoot: 		aRootSet
	roots addAll: aRootSet
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #PortofolioTest #test27 stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:23:17'!
PASSED!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:23:37'!
addRoots: 		aRootSet
	roots addAll: aRootSet
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:23:37' prior: 50883293!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].
	financialAssets add: anAssetToStore! !

!methodRemoval: Portfolio #addRoot: stamp: 'dv 5/23/2021 19:23:37'!
addRoot: 		aRootSet
	roots addAll: aRootSet
	!
!Portfolio methodsFor: 'testing' stamp: 'dv 5/23/2021 19:31:14'!
root
	^roots! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 19:34:12'!
test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aRightRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test27 stamp: 'dv 5/23/2021 19:34:15'!
test27
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aRightRootPortfolio addAsset: anAccount.
	
	self
		should: [	aMiddlePortfolio  addAsset: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:35:36'!
test28AddPortfolioToRootPortfolioUpdatesRootPortfolioAsRoot! !
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:35:52'!
test28AddPortfolioToRootPortfolioUpdatesRoot! !

!methodRemoval: PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRootPortfolioAsRoot stamp: 'dv 5/23/2021 19:35:58'!
test28AddPortfolioToRootPortfolioUpdatesRootPortfolioAsRoot!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:36:52' prior: 50883967!
test28AddPortfolioToRootPortfolioUpdatesRoot
	| aChildPortfolio aRootPortfolio |
	aRootPortfolio := Portfolio  new.
	aChildPortfolio := Portfolio  new.! !
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:38:33' prior: 50883978!
test28AddPortfolioToRootPortfolioUpdatesRoot
	| aChildPortfolio aRootPortfolio |
	aRootPortfolio := Portfolio  new.
	aChildPortfolio := Portfolio  new.
	
	aRootPortfolio addAsset: aChildPortfolio.
	
	self assert: 1 equals: aChildPortfolio  roots size.
	self assert: aChildPortfolio roots includes: aRootPortfolio.! !
!Portfolio methodsFor: 'testing' stamp: 'dv 5/23/2021 19:38:55'!
roots
	^roots! !
!Morph methodsFor: 'structure' stamp: 'dv 5/23/2021 19:38:55'!
roots
	"Return the root of the composite morph containing the receiver. The owner of the root is either nil, a WorldMorph, or a HandMorph. If the receiver's owner is nil, the root is the receiver itself. This method always returns a morph."

	(owner isNil or: [ owner isWorldMorph or: [ owner is: #HandMorph ] ]) ifTrue: [ ^self ].
	^owner root! !
!DamageRecorder methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:38:55' prior: 50713697!
recordInvalidRect: requestedRect for: aMorph
	"aRootMorph should be #root"

	^ self pvtAccessProtect critical: [
		self pvtInnerRecordInvalidRect: requestedRect for: (aMorph ifNotNil: [aMorph roots]) ]! !
!Morph methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:38:55' prior: 16876628!
root
	"Return the root of the composite morph containing the receiver. The owner of the root is either nil, a WorldMorph, or a HandMorph. If the receiver's owner is nil, the root is the receiver itself. This method always returns a morph."

	(owner isNil or: [ owner isWorldMorph or: [ owner is: #HandMorph ] ]) ifTrue: [ ^self ].
	^owner roots! !
!Morph methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:38:55' prior: 50884001!
roots
	"Return the root of the composite morph containing the receiver. The owner of the root is either nil, a WorldMorph, or a HandMorph. If the receiver's owner is nil, the root is the receiver itself. This method always returns a morph."

	(owner isNil or: [ owner isWorldMorph or: [ owner is: #HandMorph ] ]) ifTrue: [ ^self ].
	^owner roots! !

!methodRemoval: Portfolio #root stamp: 'dv 5/23/2021 19:38:55'!
root
	^roots!

!methodRemoval: Morph #root stamp: 'dv 5/23/2021 19:38:55'!
root
	"Return the root of the composite morph containing the receiver. The owner of the root is either nil, a WorldMorph, or a HandMorph. If the receiver's owner is nil, the root is the receiver itself. This method always returns a morph."

	(owner isNil or: [ owner isWorldMorph or: [ owner is: #HandMorph ] ]) ifTrue: [ ^self ].
	^owner roots!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:39:02'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:39:11'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:39:11'!
FAILURE!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:39:11'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:44:21' prior: 50883900!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots first] ifFound: [roots remove: self] ifNone:[roots addAll: aRootSet]. 
	
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:44:41' prior: 50884216!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots first] ifFound: [roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:45:01' prior: 50884224!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots first] ifFound: [:found| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:45:05' prior: 50884232!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots first] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:45:07'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:45:07'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:45:30'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:45:30'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:45:36'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:46:18' prior: 50884240!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots at: 1] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:46:55' prior: 50884539!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:47:01'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:47:01'!
FAILURE!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:47:01'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:48:33' prior: 50883905!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	financialAssets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:48:35'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:48:35'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:50:02'!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aRootPortfolio addAsset: aLowerPortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:50:10'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:51:14' prior: 50884804!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:51:15'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/23/2021 19:51:39' prior: 50884967!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:51:41'!
FAILURE!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:52:10' prior: 50884548!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: foundAsset ] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:52:12' prior: 50885148!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: foundAsset] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:52:13'!
ERROR!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:52:48'!
ERROR!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:52:59'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 19:56:03' prior: 50885157!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: (roots atRandom)] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:56:05'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 19:56:05'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 19:56:05'!
FAILURE!

aLowerPortfolio roots!

aLowerPortfolio roots!

self atRandom !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 20:02:56' prior: 50885406!
addRoots: 		aRootSet
	roots detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: (roots atRandom)] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 20:03:15' prior: 50885565!
addRoots: 		aRootSetToAdd
	roots detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: (roots atRandom)] ifNone:[]. 
	roots addAll: aRootSetToAdd.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/23/2021 20:07:20' prior: 50885574!
addRoots: 		aRootSetToAdd
	roots detect: [:root| aRootSetToAdd detect:[:xxx| xxx includesAsset: root] ifFound: [:foundAsset| roots remove: (roots atRandom)] ifNone:[]]. 
	roots addAll: aRootSetToAdd.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/23/2021 20:07:23'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/23/2021 20:07:23'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 20:18:53'!
test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
"Probar dando vuelta al addAsset"
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/23/2021 20:19:00' prior: 50885738!
test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	"Probar dando vuelta al addAsset"
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio addAsset: aMiddlePortfolio.
	aMiddlePortfolio addAsset: aLowerPortfolio.
	
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

----QUIT----(23 May 2021 20:19:38) CuisUniversity-4532.image priorSource: 17429070!

----STARTUP---- (24 May 2021 16:25:11) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!

!Portfolio methodsFor: 'adding' stamp: 'dv 5/24/2021 16:56:13' prior: 50884678!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	"Y si esto es self addAsset"
	financialAssets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].
	"
	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots
	"! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 16:59:47' prior: 50885583!
addRoots: 		aRootSetToAdd
	"calcular interseccion"
	roots detect: [:root| aRootSetToAdd detect:[:xxx| xxx includesAsset: root] ifFound: [:foundAsset| roots remove: (roots atRandom)] ifNone:[]]. 
	roots addAll: aRootSetToAdd.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:17:48'!
ERROR!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:17:48'!
ERROR!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:18:19' prior: 50885793!
addRoots: 		aRootSetToAdd
	"calcular interseccion"

	roots addAll: aRootSetToAdd.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:18:21'!
FAILURE!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:18:21'!
FAILURE!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:18:21'!
PASSED!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/23/2021 19:46:55' prior: 50885927!
addRoots: 		aRootSet
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:19:17'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:19:18'!
FAILURE!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 17:19:18'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:19:18'!
FAILURE!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 17:22:14'!
Xtest29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!methodRemoval: PortofolioTest #test29 stamp: 'dv 5/24/2021 17:22:14'!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:22:26'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/24/2021 17:22:56' prior: 50885757!
test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	"Probar dando vuelta al addAsset"
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
		
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:22:57'!
FAILURE!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:28:02' prior: 50886057!
addRoots: 		aRootSet

	financialAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:28:11' prior: 50886275!
addRoots: 		aRootSet

	financialAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: self] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:28:13'!
PASSED!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
ERROR!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:28:13'!
ERROR!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:28:58' prior: 50886288!
addRoots: 		aRootSet

	financialAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	aRootSet detect: [:root| root includesAsset: roots atRandom ] ifFound: [:foundAsset| roots remove: self ifAbsent:[]] ifNone:[]. 
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 17:29:01'!
PASSED!
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/24/2021 17:29:21' prior: 50882709!
test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
		
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !

!methodRemoval: PortofolioTest #test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:29:27'!
test30AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	"Probar dando vuelta al addAsset"
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
		
	self
		should: [	aLowerPortfolio  addAsset: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 17:29:42'!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!methodRemoval: PortofolioTest #Xtest29 stamp: 'dv 5/24/2021 17:29:42'!
Xtest29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:29:48'!
FAILURE!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:44:22' prior: 50886426!
addRoots: 		aRootSet

	financialAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	
	
	
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 17:44:27' prior: 50886655!
addRoots: 		aRootSet

	financialAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 17:44:28'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 17:47:34' prior: 50886623!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio addAsset: aLowerPortfolio.
	aRootPortfolio addAsset: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:47:36'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:47:36'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 17:54:27'!
test30

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.

	aRightRootPortfolio addAsset: anAccount.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio .
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio .
	! !

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 17:54:28'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:54:28'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:54:28'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:54:28'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 17:54:29'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 17:59:42'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 18:03:31' prior: 50887086!
test30

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	! !

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:03:42'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 18:03:55' prior: 50887382!
test30

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio addAsset: aMiddlePortfolio.
	aLeftRootPortfolio addAsset: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	! !
!Portfolio methodsFor: 'assertions' stamp: 'dv 5/24/2021 18:10:34' prior: 50883315!
assertIsValidToStore: anAssetToStore
	roots do:[:root|self assert: root doesNotInclude:anAssetToStore].
	! !
!Portfolio methodsFor: 'assertions' stamp: 'dv 5/24/2021 18:11:13'!
assert: aRoot doesNotInclude:anAssetToStore
	(aRoot includesAsset: anAssetToStore) ifTrue: 		[self error: self class cannotAddDuplicatedAsset].! !
!Portfolio methodsFor: 'assertions' stamp: 'dv 5/24/2021 18:11:45' prior: 50887576!
assert: aRootPortfolio doesNotInclude:anAssetToStore
	(aRootPortfolio includesAsset: anAssetToStore) ifTrue: 		[self error: self class cannotAddDuplicatedAsset].! !
!Portfolio methodsFor: 'adding' stamp: 'dv 5/24/2021 18:14:21'!
add: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	"Y si esto es self addAsset"
	financialAssets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].
	"
	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots
	"! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50882411!
test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anAccount |

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.

	aPortfolio  add: anAccount .
	
	self
		should: [aPortfolio add: anAccount . ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50883920!
test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"


	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.

	aRightRootPortfolio add: anAccount.
	
	self
		should: [	aMiddlePortfolio  add: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50882478!
test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError
	| aPortfolio anotherPortfolio |

	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.

	aPortfolio  add: anotherPortfolio.
	
	self
		should: [aPortfolio add: anotherPortfolio ]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50880121!
test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance
	|aPortfolio anAccount anotherAccount anotherPortfolio parentPortfolio |
	aPortfolio := 	Portfolio new.
	anAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anAccount.
	aPortfolio add: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherAccount := ReceptiveAccount  new.
	Deposit register: 150 on: anotherAccount.
	anotherPortfolio add: anotherAccount .  
	
	parentPortfolio := 	Portfolio new.

 	parentPortfolio  add:  anotherPortfolio.
	parentPortfolio  add:  aPortfolio.
	
	self assert: 300 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50882961!
test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aRootPortfolio add: aMiddlePortfolio.
	aMiddlePortfolio add: aLowerPortfolio.
	
	self
		should: [	aRootPortfolio  add: aLowerPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877054!
test08APortfolioWithAccountHasRegisteredAccountTransactions
	| aPortfolio anAccount |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  add: anAccount.
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877551!
test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherPortfolio add: anAccount.
	
	aPortfolio  add: anotherPortfolio.
	.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877482!
test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio add: anAccount.
	
	aPortfolio  add:  anotherPortfolio .
	self deny: (aPortfolio hasRegistered: (Deposit register: 100 on: ReceptiveAccount new)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877451!
test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance
	|aPortfolio parentPortfolio |

	parentPortfolio := 	self createPortfolioWithNumberOfAccounts:  1 andBalanceForAccount:100. 
	aPortfolio := self createPortfolioWithNumberOfAccounts: 1  andBalanceForAccount: 150.

	parentPortfolio  add:  aPortfolio.
	self assert: 250 equals: parentPortfolio balance
! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877413!
test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance
	|aPortfolio anAccount anotherPortfolio |
	aPortfolio := 	Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	Deposit register: 100 on: anAccount.
	
	anotherPortfolio := 	Portfolio new.
	anotherPortfolio add: anAccount.
	aPortfolio add: anotherPortfolio.
	
	self assert: 100 equals: aPortfolio balance! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877526!
test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions
	| aPortfolio anAccount anotherAccount aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio add: anAccount.

	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.	
	
	aParentPortfolio  add: aPortfolio. 
	aParentPortfolio  add: anotherAccount.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anAccount )).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877624!
test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions
	| aPortfolio anAccount aTransaction aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  add: anAccount.
	
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aParentPortfolio  add: aPortfolio.
	aParentPortfolio  add: anotherAccount .
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50883986!
test28AddPortfolioToRootPortfolioUpdatesRoot
	| aChildPortfolio aRootPortfolio |
	aRootPortfolio := Portfolio  new.
	aChildPortfolio := Portfolio  new.
	
	aRootPortfolio add: aChildPortfolio.
	
	self assert: 1 equals: aChildPortfolio  roots size.
	self assert: aChildPortfolio roots includes: aRootPortfolio.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877233!
test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions
	| aPortfolio anAccount anotherAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  add: anAccount.
	Deposit register: 100 on: anAccount.
	anotherAccount := ReceptiveAccount new.
	aTransaction := Withdraw register: 100 on: anotherAccount.
	Deposit register: 50 on: anotherAccount.
	aPortfolio  add: anotherAccount.

	self assert: (aPortfolio hasRegistered: aTransaction).
	self assert: (aPortfolio hasRegistered: (Deposit register: 50 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877081!
test16APortfolioWithAccountTransactionsIncludesAccountTransactions
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  add: anAccount.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877498!
test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	

	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio add: anAccount.


	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio add: anotherAccount.

	
	

	aParentPortfolio  add: aPortfolio. 
	aParentPortfolio  add: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50877211!
test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions
	| aPortfolio anAccount aTransaction anotherAccount anotherTransaction |
	aPortfolio := Portfolio new.
	
	anAccount := ReceptiveAccount  new.
	aTransaction := Deposit register: 100 on: anAccount.
	
	anotherAccount := ReceptiveAccount  new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	
	aPortfolio  add: anAccount.
	aPortfolio  add: anotherAccount.
	
	self assert: aPortfolio transactions includes: anotherTransaction.
	self assert: aPortfolio transactions includes: aTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:21' prior: 50886587!
test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio aLowerPortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aLowerPortfolio := Portfolio new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
		
	self
		should: [	aLowerPortfolio  add: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50877311!
createPortfolioWithNumberOfAccounts: numberOfAccounts andBalanceForAccount: amount
	| aPortfolio anAccount |
	aPortfolio := 	Portfolio new.

	numberOfAccounts timesRepeat: [
		anAccount := ReceptiveAccount  new.
		Deposit register: amount on: anAccount.
		aPortfolio add: anAccount. 
	].
	^ aPortfolio ! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50886949!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50882892!
test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError
	| aRootPortfolio aMiddlePortfolio anotherMiddlePortfolio |

	aRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	anotherMiddlePortfolio := Portfolio new.
	
	aRootPortfolio add: aMiddlePortfolio.
	aRootPortfolio add: anotherMiddlePortfolio.
	
	self
		should: [	aMiddlePortfolio  add: anotherMiddlePortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50877467!
test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions
	| aPortfolio anAccount anotherPortfolio |
	aPortfolio := Portfolio new.
	anotherPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	anotherPortfolio add: anAccount.
	
	aPortfolio  add:  anotherPortfolio .
	self assert: (aPortfolio hasRegistered: (Deposit register: 100 on: anAccount)).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50877281!
test09APortfolioWithAccountHasNotRegisteredAnotherTransaction
	| aPortfolio anAccount aTransaction |
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aPortfolio  add: anAccount.
	aTransaction := Deposit register: 100 on: ReceptiveAccount new.
	Deposit register: 100 on: anAccount.
	self deny: (aPortfolio hasRegistered: aTransaction).! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50882507!
test23AddAPortfolioToItselfRaisesDuplicatedAssetError
	| aRootPortfolio |

	aRootPortfolio := Portfolio new.
	
	self
		should: [	aRootPortfolio  add: aRootPortfolio.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50877596!
test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions
	| aPortfolio anAccount aTransaction anotherPortfolio aParentPortfolio anotherAccount anotherTransaction |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	aTransaction := Deposit register: 100 on: anAccount.
	aPortfolio  add: anAccount.
	
	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.
	anotherTransaction := Withdraw register: 100 on: anotherAccount.
	anotherPortfolio add: anotherAccount.
	
	aParentPortfolio  add: aPortfolio.
	aParentPortfolio  add: anotherPortfolio.
	
	self assert: aParentPortfolio transactions includes: aTransaction.
	self assert: aParentPortfolio transactions includes: anotherTransaction.! !
!PortofolioTest methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:14:22' prior: 50887552!
test30

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	! !

!methodRemoval: Portfolio #addAsset: stamp: 'dv 5/24/2021 18:14:22'!
addAsset: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	"Y si esto es self addAsset"
	financialAssets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].
	"
	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots
	"!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 18:16:16'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'assets roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:16:17' prior: 50876581 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	assets do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:16:17' prior: 50883747 overrides: 16896425!
initialize
	roots := Set with: self.
	assets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:16:17' prior: 50882130!
includesAsset: 		anAsset
	^(self = anAsset ) ifTrue:[true] ifFalse:[assets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:16:17' prior: 50886669!
addRoots: 		aRootSet

	assets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:16:17' prior: 50887592!
add: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	"Y si esto es self addAsset"
	assets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots].
	"
	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots
	"! !
!Portfolio methodsFor: 'adding' stamp: 'dv 5/24/2021 18:17:16'!
safeAdd: anAssetToStore

	assets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots]! !
!Portfolio methodsFor: 'adding' stamp: 'dv 5/24/2021 18:17:16' prior: 50888127!
add: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	"Y si esto es self addAsset"
	self safeAdd: anAssetToStore.
	"
	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots
	"! !
!Portfolio methodsFor: 'adding' stamp: 'dv 5/24/2021 18:17:30' prior: 50888145!
add: anAssetToStore
	self assertIsValidToStore: anAssetToStore. 
	self safeAdd: anAssetToStore.
! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:20:27' prior: 50888138!
safeAdd: anAssetToStore

	assets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore addRoots: roots]	
"
	anAssetToStore updateRoots: roots
"! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:20:39'!
updateRoots: 		aRootSet

	assets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate addRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:20:39' prior: 50888113!
addRoots: 		aRootSet

	assets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate updateRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:20:39' prior: 50888160!
safeAdd: anAssetToStore

	assets add: anAssetToStore.
	(anAssetToStore isKindOf: Portfolio) ifTrue: [anAssetToStore updateRoots: roots]	
"
	anAssetToStore updateRoots: roots
"! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:20:39' prior: 50888168!
updateRoots: 		aRootSet

	assets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate updateRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !

!methodRemoval: Portfolio #addRoots: stamp: 'dv 5/24/2021 18:20:39'!
addRoots: 		aRootSet

	assets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate updateRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:20:54' prior: 50888196!
safeAdd: anAssetToStore

	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots.
! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:21:01' prior: 50888232!
safeAdd: anAssetToStore

	assets add: anAssetToStore.
	anAssetToStore updateRoots: roots.! !
!ReceptiveAccount methodsFor: 'nil' stamp: 'dv 5/24/2021 18:22:18'!
updateRoots: roots
"
	Por ahora los ReceptiveAccounts no necesitan saber su root
"! !
!FinancialAsset methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:23:26'!
updateRoots: roots
	self subclassResponsibility ! !
!FinancialAsset methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:25:22'!
includesAsset: anAsset
	self subclassResponsibility ! !
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:26:56' prior: 50888104 overrides: 50888254!
includesAsset: 		anAsset
	(self = anAsset ) ifTrue:[^true]. 
	^ assets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false].! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:27:48'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:27:49'!
PASSED!
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:31:06' prior: 50888259 overrides: 50888254!
includesAsset: 		anAsset
	(self = anAsset ) ifTrue:[^true]. 
	^ assets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false].! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 18:31:49'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'childAssets roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:31:49' prior: 50888088 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:31:49' prior: 50888098 overrides: 16896425!
initialize
	roots := Set with: self.
	childAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:31:49' prior: 50888416 overrides: 50888254!
includesAsset: 		anAsset
	(self = anAsset ) ifTrue:[^true]. 
	^ childAssets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:31:49' prior: 50888205 overrides: 50888250!
updateRoots: 		aRootSet

	childAssets do: [:anAssetToUpdate| (anAssetToUpdate isKindOf: Portfolio) ifTrue: [anAssetToUpdate updateRoots: aRootSet]].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:31:49' prior: 50888238!
safeAdd: anAssetToStore

	childAssets add: anAssetToStore.
	anAssetToStore updateRoots: roots.! !
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:32:42'!
anyChildAssetIncludes: anAsset

	^ childAssets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]! !
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:32:42' prior: 50888450 overrides: 50888254!
includesAsset: 		anAsset
	(self = anAsset ) ifTrue:[^true]. 
	^ self anyChildAssetIncludes: anAsset.! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:34:49' prior: 50888459 overrides: 50888250!
updateRoots: 		aRootSet

	childAssets do: [:aChildAsset| aChildAsset updateRoots: aRootSet].
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:34:51'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:34:52'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:34:52'!
PASSED!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:36:16' prior: 50888494 overrides: 50888250!
updateRoots: 		aRootSet

	childAssets do: [:aChildAsset| aChildAsset updateRoots: aRootSet].
	
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 18:36:37'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'updateChildrenRoots roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:37' prior: 50888479!
anyChildAssetIncludes: anAsset

	^ updateChildrenRoots detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:37' prior: 50888444 overrides: 16896425!
initialize
	roots := Set with: self.
	updateChildrenRoots := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:37' prior: 50888433 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	updateChildrenRoots do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:37' prior: 50888777 overrides: 50888250!
updateRoots: 		aRootSet

	updateChildrenRoots do: [:aChildAsset| aChildAsset updateRoots: aRootSet].
	
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:37' prior: 50888473!
safeAdd: anAssetToStore

	updateChildrenRoots add: anAssetToStore.
	anAssetToStore updateRoots: roots.! !

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 18:36:54'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'childAssets roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:54' prior: 50888798!
anyChildAssetIncludes: anAsset

	^ childAssets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:54' prior: 50888807 overrides: 16896425!
initialize
	roots := Set with: self.
	childAssets := OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:54' prior: 50888814 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions 
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:54' prior: 50888825 overrides: 50888250!
updateRoots: 		aRootSet

	childAssets do: [:aChildAsset| aChildAsset updateRoots: aRootSet].
	
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/24/2021 18:36:54' prior: 50888838!
safeAdd: anAssetToStore

	childAssets add: anAssetToStore.
	anAssetToStore updateRoots: roots.! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:37:22'!
updateChildrenRoots: aRootSet

	^ childAssets do: [:aChildAsset| aChildAsset updateRoots: aRootSet]! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:37:22' prior: 50888878 overrides: 50888250!
updateRoots: 		aRootSet

	self updateChildrenRoots: aRootSet.
	
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
	! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:37:56'!
PASSED!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:38:40' prior: 50888904 overrides: 50888250!
updateRoots: 		aRootSet


	
	roots do: [:aLocalRoot| aRootSet detect: [:aExternalRoot| aExternalRoot includesAsset: aLocalRoot] ifFound: [:foundAsset| roots remove: aLocalRoot ifAbsent:[]] ifNone:[].].
	roots addAll: aRootSet.
		self updateChildrenRoots: aRootSet.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:38:40'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:38:42'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:38:44'!
PASSED!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:41:31' prior: 50889065 overrides: 50888250!
updateRoots: 		newRoots

	roots do: [:anOldRoot| newRoots detect: [:aNewRoot| aNewRoot includesAsset: anOldRoot] ifFound: [:unused| roots remove: anOldRoot ifAbsent:[]] ifNone:[].].
	roots addAll: newRoots.
	self updateChildrenRoots: newRoots.! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:41:53' prior: 50889522 overrides: 50888250!
updateRoots: 		newRoots

	roots do: [:anOldRoot| newRoots detect: [:aNewRoot| aNewRoot includesAsset: anOldRoot] ifFound: [:unused| roots remove: anOldRoot] ifNone:[].].
	roots addAll: newRoots.
	self updateChildrenRoots: newRoots.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:41:57'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 18:42:00'!
PASSED!
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:46:01'!
any: assetsToSearch includes: anAsset

	^ assetsToSearch detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]! !
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:47:30' prior: 50889840!
any: assetsToSearch includes: anAsset

	^ assetsToSearch detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:unused|true] 
		ifNone:[false]! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:47:32' prior: 50889534 overrides: 50888250!
updateRoots: 		newRoots

	roots do: 
		[:anOldRoot| (self any: newRoots includes: anOldRoot) 
			ifTrue: [roots remove: anOldRoot] ].
	roots addAll: newRoots.
	self updateChildrenRoots: newRoots.! !

!methodRemoval: Portfolio #anyChildAssetIncludes: stamp: 'dv 5/24/2021 18:47:49'!
anyChildAssetIncludes: anAsset

	^ childAssets detect:[:asset| asset includesAsset: anAsset] 
		ifFound:[:asset|true] 
		ifNone:[false]!
!Portfolio methodsFor: 'comparing' stamp: 'dv 5/24/2021 18:48:16' prior: 50888487 overrides: 50888254!
includesAsset: 		anAsset
	(self = anAsset ) ifTrue:[^true]. 
	^ self any: childAssets includes: anAsset.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 18:48:21'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 18:48:21'!
PASSED!
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:49:38'!
deleteRootsThatAreChildrenOf: newRoots

	^ roots do: 
		[:anOldRoot| (self any: newRoots includes: anOldRoot) 
			ifTrue: [roots remove: anOldRoot] ]! !
!Portfolio methodsFor: 'adding - private' stamp: 'dv 5/24/2021 18:49:38' prior: 50889857 overrides: 50888250!
updateRoots: 		newRoots

	self deleteRootsThatAreChildrenOf: newRoots.
	roots addAll: newRoots.
	self updateChildrenRoots: newRoots.! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 18:54:13' prior: 50888867 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :account| accumulatedTransactions addAll: account transactions].
	^ accumulatedTransactions! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 18:56:19' prior: 50890019 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :account| accumulatedTransactions union: account transactions].
	^ accumulatedTransactions! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 18:56:27' prior: 50890029 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :childAsset| accumulatedTransactions union: childAsset transactions].
	^ accumulatedTransactions! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'dv 5/24/2021 19:02:44' prior: 50865552 overrides: 16896425!
initialize

	transactions := LinkedList new.! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:02:46'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:02:46'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:02:57'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:03:36' prior: 50890039 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :childAsset| accumulatedTransactions addLast: childAsset transactions].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:03:45'!
FAILURE!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:03:45'!
FAILURE!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:03:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:03:45'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:03:48'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:04:48' prior: 50890207 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := OrderedCollection new.
	childAssets do: [ :childAsset| accumulatedTransactions addAll: childAsset transactions].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:04:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:04:50'!
ERROR!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:05:36'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:05:36'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:05:39'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:05:52'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:06:55' prior: 50890369 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| accumulatedTransactions addAll: childAsset transactions].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:06:57'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:06:57'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:07:01'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:08:36' prior: 50890656 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| accumulatedTransactions add: childAsset transactions].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:08:41'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:08:41'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:08:41'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:08:54' prior: 50890792 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| accumulatedTransactions addLast: childAsset transactions].
	^ accumulatedTransactions! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:09:06' prior: 50890924 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| accumulatedTransactions addLast: childAsset transactions first].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:09:09'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:09:09'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:09:16'!
ERROR!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
aLinkedList add: OtherLL.!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
aLinkedList add: OtherLL.!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
aLinkedList add: OtherLL.!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
aLinkedList add: OtherLL.!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
aLinkedList add: OtherLL first.!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
OtherLL add: 'a'.
aLinkedList add: OtherLL first. 'a' !

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
OtherLL add: 'a'.
aLinkedList add: OtherLL first. !

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: 'a'.
OtherLL add: 'c'.
aLinkedList add: OtherLL first. !

|aLinkedList OtherLL|!

|aLinkedList OtherLL|
aLinkedList  _ LinkedList  new.
OtherLL _ LinkedList new.
OtherLL add: (Link new value: 'a').
OtherLL add: (Link new value: 'a').
aLinkedList add: OtherLL first. !

Link subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 19:23:27'!
Link subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:24:22'!
FAILURE!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:24:22'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:24:22'!
FAILURE!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:24:22'!
FAILURE!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:24:22'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:24:30'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:24:52' prior: 50890934 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| accumulatedTransactions addLast: childAsset transactions].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:24:54'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:24:54'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:24:54'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:25:49' prior: 50891248 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| (childAsset isEmpty not) ifTrue: [accumulatedTransactions addLast: childAsset transactions]].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:25:52'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:25:52'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:25:52'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:26:04' prior: 50891380 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| (childAsset isEmpty not) ifTrue: [accumulatedTransactions addLast: childAsset transactions first]].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:26:05'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:26:05'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:26:05'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:26:18' prior: 50891513 overrides: 50876524!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := LinkedList new.
	childAssets do: [ :childAsset| (childAsset transactions isEmpty not) ifTrue: [accumulatedTransactions addLast: childAsset transactions first]].
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:21'!
FAILURE!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:26:21'!
FAILURE!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:26:21'!
FAILURE!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:26:21'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:24'!
FAILURE!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:26:58'!
FAILURE!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:27:54'!
FAILURE!
!ReceptiveAccount methodsFor: 'transactions - private' stamp: 'dv 5/24/2021 19:29:02' prior: 50865557!
register: aTransaction

	transactions addLast: aTransaction 
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:29:04'!
FAILURE!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:29:04'!
FAILURE!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:29:04'!
FAILURE!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:29:04'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:29:11'!
FAILURE!

aPortfolio transactions !

anAccount transactions!

anotherAccount transactions!

aPortfolio transactions !

aPortfolio transactions !

aPortfolio transactions!

anAccount transactions!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:34:09' prior: 50865562 overrides: 50876524!
transactions 

	^ transactions deepCopy ! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:34:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:34:10'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:34:22'!
ERROR!

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'dv 5/24/2021 19:36:51'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccount stamp: 'dv 5/24/2021 19:37:11'!
FinancialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'dv 5/24/2021 19:37:11'!
FinancialAsset subclass: #Portfolio
	instanceVariableNames: 'childAssets roots'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #FinancialAsset stamp: 'dv 5/24/2021 19:37:12'!
Object subclass: #FinancialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'dv 5/24/2021 19:37:12'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'dv 5/24/2021 19:37:13'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'dv 5/24/2021 19:37:13'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'dv 5/24/2021 19:37:14'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #PortofolioTest stamp: 'dv 5/24/2021 19:37:14'!
TestCase subclass: #PortofolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of /home/duerunner/UBA/Inge1/2021-1c/linux64/Portfolio-Ejercicio.st----!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/24/2021 19:38:00' prior: 50892880 overrides: 50892782!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := 	OrderedCollection new.
	childAssets do: [ :childAsset| accumulatedTransactions addAll: childAsset transactions].
	^ accumulatedTransactions! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'dv 5/24/2021 19:38:18' prior: 50892916 overrides: 16896425!
initialize

	transactions := OrderedCollection new.! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:38:21'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test29 stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:38:25'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 19:41:48' prior: 50892515!
test28AddPortfolioToRootPortfolioUpdatesRoot
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!methodRemoval: PortofolioTest #test29 stamp: 'dv 5/24/2021 19:41:54'!
test29
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #PortofolioTest #test30 stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/24/2021 19:42:04'!
PASSED!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 19:43:03'!
test29AssSecondRootToChildPortfolioUpdatesRootsToMany

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	! !

!methodRemoval: PortofolioTest #test30 stamp: 'dv 5/24/2021 19:43:03'!
test30

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 19:43:21'!
test29AddSecondRootToChildPortfolioUpdatesRootsToMany

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	! !

!methodRemoval: PortofolioTest #test29AssSecondRootToChildPortfolioUpdatesRootsToMany stamp: 'dv 5/24/2021 19:43:21'!
test29AssSecondRootToChildPortfolioUpdatesRootsToMany

	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio |

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.
	
	self assert: 2 equals: aMiddlePortfolio roots size.
	self assert: aMiddlePortfolio roots includes: aLeftRootPortfolio.
	self assert: aMiddlePortfolio roots includes: aRightRootPortfolio.
	
	
	!
!PortofolioTest methodsFor: 'tests - roots' stamp: 'dv 5/24/2021 19:43:50'!
test28AddPortfolioToRootPortfolioUpdatesRootsToRootPortfolio
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.! !

!methodRemoval: PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRoot stamp: 'dv 5/24/2021 19:43:50'!
test28AddPortfolioToRootPortfolioUpdatesRoot
	| aRootPortfolio aLowerPortfolio aMiddlePortfolio |
	aRootPortfolio := Portfolio  new.
	aMiddlePortfolio := Portfolio  new.
	aLowerPortfolio := Portfolio  new.
	
	aMiddlePortfolio add: aLowerPortfolio.
	aRootPortfolio add: aMiddlePortfolio.
	
	self assert: 1 equals: aLowerPortfolio  roots size.
	self assert: aLowerPortfolio roots includes: aRootPortfolio.!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:36:57'!
xxx: accumulatedTransactions

	accumulatedTransactions , self transactions 
! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:37:30' prior: 50893423!
xxx: accumulatedTransactions

	accumulatedTransactions addAll: self transactions 
! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:38:29' prior: 50892946 overrides: 50892782!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := 	OrderedCollection new.
	childAssets do: [ :childAsset| childAsset xxx: accumulatedTransactions].
	^ accumulatedTransactions! !
!ReceptiveAccount methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:38:51'!
xxx: accumulatedTransactions

	accumulatedTransactions addAll: self transactions 
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRootsToRootPortfolio stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #PortofolioTest #test29AddSecondRootToChildPortfolioUpdatesRootsToMany stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/25/2021 16:40:52'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:41:59' prior: 50893435 overrides: 50892782!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := 	OrderedCollection new.
	'''childAssets do: [ :childAsset| childAsset xxx: accumulatedTransactions].'''
	self xxx: accumulatedTransactions. 
	^ accumulatedTransactions! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:42:45' prior: 50893429!
xxx: accumulatedTransactions
	childAssets do: [ :childAsset| childAsset xxx: accumulatedTransactions].
! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/25/2021 16:43:05'!
ERROR!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRootsToRootPortfolio stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test29AddSecondRootToChildPortfolioUpdatesRootsToMany stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/25/2021 16:43:05'!
PASSED!

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/25/2021 16:43:11'!
ERROR!
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:43:42' prior: 50893598 overrides: 50892782!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := 	OrderedCollection new.
	self xxx: accumulatedTransactions. 
	^ accumulatedTransactions! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRootsToRootPortfolio stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #PortofolioTest #test29AddSecondRootToChildPortfolioUpdatesRootsToMany stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/25/2021 16:43:43'!
PASSED!
!ReceptiveAccount methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:45:27'!
includeTransactionsTo: accumulatedTransactions

	accumulatedTransactions addAll: self transactions 
! !
!Portfolio methodsFor: 'transactions' stamp: 'dv 5/25/2021 16:45:27'!
includeTransactionsTo: accumulatedTransactions
	childAssets do: [ :childAsset| childAsset xxx: accumulatedTransactions].
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/25/2021 16:45:27' prior: 50893767 overrides: 50892782!
transactions
	| accumulatedTransactions |
	accumulatedTransactions := 	OrderedCollection new.
	self includeTransactionsTo: accumulatedTransactions. 
	^ accumulatedTransactions! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/25/2021 16:45:27' prior: 50893609!
xxx: accumulatedTransactions
	childAssets do: [ :childAsset| childAsset includeTransactionsTo: accumulatedTransactions].
! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'dv 5/25/2021 16:45:27' prior: 50893929!
includeTransactionsTo: accumulatedTransactions
	childAssets do: [ :childAsset| childAsset includeTransactionsTo: accumulatedTransactions].
! !

!methodRemoval: ReceptiveAccount #xxx: stamp: 'dv 5/25/2021 16:45:27'!
xxx: accumulatedTransactions

	accumulatedTransactions addAll: self transactions 
!

!methodRemoval: Portfolio #xxx: stamp: 'dv 5/25/2021 16:45:27'!
xxx: accumulatedTransactions
	childAssets do: [ :childAsset| childAsset includeTransactionsTo: accumulatedTransactions].
!
!FinancialAsset methodsFor: 'nil' stamp: 'dv 5/25/2021 16:47:01'!
includeTransactionsTo: accumulatedTransactions
	self subclassResponsibility ! !
!FinancialAsset methodsFor: 'roots - private' stamp: 'dv 5/25/2021 16:50:03' prior: 50892791!
updateRoots: roots
	
	self  subclassResponsibility ! !
!PortofolioTest methodsFor: 'tests - additions' stamp: 'dv 5/25/2021 16:55:16' prior: 50892384!
test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError
"	LP   RP
	  \   /  \
	  MP    A1
	   x
	  A1 
"
	| aLeftRootPortfolio aRightRootPortfolio aMiddlePortfolio anAccount|

	aLeftRootPortfolio := Portfolio new.
	aMiddlePortfolio := Portfolio new.
	aRightRootPortfolio := Portfolio new.
	anAccount  := ReceptiveAccount  new.
	
	aRightRootPortfolio add: aMiddlePortfolio.
	aLeftRootPortfolio add: aMiddlePortfolio.

	aRightRootPortfolio add: anAccount.
	
	self
		should: [	aMiddlePortfolio  add: anAccount.]
		raise: Error
		withMessageText: Portfolio cannotAddDuplicatedAsset.! !
!PortofolioTest methodsFor: 'test - has registered' stamp: 'dv 5/25/2021 16:55:54' prior: 50892155!
test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions
	| aPortfolio anAccount anotherAccount anotherPortfolio aParentPortfolio |
	aParentPortfolio := Portfolio new.
	
	aPortfolio := Portfolio new.
	anAccount := ReceptiveAccount new.
	Deposit register: 50 on: anAccount.
	aPortfolio add: anAccount.

	anotherPortfolio := Portfolio new.
	anotherAccount := ReceptiveAccount new.	
	Deposit register: 100 on: anotherAccount.
	anotherPortfolio add: anotherAccount.

	aParentPortfolio  add: aPortfolio. 
	aParentPortfolio  add: anotherPortfolio.

	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 100 on: anotherAccount )).
	self assert: (aParentPortfolio hasRegistered: (Withdraw register: 1 on: anAccount )).! !
!PortofolioTest methodsFor: 'tests - balance' stamp: 'dv 5/25/2021 16:57:34' prior: 50892206!
test01EmptyPortfolioHasBalanceZero
	"Existen varios tests que se pueden borrar pero los dejamos para que se aprecie mejor el proceso de como hicimos TDD de manera incremental.
	 Originalmente Portfolio y Account eran ideas distintas."
	|aPortfolio|
	aPortfolio := 	Portfolio new.
	self assert: aPortfolio balance = 0 ! !

!testRun: #PortofolioTest #test01EmptyPortfolioHasBalanceZero stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test02APortfolioWIthAccountBalanceIsEqualToAccountBalance stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test03APortfolioWithPortfolioBalanceIsEqualToPortfolioBalance stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test04APortfolioWithMoreThanOneAccountBalanceIsEqualToSumOfAccountsBalance stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test05APortfolioWithMoreThanOnePortfolioBalanceIsEqualToSumOfPortfolioBalance stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test06APortfolioWithAccountAndPortfolioBalanceIsEqualToAccountAndPortfolioBalance stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test07AnEmptyPortfolioHasNotRegisteredATransaction stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test08APortfolioWithAccountHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test09APortfolioWithAccountHasNotRegisteredAnotherTransaction stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test10APortfolioWithMultipleAccountsHasRegisteredAccountTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test11APortfolioWithPortfolioHasRegisteredPortfolioTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test12APortfolioWithPortfolioHasNotRegisteredOtherTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test13APortfolioWithMultiplePortfoliosHasRegisteresPortfoliosTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test14APortfolioWithAccountAndPortfolioHasREgisteredAccountAndPortfolioTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test15EmptyPortfolioTransactionsIsEmpty stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test16APortfolioWithAccountTransactionsIncludesAccountTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test17APortfolioWithAccountsTransactionsIncludesAccountsTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test18APortfolioWithPortfolioTransactionsHasPortfolioTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test19APortfolioWithPortfolioTransactionsHasPortfoliosTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test20APortfolioWithPortolioAndAccountTransactionsIncludesPortfolioAndAccountsTransactions stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test21AddARepeatedAccountInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:00'!
PASSED!

!testRun: #PortofolioTest #test22AddARepeatedPortfolioInPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test23AddAPortfolioToItselfRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test24AddRootPortfolioToChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test25AddRepeatedRootChildPortfolioToRootPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test26AddRootChildPortfolioToAnotherRootChildPortfolioRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test27AddRootChildOfTreeToSharedPortfolioOfAnotherTreeRaisesDuplicatedAssetError stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test28AddPortfolioToRootPortfolioUpdatesRootsToRootPortfolio stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #PortofolioTest #test29AddSecondRootToChildPortfolioUpdatesRootsToMany stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'dv 5/25/2021 16:59:01'!
PASSED!

----QUIT----(25 May 2021 16:59:16) CuisUniversity-4532.image priorSource: 17731974!

----STARTUP---- (27 May 2021 19:07:37) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----QUIT----(28 May 2021 10:10:58) CuisUniversity-4532.image priorSource: 18001339!

----STARTUP---- (10 June 2021 18:32:11) as /home/duerunner/UBA/Inge1/2021-1c/linux64/CuisUniversity-4532.image!


----QUIT----(10 June 2021 18:32:17) CuisUniversity-4532.image priorSource: 18001537!

----STARTUP---- (10 June 2021 18:33:23) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


----QUIT----(10 June 2021 18:33:26) CuisUniversity-4532.image priorSource: 18001736!

----STARTUP---- (10 June 2021 18:34:22) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


----STARTUP---- (10 June 2021 18:34:03) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


----QUIT----(10 June 2021 18:34:31) CuisUniversity-4532.image priorSource: 18001939!

----End fileIn of /home/duerunner/UBA/Inge1/2021-1c/20-TusLibros/TusLibros-18.st----!
!Cart class methodsFor: 'instance creation' stamp: 'DV 6/10/2021 18:35:11' prior: 50894290!
acceptingItemsOf: aCatalog

	^self new initializeAcceptingItemsOf: aCatalog  ! !

----QUIT----(10 June 2021 18:35:19) CuisUniversity-4532.image priorSource: 18001939!

----STARTUP---- (10 June 2021 18:35:36) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CartTest methodsFor: 'tests' stamp: 'DV 6/10/2021 18:35:51'!
test08CartRememberTheNumberOfAddedItems

	| cart |
	
	cart := self createCart.
	
	cart add: 2 of: self itemSellByTheStore.
	self assert: (cart occurrencesOf: self itemSellByTheStore) = 2! !

!methodRemoval: CartTest #test08CartRememberTheNumberOfAddedItems stamp: 'DV 6/10/2021 18:35:58'!
test08CartRememberTheNumberOfAddedItems

	| cart |
	
	cart := self createCart.
	
	cart add: 2 of: self itemSellByTheStore.
	self assert: (cart occurrencesOf: self itemSellByTheStore) = 2!

----SNAPSHOT----(10 June 2021 18:37:30) CuisUniversity-4532.image priorSource: 18008240!

----QUIT----(10 June 2021 18:37:33) CuisUniversity-4532.image priorSource: 18008988!

----STARTUP---- (10 June 2021 18:39:32) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'DV 6/10/2021 18:46:40'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #Cashier
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/10/2021 18:46:47'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'nil' stamp: 'DV 6/10/2021 19:45:55'!
test01CheckOutOfEmptyCartRaisesErrorCannotCheckoutOfEmptyCart

	|cashier|
	
	cashier :=self createCashierWith: self createEmptyCart
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 19:50:23'!
test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart

	|cashier|
	
	cashier :=self createCashierWith: self createEmptyCart.
	
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:50:33'!
ERROR!

!methodRemoval: CashierTest #test01CheckOutOfEmptyCartRaisesErrorCannotCheckoutOfEmptyCart stamp: 'DV 6/10/2021 19:50:50'!
test01CheckOutOfEmptyCartRaisesErrorCannotCheckoutOfEmptyCart

	|cashier|
	
	cashier :=self createCashierWith: self createEmptyCart
	!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 19:52:29' prior: 50894469!
test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart

	| cashier |
	cashier :=self createCashierWith: self createEmptyCart.
	
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 19:52:58' prior: 50894493!
test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart

	| cashier |
	cashier := self createCashierWith: self createEmptyCart.
	
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:53:04'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:53:04'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:53:31'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:53:31'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 19:54:31'!
createEmptyCart
	^ Cart! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 19:55:02' prior: 50894532!
createEmptyCart
	^ Cart acceptingItemsOf: [].! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:56:45'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 19:56:45'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 19:57:34'!
createCashierWith: aDebitCard
	^ Cashier with: aDebitCard ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:02:06'!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashierWith: self createEmptyCart.
	
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].! !

!methodRemoval: CashierTest #test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart stamp: 'DV 6/10/2021 20:02:06'!
test01CheckOutEmptyCartRaisesErrorCannotCheckoutEmptyCart

	| cashier |
	cashier := self createCashierWith: self createEmptyCart.
	
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].!
!CashierTest methodsFor: 'nil' stamp: 'DV 6/10/2021 20:06:12'!
defaultCatalog
	
	^ Array with: self itemSellByTheStore! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:06:40'!
itemSellByTheStore
	
	^ 'validBook'! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:07:52'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog! !

!methodRemoval: CashierTest #createEmptyCart stamp: 'DV 6/10/2021 20:08:03'!
createEmptyCart
	^ Cart acceptingItemsOf: [].!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:08:46' prior: 50894548!
createCashierWith: aPriceChart
	^ Cashier with: aPriceChart! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:11:50'!
defaultPriceChart
	
	^ Dictionary newFromPairs: {self itemSellByTheStore . 100}. ! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:12:09' prior: 50894598!
defaultPriceChart
	
	^ Dictionary newFromPairs: {self itemSellByTheStore . 100}. ! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:12:44'!
createCashier
	^ Cashier with: self defaultPriceChart ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:13:43' prior: 50894552!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	
	self should: [cashier checkout: self createCart ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier CannotCheckoutEmptyCart].! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:13:50'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:13:50'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/10/2021 20:14:00'!
with: aDictionary 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aDictionary ! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/10/2021 20:14:17' prior: 50894631!
with: aDictionary 
	^self new initializeWith: aDictionary ! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/10/2021 20:14:33' prior: 50894639!
with: aPriceChart
	^self new initializeWith: aPriceChart ! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:14:38'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/10/2021 20:14:54'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initializa' stamp: 'DV 6/10/2021 20:14:54'!
initializeWith: aPriceChart 
	self shouldBeImplemented.
	priceChart := aPriceChart.! !
!Cashier methodsFor: 'initializa' stamp: 'DV 6/10/2021 20:15:26' prior: 50894659!
initializeWith: aPriceChart 
	priceChart := aPriceChart.! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:15:27'!
ERROR!
!Cashier class methodsFor: 'error' stamp: 'DV 6/10/2021 20:15:45'!
CannotCheckoutEmptyCart
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error' stamp: 'DV 6/10/2021 20:16:16' prior: 50894673!
CannotCheckoutEmptyCart
	'No se puede facturar un carrito vacio'.! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:16:17'!
FAILURE!
!Cashier class methodsFor: 'error' stamp: 'DV 6/10/2021 20:16:39'!
cannotCheckoutEmptyCart
	'No se puede facturar un carrito vacio'.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:16:39' prior: 50894614!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	
	self should: [cashier checkout: self createCart ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !

!methodRemoval: Cashier class #CannotCheckoutEmptyCart stamp: 'DV 6/10/2021 20:16:39'!
CannotCheckoutEmptyCart
	'No se puede facturar un carrito vacio'.!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:16:50' prior: 50894692!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	self should: [cashier checkout: self createCart ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!Cashier methodsFor: 'nil' stamp: 'DV 6/10/2021 20:17:35'!
checkout: aCart
	self error: self class cannotCheckoutEmptyCart ! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:17:42'!
PASSED!
!Cashier class methodsFor: 'error' stamp: 'DV 6/10/2021 20:18:19' prior: 50894686!
cannotCheckoutEmptyCart
	^'No se puede facturar un carrito vacio'.! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:18:34'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:18:34'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:21:49'!
test02CheckOutOneItemCartReturnsItemsPrice

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self .
	self should: [cashier checkout:   oneItemCart] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:22:16' prior: 50894737!
test02CheckOutOneItemCartReturnsItemsPrice

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore .
	self should: [cashier checkout: oneItemCart] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:23:00' prior: 50894750!
test02CheckOutOneItemCartReturnsItemsPrice

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart).! !

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:23:01'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:24:03' prior: 50894718!
checkout: aCart
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
! !
!Cart methodsFor: 'assertions' stamp: 'DV 6/10/2021 20:27:11'!
items
	^items ! !
!Cart methodsFor: 'assertions' stamp: 'DV 6/10/2021 20:27:15' prior: 50894782!
items
	^items copy! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:27:48' prior: 50894777!
checkout: aCart
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	aCart items do:[]
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:30:37' prior: 50894790!
checkout: aCart
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	aCart items do:[:item| priceChart at: item ifAbsent: 0]
! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:36:18' prior: 50894604!
defaultPriceChart
	
	^ Dictionary new at:self itemSellByTheStore put:100. ! !

!methodRemoval: Cart #items stamp: 'DV 6/10/2021 20:40:31'!
items
	^items copy!
!Cart methodsFor: 'nil' stamp: 'DV 6/10/2021 20:42:11'!
total
	^items sum:[:item| catalog at: item].! !
!Cart methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:42:43' prior: 50894812!
total
	^items sum: [:item| catalog at: item] ifEmpty: [0].! !
!Cart methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:42:50' prior: 50894817!
total
	^items sum: [:item| catalog at: item] ifEmpty: 0.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:42:53' prior: 50894822!
total
	^items sum: [:item| catalog at: item] ifEmpty: 0! !
!CartTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:43:49' prior: 50894391!
defaultCatalog
	
	^ Dictionary new at: self itemSellByTheStore put: 100! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:44:06' prior: 50894575!
defaultCatalog
	
	^ Dictionary new at: self itemSellByTheStore put: 100! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/10/2021 20:44:38' prior: 50894797!
checkout: aCart
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	^ aCart total
! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:44:55'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:44:55'!
ERROR!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:44:55'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'DV 6/10/2021 20:45:11' prior: 50894239!
assertIsValidItem: anItem

	(catalog includesKey: anItem) ifFalse: [ self error: self invalidItemErrorMessage ]! !

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:45:13'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/10/2021 20:46:19'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/10/2021 20:46:19'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/10/2021 20:46:19'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/10/2021 20:46:19'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/10/2021 20:46:19'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/10/2021 20:46:19'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/10/2021 20:46:19'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/10/2021 20:46:19'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/10/2021 20:46:21'!
ERROR!
!CartTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:47:33' prior: 50894832!
defaultCatalog
	| dict |
	dict:=  Dictionary new
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!CartTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:47:41' prior: 50894897!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/10/2021 20:47:52'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:47:59'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:47:59'!
ERROR!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:47:59'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:48:28'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:48:28'!
ERROR!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:48:28'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:49:06' prior: 50894837!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:49:09'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:49:09'!
PASSED!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:49:26' prior: 50894609!
createCashier
	^ Cashier! !

!methodRemoval: CashierTest #createCashierWith: stamp: 'DV 6/10/2021 20:49:29'!
createCashierWith: aPriceChart
	^ Cashier with: aPriceChart!

!methodRemoval: CashierTest #defaultPriceChart stamp: 'DV 6/10/2021 20:49:38'!
defaultPriceChart
	
	^ Dictionary new at:self itemSellByTheStore put:100. !

!methodRemoval: Cashier #initializeWith: stamp: 'DV 6/10/2021 20:49:53'!
initializeWith: aPriceChart 
	priceChart := aPriceChart.!

!methodRemoval: Cashier class #with: stamp: 'DV 6/10/2021 20:50:04'!
with: aPriceChart
	^self new initializeWith: aPriceChart !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:50:09'!
FAILURE!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:50:10'!
ERROR!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:50:13'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'DV 6/10/2021 20:50:39' prior: 50894967!
createCashier
	^ Cashier new! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/10/2021 20:50:41'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/10/2021 20:50:41'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:51:20'!
test02CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart).! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:51:31'!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart).! !

!methodRemoval: CashierTest #test02CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/10/2021 20:51:31'!
test02CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart).!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/10/2021 20:53:07' prior: 50895018!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: 21/07/98 ).! !

July/24!

July/2024!

----QUIT----(10 June 2021 21:45:17) CuisUniversity-4532.image priorSource: 18009078!

----STARTUP---- (13 June 2021 13:50:20) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 14:46:10' prior: 50895039!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: July/24 ).! !

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 14:46:11'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 14:46:56'!
checkout: aCart withCard: aDebitCard
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	^ aCart total
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 14:48:57' prior: 50895071!
checkout: aCart withCard: aDebitCard
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	( Date today < aDebitCard ) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]
	^ aCart total
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 14:49:02' prior: 50895078!
checkout: aCart withCard: aDebitCard
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	( Date today < aDebitCard ) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	^ aCart total
! !
!Cashier class methodsFor: 'error' stamp: 'DV 6/13/2021 14:49:27'!
cannotCheckoutWithExpiredCard
	^'No se puede facturar una tarjeta vencida'.! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 14:51:22' prior: 50895057!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: July/24 ).
	
	self 
		should: [cashier checkout: oneItemCart withCard: July/20 ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 14:51:34' prior: 50895102!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: July/20 ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !

Date today!

July/20 < Date today!

July/20!

July/20!

July/2020!

2020/July!

1/July/2020!

01/07/2020
!

07/2020
!

July!

July!

 GregorianMonthOfYear year: 2020  month: 07!

 GregorianMonthOfYear year: 2020  month: July!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: 2021  month: July)!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: 2020  month: July)!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: 2020  month: June)!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: 2020  month: September)!


Date today!


Date year!


Date month!

Date today year!


Date today month!

 (GregorianMonthOfYear year: 2020  month: July) < (Date today month)!

 (GregorianMonthOfYear year: 2020  month: July) < (Date today month).!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: 2021 month: (Date today month))
!


Date today year!

 (GregorianMonthOfYear year: 2020  month: July) < (GregorianMonthOfYear year: Date today year month: (Date today month))
!


Date today yearNumber !


Date today monthNumber!


Date today month!


Date today month index!


Date today month monthIndex!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 15:28:35'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 15:29:48' prior: 50895088!
checkout: aCart withCard: aDebitCard
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	self error: self class cannotCheckoutWithExpiredCard.
	'''( Date today < aDebitCard ) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].'''
	^ aCart total
! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/13/2021 15:29:49'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/13/2021 15:29:49'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 15:29:49'!
PASSED!
!CashierTest methodsFor: 'support' stamp: 'DV 6/13/2021 15:31:41'!
expiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) - 1 monthNumber: (Date today month monthIndex)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:31:57' prior: 50895119!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredDate ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:33:00'!
test04CheckOutWithNonExpiredCard

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredDate ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:35:17'!
test04CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self expiredDate)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:35:33' prior: 50895235!
test04CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self expiredDate)! !

!testRun: #CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:35:41'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 15:36:35' prior: 50895179!
checkout: aCart withCard: aDebitCard
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	(self currentMonthOfYear < aDebitCard ) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	^ aCart total
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 15:36:49' prior: 50895261!
checkout: aCart withCard: aExpirationDate
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	(self currentMonthOfYear < aExpirationDate ) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	^ aCart total
! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/13/2021 15:36:57'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/13/2021 15:36:57'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 15:36:57'!
FAILURE!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCard stamp: 'DV 6/13/2021 15:36:57'!
FAILURE!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:36:57'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 15:37:03'!
FAILURE!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 15:37:36' prior: 50895272!
checkout: aCart withCard: aExpirationDate
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	(aExpirationDate < self currentMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	^ aCart total
! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/13/2021 15:37:37'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/13/2021 15:37:37'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 15:37:37'!
PASSED!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCard stamp: 'DV 6/13/2021 15:37:37'!
PASSED!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:37:37'!
ERROR!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:37:37'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:38:03' prior: 50895246!
test04CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredDate)! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/13/2021 15:38:14'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/13/2021 15:38:15'!
PASSED!

!testRun: #CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/13/2021 15:38:15'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 15:38:16'!
PASSED!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCard stamp: 'DV 6/13/2021 15:38:16'!
PASSED!

!testRun: #CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:38:16'!
PASSED!

!methodRemoval: CashierTest #test04CheckOutWithNonExpiredCard stamp: 'DV 6/13/2021 15:38:30'!
test04CheckOutWithNonExpiredCard

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredDate ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]!

!methodRemoval: CashierTest #test02CheckOutOneItemCartReturnsItemsPrice stamp: 'DV 6/13/2021 15:40:20'!
test02CheckOutOneItemCartReturnsItemsPrice

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart).!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:40:47'!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredDate)! !

!methodRemoval: CashierTest #test04CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 15:40:47'!
test04CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredDate)!
!CashierTest methodsFor: 'support' stamp: 'DV 6/13/2021 15:46:13'!
nonExpiredCard
	^self nonExpiredDate! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:46:39' prior: 50895207!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/13/2021 15:47:07'!
expiredCard
	^self expiredDate! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:47:24' prior: 50895391!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:51:49'!
test04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:52:15' prior: 50895446!
test04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self notA16DigitsCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:53:26' prior: 50895461!
test04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self notA16DigitsNonExpiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 15:54:03' prior: 50895476!
test04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self nonExpiredCardwithShortCardNumber ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/13/2021 16:16:16'!
nonExpiredCardwithShortCardNumber
	^ Dictionary at: 'number' put: '...'! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 16:16:30'!
xtest04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self nonExpiredCardwithShortCardNumber ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !

!methodRemoval: CashierTest #test04CheckOutWithNotA16DigitsCreditCardRaisesError stamp: 'DV 6/13/2021 16:16:30'!
test04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self nonExpiredCardwithShortCardNumber ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 16:17:23'!
test05CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/13/2021 16:17:24' prior: 50895542!
test05CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := self createCart add: self itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !
!Cart methodsFor: 'queries' stamp: 'DV 6/13/2021 16:19:42'!
clear
	^items removeAll! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/13/2021 16:22:09' prior: 50895303!
checkout: aCart withCard: aExpirationDate
	| total |
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	(aExpirationDate < self currentMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	total := aCart total.
	aCart clear.
	^ total
! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/13/2021 16:22:15'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/13/2021 16:22:15'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/13/2021 16:22:15'!
PASSED!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/13/2021 16:22:15'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/13/2021 16:22:57'!
PASSED!

----QUIT----(13 June 2021 17:01:46) CuisUniversity-4532.image priorSource: 18028782!

----STARTUP---- (14 June 2021 10:20:35) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/14/2021 10:23:03'!
Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CreditCardTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCardTest category: 'TusLibros' stamp: 'DV 6/14/2021 10:23:12'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCardTest methodsFor: 'nil' stamp: 'DV 6/14/2021 10:32:34'!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCard] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard ]

	! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 10:34:01' prior: 50895645!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCard] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]

	! !
!CreditCard class methodsFor: 'no messages' stamp: 'DV 6/14/2021 10:35:10'!
invalidNameErrorMessage
	'EL nombre debe contener como máximo 30 caracteres.'! !


	'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' size!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:37:58'!
createCard
	^ CreditCard withOwner: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: '5555555555554444' withExpirationDate:''
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:38:39'!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^ CreditCard withOwner: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: '5555555555554444' withExpirationDate:''
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:39:00' prior: 50895673!
createCard
	^ CreditCard withOwner: 'Simón Bolívar' withNumber: '5555555555554444' withExpirationDate:''
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:39:49'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)! !

Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #StoreTestObjects category: 'TusLibros' stamp: 'DV 6/14/2021 10:40:31'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 10:40:51'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:41:39' prior: 50895681!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^ CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: '5555555555554444' withExpirationDate:''
! !
!CreditCard class methodsFor: 'nil' stamp: 'DV 6/14/2021 10:43:07'!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self error:[self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 10:43:15' prior: 50895665!
invalidNameErrorMessage
	'El nombre debe contener como máximo 30 caracteres.'! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:43:18'!
FAILURE!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:43:18'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 10:43:40' prior: 50895655!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCardWithInvalidNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]

	! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:43:49' prior: 50895691!
createCard
	^ CreditCard withName: 'Simón Bolívar' withNumber: '5555555555554444' withExpirationDate:''
! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:44:09'!
FAILURE!

 CreditCard invalidNameErrorMessage!
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 10:44:39' prior: 50895738!
invalidNameErrorMessage
	^'El nombre debe contener como máximo 30 caracteres.'! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:44:41'!
FAILURE!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:44:41'!
FAILURE!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:46:01'!
FAILURE!

anError messageText!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 10:46:51' prior: 50895722!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: '5555555555554444' withExpirationDate:''
! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 10:48:06' prior: 50895731!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self error: self invalidNameErrorMessage! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 10:48:10'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:04:03'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:04:03'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:04:27'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:04:27'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:07:32'!
test02CreatingACardWithValidNameIsCorrect

	|card|
	
	card := self createCard.
	
	self assert: 'Simon Bolivar' equals:  card name! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:09:50' prior: 50895805!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:09:57'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:09:57'!
ERROR!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:09:57'!
ERROR!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/14/2021 11:10:12'!
Object subclass: #CreditCard
	instanceVariableNames: 'name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/14/2021 11:10:12'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/14/2021 11:10:13'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'DV 6/14/2021 11:10:13'!
initializeWithName: aName withNumber: aNumber withDate: aDate 
	self shouldBeImplemented.
	name := aName.
	number := aNumber.
	date := aDate.! !
!CreditCard methodsFor: 'initialization' stamp: 'DV 6/14/2021 11:10:19' prior: 50895880!
initializeWithName: aName withNumber: aNumber withDate: aDate 
	name := aName.
	number := aNumber.
	date := aDate.! !

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:10:21'!
FAILURE!
!CreditCard methodsFor: 'nil' stamp: 'DV 6/14/2021 11:10:49' overrides: 16882612!
name 
	^name! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:11:56'!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[self createCardWithInvalidNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]

	! !
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 11:12:31'!
createCard
	^ CreditCard withName: 'Simón Bolívar' withNumber: '5555555555554444' withExpirationDate:''
! !

!methodRemoval: CreditCardTest #nonExpiredDate stamp: 'DV 6/14/2021 11:13:07'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)!

!classDefinition: #CreditCardTest category: 'TusLibros' stamp: 'DV 6/14/2021 11:13:50'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:13:48' overrides: 16927572!
setUp 
	testObjects := StoreTestObjects  new! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:14:17' prior: 50895912!
createCard
	^ CreditCard withName: 'Simón Bolívar' withNumber: '5555555555554444' withExpirationDate: self nonExpiredDate
! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:14:41'!
validCardName
	^ 'Simón Bolívar'! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:15:03' prior: 50895937!
createCard
	^ CreditCard withName: self validCardName withNumber: '5555555555554444' withExpirationDate: self nonExpiredDate
! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:15:19' prior: 50895949!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self nonExpiredDate
! !
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 11:15:42'!
validCardNumber
	^'5555555555554444' ! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:15:55'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects #nonExpiredDate stamp: 'DV 6/14/2021 11:16:02'!
nonExpiredDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 1 monthNumber: (Date today month monthIndex)!
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:16:15' prior: 50895957!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self validCardDate ! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:16:25' prior: 50895968!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !

!methodRemoval: CreditCardTest #createCard stamp: 'DV 6/14/2021 11:16:52'!
createCard
	^ CreditCard withName: 'Simón Bolívar' withNumber: '5555555555554444' withExpirationDate:''
!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:17:08' prior: 50895831!
test02CreatingACardWithValidNameIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: 'Simon Bolivar' equals:  card name! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:17:13'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:17:13'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:17:13'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:17:13'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:18:53' prior: 50895901!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[self createCardWithInvalidNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:20:03'!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: 'Simón Bolívar' withNumber: '' withExpirationDate:''
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:20:17' prior: 50895795!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: '5555555555554444' withExpirationDate: testObjects validCardDate 
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:20:24' prior: 50896037!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: 'Simón Bolívar' withNumber: '' withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:20:41'!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: 'Simón Bolívar' withNumber: '' withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:20:58' prior: 50896064!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: 'Simón Bolívar' withNumber: '666666666666666666666666' withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:21:32' prior: 50896072!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '666666666666666666666666' withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:21:41' prior: 50896056!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '' withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:21:57' prior: 50896045!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: testObjects validCardNumber withExpirationDate: testObjects validCardDate 
! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:21:59'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:21:59'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:21:59'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:21:59'!
FAILURE!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:22:21'!
PASSED!
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:23:59' prior: 50895839!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aName size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:24:26'!
invalidNumberErrorMessage
	^'El número de tarjeta  debe contener 16 dígitos.'! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:24:59'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:24:59'!
ERROR!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:24:59'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:24:59'!
ERROR!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 11:25:41' prior: 50896129!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

12 size!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 11:32:49' prior: 50896162!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 11:34:33' prior: 50895964!
validCardNumber
	^5555555555554444 ! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:34:44'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:34:44'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:34:44'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:34:44'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:35:12' prior: 50896003!
test02CreatingACardWithValidNameIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals:  card name! !

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:35:13'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:35:35'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:35:35'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:35:35'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:36:12'!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:36:20' prior: 50896026!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[self createCardWithInvalidNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:37:22' prior: 50896240!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[self createCardWithInvalidShortNumberAndValidNameAndExpirationDate ] 		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[self createCardWithInvalidLongNumberAndValidNameAndExpirationDate ] 		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:37:23'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:37:23'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:37:23'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:37:23'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:37:23'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:37:23'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:37:44' prior: 50896229!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNumberAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

'5234-3928-3468AB' size
!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:39:34'!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: testObjects validCardDate ! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:39:35'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:39:35'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:39:35'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:39:35'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:39:35'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:39:56' prior: 50896294!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:40:00'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:40:26' prior: 50896335!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNumberErrorMessage messageText equals: anError]! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/14/2021 11:40:55' prior: 50896141!
invalidNumberErrorMessage
	^'El número de tarjeta debe ser un NÚMERO con 16 dígitos.'! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:41:11'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:41:11'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:41:11'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:41:11'!
ERROR!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:41:11'!
ERROR!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:41:24' prior: 50896351!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNumberErrorMessage equals: anError messageText]! !

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:41:25'!
FAILURE!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 11:45:15' prior: 50896175!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[self error: self invalidNumberErrorMessage]ifNone:[].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:45:17'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:45:17'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:45:17'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:45:17'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:45:17'!
FAILURE!


	  '5234-3928-3468AB' detect:[:c| c isDigit not]!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 11:46:25' prior: 50896404!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c|self error: self invalidNumberErrorMessage]ifNone:[].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:46:27'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:46:27'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:46:27'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:46:27'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:46:27'!
FAILURE!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 11:46:53' prior: 50896441!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 11:46:56' prior: 50896306!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: testObjects validCardDate 
	
	
	
! !

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:47:16'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 11:47:28' prior: 50896388!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNumberErrorMessage equals: anError messageText]! !

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:47:29'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 11:47:29'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 11:47:29'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 11:47:29'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 11:47:29'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:00:41'!
test05CreatingACardWithAnExpiredDateRaisesError
	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNumberErrorMessage equals: anError messageText]! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 12:01:25'!
createCardWithValidNameAndValidNumberAndInvalidExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: testObjects validCardNumber withExpirationDate: testObjects validCardDate 
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 12:01:43' prior: 50896548!
createCardWithValidNameAndValidNumberAndInvalidExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: testObjects validCardNumber withExpirationDate: self invalidCardDate 
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 12:02:02'!
invalidCardDate 
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) -1 monthNumber: (Date today month monthIndex)! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:02:22' prior: 50896537!
test05CreatingACardWithAnExpiredDateRaisesError
	self should:[self createCardWithValidNameAndValidNumberAndInvalidExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidDateErrorMessage equals: anError messageText]! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/14/2021 12:03:18'!
invalidDateErrorMessage
	^'La fecha de vencimiento de la tarjeta debe ser un mes y año en el futuro.'! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:04:09' prior: 50896477!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate ) ifTrue: [self error: self invalidDateErrorMessage]
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:04:21' prior: 50896591!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate < 0) ifTrue: [self error: self invalidDateErrorMessage]
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:04:23' prior: 50896609!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate < 0) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!StoreTestObjects class methodsFor: 'nil' stamp: 'DV 6/14/2021 12:05:05'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects class #currentMonthOfYear stamp: 'DV 6/14/2021 12:05:11'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)!
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 12:05:18'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects #currentMonthOfYear stamp: 'DV 6/14/2021 12:05:26'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)!
!CreditCard class methodsFor: 'nil' stamp: 'DV 6/14/2021 12:05:45'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:06:06' prior: 50896627!
withName: aName withNumber: aNumber withExpirationDate: aDate
	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage].
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 12:06:10'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:06:10'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 12:06:10'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 12:06:10'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 12:06:10'!
PASSED!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:07:26'!
assertCardNameIsNotLongerThan30Characters: aName

	^ (aName size > 30) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:07:26' prior: 50896678!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	(aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage].
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:08:30'!
assertCardNumberSizeis16Digits: aNumber

	^ (aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:08:30' prior: 50896723!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	(aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[].
	(aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:08:56'!
assertCardNumberOnlyHasDigits: aNumber

	^ (aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:08:56' prior: 50896749!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	self assertCardNumberOnlyHasDigits: aNumber.
	(aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:09:34'!
assertCardNumberDigitsAndLengthAreValid: aNumber

	self assertCardNumberSizeis16Digits: aNumber.
	self assertCardNumberOnlyHasDigits: aNumber! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:09:34' prior: 50896775!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	self assertCardNumberDigitsAndLengthAreValid: aNumber.
	(aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage].
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:10:52'!
assertCardNumberExpirationDateIsInTheFuture: aDate

	^ (aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 12:10:52' prior: 50896798!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	self assertCardNumberDigitsAndLengthAreValid: aNumber.
	self assertCardNumberExpirationDateIsInTheFuture: aDate.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:12:39' prior: 50896207!
test02CreatingACardWithValidNameIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals:  card name.
	self assert: testObjects validCardNumber equals:  card number.
	self assert: testObjects validCardDate equals:  card date.! !

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:12:41'!
ERROR!
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:12:53'!
number
	self shouldBeImplemented.
	^number! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:12:58' prior: 50896848!
number
	^number! !

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:13:02'!
ERROR!
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:13:08'!
date
	self shouldBeImplemented.
	^date! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:13:13' prior: 50896860!
date
	^date! !

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:13:14'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 12:13:14'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:13:14'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 12:13:14'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 12:13:14'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 12:13:14'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:14:35'!
test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals:  card name.
	self assert: testObjects validCardNumber equals:  card number.
	self assert: testObjects validCardDate equals:  card date.! !

!methodRemoval: CreditCardTest #test02CreatingACardWithValidNameIsCorrect stamp: 'DV 6/14/2021 12:14:35'!
test02CreatingACardWithValidNameIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals:  card name.
	self assert: testObjects validCardNumber equals:  card number.
	self assert: testObjects validCardDate equals:  card date.!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:16:48' prior: 50896506!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
	raise: Error 
	withExceptionDo:[:anError |self assert: CreditCard invalidNumberErrorMessage equals: anError messageText]! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:17:52'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:17:52' prior: 50895567!
checkout: aCart withCard: aExpirationDate
	| total |
	self assertACartIsNotEmpty: aCart.
	(aExpirationDate < self currentMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard].
	total := aCart total.
	aCart clear.
	^ total
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:18:37'!
asserCardDateIsNotExpired: aExpirationDate

	^ (aExpirationDate < self currentMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:18:37' prior: 50896932!
checkout: aCart withCard: aExpirationDate
	| total |
	self assertACartIsNotEmpty: aCart.
	self asserCardDateIsNotExpired: aExpirationDate.
	total := aCart total.
	aCart clear.
	^ total
! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:19:05' prior: 50896951!
checkout: aCart withCard: aCreditCard
	| total |
	self assertACartIsNotEmpty: aCart.
	self asserCardDateIsNotExpired: aCreditCard.
	total := aCart total.
	aCart clear.
	^ total
! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'DV 6/14/2021 12:20:09'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:20:07' overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.! !
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 12:20:22'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog! !
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 12:20:35'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!StoreTestObjects methodsFor: 'nil' stamp: 'DV 6/14/2021 12:20:54'!
itemSellByTheStore
	
	^ 'validBook'! !

!methodRemoval: CashierTest #createCart stamp: 'DV 6/14/2021 12:21:05'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:21:25' prior: 50894708!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	self should: [cashier checkout: testObjects createCart ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:21:38' prior: 50895435!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:21:42' prior: 50895417!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:21:49' prior: 50895553!
test05CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:21:54' prior: 50895511!
xtest04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self nonExpiredCardwithShortCardNumber ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]! !

!methodRemoval: CashierTest #defaultCatalog stamp: 'DV 6/14/2021 12:22:31'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:23:55' prior: 50896998!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	self should: [cashier checkout: testObjects createCart withCard: testObjects nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/14/2021 12:24:45' prior: 50895413!
nonExpiredCard
	^testObjects createCard ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:25:00' prior: 50897067!
test01CheckOutEmptyCartRaisesError

	| cashier |
	cashier := self createCashier.
	self should: [cashier checkout: testObjects createCart withCard: self nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 12:25:13'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 12:25:13'!
ERROR!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 12:25:13'!
PASSED!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 12:25:13'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 12:25:22'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 12:25:31'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:26:08' prior: 50896943!
asserCardDateIsNotExpired: aCard

	^ (aCard date < self currentMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 12:26:14'!
PASSED!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 12:26:15'!
PASSED!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 12:30:15' prior: 50897115!
asserCardDateIsNotExpired: aCard

	^ (aCard isExpired) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #currentMonthOfYear stamp: 'DV 6/14/2021 12:30:23'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)!
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:31:36'!
isExpired
	^(date < self class currentMonthOfYear) not! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 12:32:20' prior: 50896890!
test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.! !

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:39:57'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 13:39:59'!
ERROR!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 13:39:59'!
FAILURE!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 13:39:59'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:39:59'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 13:40:06'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 13:40:30'!
ERROR!
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 13:41:00' prior: 50897142!
isExpired
	^(date < self class currentMonthOfYear)! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 13:41:01'!
FAILURE!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:41:01'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 13:41:01'!
FAILURE!

15 digitLength!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:54:04'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:54:04'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:54:04'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:54:04'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:54:04'!
PASSED!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 13:55:36' prior: 50896741!
assertCardNumberSizeis16Digits: aNumber
	'''0000-0000-0000-0000 preguntar'''.
	^ (aNumber asString size ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 13:56:01' prior: 50896188!
validCardNumber
	^0555555555554444 ! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:56:05'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:56:05'!
ERROR!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:56:05'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:56:05'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:56:05'!
FAILURE!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 13:56:05'!
FAILURE!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 13:56:05'!
ERROR!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 13:56:05'!
FAILURE!

!testRun: #CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 13:56:05'!
ERROR!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 13:56:24'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:56:24'!
ERROR!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 13:56:24'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 13:56:24'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 13:56:24'!
FAILURE!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 13:56:27'!
ERROR!
!StoreTestObjects methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 13:57:18' prior: 50897349!
validCardNumber
	^5555555555554444 ! !

Object subclass: #Consultas
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Consultas category: 'TusLibros' stamp: 'DV 6/14/2021 14:00:52'!
Object subclass: #Consultas
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Consultas methodsFor: 'nil' stamp: 'DV 6/14/2021 14:01:41'!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Deberia la clase CreditCard revisar la fecha de expiracion antes de crear la tarjeta?"! !
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 14:02:35' prior: 50897425!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Deberia la clase CreditCard revisar la fecha de expiracion antes de crear la tarjeta?"
	"Consultar StoreTestObjects cmo clase o instancia"! !

!methodRemoval: CashierTest #xtest04CheckOutWithNotA16DigitsCreditCardRaisesError stamp: 'DV 6/14/2021 14:03:31'!
xtest04CheckOutWithNotA16DigitsCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self nonExpiredCardwithShortCardNumber ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cashier cannotCheckoutWithExpiredCard ]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:03:36'!
test04CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !

!methodRemoval: CashierTest #test05CheckOutClearsCart stamp: 'DV 6/14/2021 14:03:36'!
test05CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 14:03:58'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 14:03:58'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 14:03:58'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 14:03:58'!
FAILURE!

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/14/2021 14:03:58'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 14:03:58'!
FAILURE!
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 14:05:36' prior: 50897433!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Deberia la clase CreditCard revisar la fecha de expiracion antes de crear la tarjeta?"
	"Consultar StoreTestObjects cmo clase o instancia"
	"Bad Smell, tener muchas cosas del lado de clase en credit card como currentMonthOfYear "! !

!methodRemoval: Cashier #checkout: stamp: 'DV 6/14/2021 14:06:49'!
checkout: aCart
	aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart].
	^ aCart total
!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 14:07:20'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 14:07:20'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 14:07:20'!
FAILURE!

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/14/2021 14:07:20'!
PASSED!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 14:07:20'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:07:53' prior: 50897020!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: self itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 14:07:54'!
FAILURE!
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 14:11:08' prior: 50897500!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Deberia la clase CreditCard revisar la fecha de expiracion antes de crear la tarjeta?"
	"Consultar StoreTestObjects cmo clase o instancia"
	"Bad Smell, tener muchas cosas del lado de clase en credit card como currentMonthOfYear "
	"Preguntar como crear tarjetas de credito vencidas"! !

!classDefinition: #CartTest category: 'TusLibros' stamp: 'DV 6/14/2021 14:32:34'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:32:33' overrides: 16927572!
setUp 
	testObjects := StoreTestObjects  new! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:32:53' prior: 50894341!
test01NewCartsAreCreatedEmpty

	self assert: testObjects createCart isEmpty! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:04' prior: 50894319!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects createCart.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:11' prior: 50894346!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createCart.
	
	cart add: self itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:17' prior: 50894306!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createCart.
	
	self 
		should: [cart add: 0 of: self itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:24' prior: 50894361!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects createCart.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:31' prior: 50894374!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	cart add: self itemSellByTheStore.
	self assert: (cart includes: self itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:37' prior: 50894354!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	self deny: (cart includes: self itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:33:44' prior: 50894332!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	cart add: 2 of: self itemSellByTheStore.
	self assert: (cart occurrencesOf: self itemSellByTheStore) = 2! !

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 14:33:48'!
PASSED!

!methodRemoval: CartTest #createCart stamp: 'DV 6/14/2021 14:33:59'!
createCart
	
	^Cart acceptingItemsOf: self defaultCatalog!

!methodRemoval: CartTest #itemNotSellByTheStore stamp: 'DV 6/14/2021 14:34:13'!
itemNotSellByTheStore
	
	^'invalidBook'!
!CartTest methodsFor: 'support' stamp: 'DV 6/14/2021 14:34:31'!
itemNotSellByTheStore
	
	^ 'validBook'! !
!CartTest methodsFor: 'support' stamp: 'DV 6/14/2021 14:34:34' prior: 50897690!
itemNotSellByTheStore
	
	^ 'InvalidBook'! !

!methodRemoval: CartTest #defaultCatalog stamp: 'DV 6/14/2021 14:34:41'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 14:34:44'!
PASSED!

!methodRemoval: CartTest #itemSellByTheStore stamp: 'DV 6/14/2021 14:35:43'!
itemSellByTheStore
	
	^ 'validBook'!
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:35:53' prior: 50897596!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createCart.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:36:00' prior: 50897604!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createCart.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:36:09' prior: 50897630!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:36:14' prior: 50897638!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:36:21' prior: 50897645!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: self itemSellByTheStore) = 2! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:36:26' prior: 50897770!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createCart.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 14:37:55'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 14:37:55'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:38:15' prior: 50897534!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:38:28' prior: 50897009!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:38:37' prior: 50897458!
test04CheckOutClearsCart

	| cashier oneItemCart |
	cashier := self createCashier.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !

!methodRemoval: CashierTest #itemSellByTheStore stamp: 'DV 6/14/2021 14:39:03'!
itemSellByTheStore
	
	^ 'validBook'!

!methodRemoval: CashierTest #nonExpiredCardwithShortCardNumber stamp: 'DV 6/14/2021 14:39:17'!
nonExpiredCardwithShortCardNumber
	^ Dictionary at: 'number' put: '...'!

----QUIT----(14 June 2021 14:41:28) CuisUniversity-4532.image priorSource: 18046914!

----STARTUP---- (14 June 2021 16:05:31) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 16:06:30'!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createCart.
	
	self assert: 0 equals: cart total.! !

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 16:06:34'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/14/2021 16:06:34'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 16:07:45' prior: 50897866!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createCart.
	50 timesDo: [	cart  add: testObjects itemSellByTheStore].
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 16:06:30' prior: 50897903!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createCart.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 16:08:59'!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := testObjects createCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 16:09:00'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 16:09:01'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/14/2021 16:09:01'!
PASSED!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/14/2021 16:09:01'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 16:10:27'!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := testObjects createCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/14/2021 16:10:29'!
PASSED!

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/14/2021 16:10:29'!
PASSED!
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 17:46:14'!
isExpiredOn: aMonthOfYear
	^(date < aMonthOfYear)! !
!Cashier methodsFor: 'assertions' stamp: 'DV 6/14/2021 17:49:05'!
asserCardDateIsNotExpired: aCard forDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #asserCardDateIsNotExpired: stamp: 'DV 6/14/2021 17:52:45'!
asserCardDateIsNotExpired: aCard

	^ (aCard isExpired) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 17:53:52'!
checkout: aCart withCard: aCreditCard onDate: today
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	total := aCart total.
	aCart clear.
	^ total
! !
!Cashier methodsFor: 'assertions' stamp: 'DV 6/14/2021 17:54:58'!
assertCardDateIsNotExpired: aCard forDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #asserCardDateIsNotExpired:forDate: stamp: 'DV 6/14/2021 17:54:58'!
asserCardDateIsNotExpired: aCard forDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 17:55:45' prior: 50896820!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotLongerThan30Characters: aName.
	self assertCardNumberDigitsAndLengthAreValid: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!methodRemoval: CreditCard class #assertCardNumberExpirationDateIsInTheFuture: stamp: 'DV 6/14/2021 17:55:53'!
assertCardNumberExpirationDateIsInTheFuture: aDate

	^ (aDate < self currentMonthOfYear) ifTrue: [self error: self invalidDateErrorMessage]!

!methodRemoval: CreditCard class #invalidDateErrorMessage stamp: 'DV 6/14/2021 17:56:05'!
invalidDateErrorMessage
	^'La fecha de vencimiento de la tarjeta debe ser un mes y año en el futuro.'!

!methodRemoval: CreditCard class #currentMonthOfYear stamp: 'DV 6/14/2021 17:56:16'!
currentMonthOfYear
	^ GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)!

!methodRemoval: CreditCardTest #createCardWithValidNameAndValidNumberAndInvalidExpirationDate stamp: 'DV 6/14/2021 17:56:42'!
createCardWithValidNameAndValidNumberAndInvalidExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: testObjects validCardNumber withExpirationDate: self invalidCardDate 
!

!methodRemoval: CreditCardTest #test05CreatingACardWithAnExpiredDateRaisesError stamp: 'DV 6/14/2021 17:56:49'!
test05CreatingACardWithAnExpiredDateRaisesError
	self should:[self createCardWithValidNameAndValidNumberAndInvalidExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidDateErrorMessage equals: anError messageText]!

!methodRemoval: CreditCard #isExpired stamp: 'DV 6/14/2021 17:57:02'!
isExpired
	^(date < self class currentMonthOfYear)!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/14/2021 18:05:27'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 18:05:27'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/14/2021 18:05:27'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/14/2021 18:05:27'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:06:40'!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:07:03'!
test02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.! !

!methodRemoval: CreditCardTest #test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/14/2021 18:07:03'!
test02CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:07:12'!
xtest02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.! !

!methodRemoval: CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'DV 6/14/2021 18:07:12'!
test02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects validCardDate equals: card date.!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/14/2021 18:16:36'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 18:16:36'!
ERROR!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/14/2021 18:16:36'!
FAILURE!

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/14/2021 18:16:36'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 18:16:41'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:17:04' prior: 50896960!
checkout: aCart withCard: aCreditCard
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard.
	total := aCart total.
	aCart clear.
	^ total
! !

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/14/2021 18:17:08'!
ERROR!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'DV 6/14/2021 18:18:58'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:18:56' prior: 50896976 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  = Date! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:20:20' prior: 50898218 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  = GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:21:47' prior: 50897083!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout: testObjects createCart withCard: self nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:22:29' prior: 50897829!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:23:14' prior: 50897814!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 18:23:28' prior: 50897840!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/14/2021 18:31:35'!
with:aCart forCard: aCreditCard
! !

!methodRemoval: Cashier class #with:forCard: stamp: 'DV 6/14/2021 18:34:02'!
with:aCart forCard: aCreditCard
!
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:36:53' prior: 50897553!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Consultar StoreTestObjects como clase o instancia"
	"Preguntar como crear tarjetas de credito vencidas"! !
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:37:15' prior: 50898296!
consultas
	"Usar strinsg para los numeros de tarjeta?"
	"Consultar StoreTestObjects como clase o instancia"
! !
!Cashier methodsFor: 'assertions' stamp: 'DV 6/14/2021 18:38:09'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #assertCardDateIsNotExpired:forDate: stamp: 'DV 6/14/2021 18:38:09'!
assertCardDateIsNotExpired: aCard forDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:39:31' prior: 50898305!
consultas
	"Usar strings para los numeros de tarjeta?"
	"Consultar StoreTestObjects como clase o instancia"
! !

TestCase subclass: #MPSimulatorTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MPSimulatorTest category: 'TusLibros' stamp: 'DV 6/14/2021 18:41:59'!
TestCase subclass: #MPSimulatorTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreTestObjects commentStamp: '<historical>' prior: 0!
Simulador del Merchant Procesor!

Object subclass: #MPSimulator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/14/2021 18:42:25'!
Object subclass: #MPSimulator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator commentStamp: '<historical>' prior: 0!
Merchant Porcesor Simulator!
!MPSimulator commentStamp: '<historical>' prior: 50898359!
Merchant Procesor Simulator!
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/14/2021 18:44:06'!
charge: anAmount on: aCreditCard! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:44:10' prior: 50898365!
charge: anAmount on: aCreditCard
	! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:46:42' prior: 50898370!
charge: anAmount on: aCreditCard
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 18:54:10' prior: 50898327!
consultas
	"Usar strings para los numeros de tarjeta?"
	"---Consultar StoreTestObjects como clase o instancia"
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 18:55:18' prior: 50896081!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: testObjects validCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/14/2021 18:56:31' prior: 50896090!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 0 withExpirationDate: testObjects validCardDate
! !
!MPSimulatorTest methodsFor: 'nil' stamp: 'DV 6/14/2021 19:20:44'!
test01! !
!MPSimulatorTest methodsFor: 'nil' stamp: 'DV 6/14/2021 19:26:42'!
createMPSimulator
	^ MPSimulator new! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:27:04' prior: 50898406!
test01
	|mps|
	
	mps := self createMPSimulator.
	! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:31:02' prior: 50898414!
test01
	|mps|
	
	mps := self createMPSimulator.
	
	mps addCard: StoreTestObjects new createCard withBalance: 500! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:31:04' prior: 50898419!
test01
	|mps|
	
	mps := self createMPSimulator.
	
	mps addCard: StoreTestObjects new createCard withBalance: 500.
	! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:33:10' prior: 50898426!
test01
	|mps card |
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addCard: card withBalance: 500.
	
	self assert: true.
	! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:38:38' prior: 50898433!
test01
	|mps card |
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addCard: card withBalance: 500.
	mps markCardAsStolen: card.
	mps charge: 100 on: card.! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:39:22' prior: 50898442!
test01
	|mps card |
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps AddStolenCard: card.
	mps charge: 100 on: card.! !

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/14/2021 19:40:27'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:40:22'!
addStolenCard:aCreditCard
	stolenCards := aCreditCard 
	! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:40:32' prior: 50898467!
addStolenCard:aCreditCard
	stolenCards add: aCreditCard 
	! !
!MPSimulator methodsFor: 'initialize' stamp: 'DV 6/14/2021 19:41:02' overrides: 16896425!
initialize
	stolenCards := OrderedCollection new.! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:41:15' prior: 50898452!
test01
	|mps card |
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.
	mps charge: 100 on: card.! !
!MPSimulatorTest methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 19:48:25' prior: 50898482!
test01
	|mps card |
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 19:52:21' prior: 50898232!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout: testObjects createCart withCard: self nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 19:57:41'!
test05CheckOutWithStolenCardRaisesError

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: MPSimulatorTest #createMPSimulator stamp: 'DV 6/14/2021 19:58:00'!
createMPSimulator
	^ MPSimulator new!
!CashierTest methodsFor: 'support' stamp: 'DV 6/14/2021 19:58:13'!
createMPSimulator
	^ MPSimulator new! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 19:58:53'!
test05CheckOutWithStolenCardRaisesErrorAndLeavesEmptySalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierTest #test05CheckOutWithStolenCardRaisesError stamp: 'DV 6/14/2021 19:59:00'!
test05CheckOutWithStolenCardRaisesError

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 19:59:25'!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesEmptySalesBook stamp: 'DV 6/14/2021 19:59:25'!
test05CheckOutWithStolenCardRaisesErrorAndLeavesEmptySalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	mps := self createMPSimulator.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!Consultas methodsFor: 'as yet unclassified' stamp: 'DV 6/14/2021 20:01:09' prior: 50898382!
consultas
	"Usar strings para los numeros de tarjeta?"
	"---Consultar StoreTestObjects como clase o instancia"
	
	
	
	"Reusar cajeros??"
! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/14/2021 20:01:46' prior: 50898589!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := testObjects createCart add: testObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

----QUIT----(14 June 2021 20:53:47) CuisUniversity-4532.image priorSource: 18118691!

----STARTUP---- (16 June 2021 10:25:43) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 10:28:44' prior: 50898224 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 10:28:47'!
PASSED!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 10:28:49'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 10:28:49'!
ERROR!

!testRun: #CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 10:28:49'!
FAILURE!

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 10:28:49'!
ERROR!

!testRun: #CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 10:28:49'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 10:28:52'!
ERROR!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 10:29:07'!
ERROR!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 10:31:15'!
Cashier class
	instanceVariableNames: 'cart'!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 10:31:16'!
Cashier class
	instanceVariableNames: 'cart creditCard'!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:31:13'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:43'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]! !

!methodRemoval: Cashier #assertACartIsNotEmpty: stamp: 'DV 6/16/2021 10:31:43'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]!
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:58'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #assertCardDateIsNotExpired:onDate: stamp: 'DV 6/16/2021 10:31:58'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:34:28'!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo: stamp: 'DV 6/16/2021 10:34:44'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 10:35:34'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 10:35:35'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 10:35:32'!
initializeWith:aCart With: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !

Cashier class
	instanceVariableNames: ''!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 10:35:44'!
Cashier class
	instanceVariableNames: ''!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:36:28' prior: 50898751!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !

----STARTUP---- (16 June 2021 13:14:28) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 10:28:44' prior: 50898224 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Cashier class
	instanceVariableNames: 'cart'!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Cashier class
	instanceVariableNames: 'cart creditCard'!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:31:13'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:43'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]! !

!methodRemoval: Cashier #assertACartIsNotEmpty: stamp: 'DV 6/16/2021 13:14:30'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]!
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:58'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #assertCardDateIsNotExpired:onDate: stamp: 'DV 6/16/2021 13:14:30'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:34:28'!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo: stamp: 'DV 6/16/2021 13:14:30'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 10:35:32'!
initializeWith:aCart With: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Cashier class
	instanceVariableNames: ''!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 13:14:30'!
Cashier class
	instanceVariableNames: ''!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:36:28' prior: 50898858!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:21:38' prior: 50898807 overrides: 16927572!
setUp 
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:22:01' prior: 50898502!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout: StoreTestObjects createCart withCard: self nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:19'!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self validCardDate ! !

!methodRemoval: StoreTestObjects #createCard stamp: 'DV 6/16/2021 13:22:19'!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self validCardDate !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:24'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog! !

!methodRemoval: StoreTestObjects #createCart stamp: 'DV 6/16/2021 13:22:24'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:30'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !

!methodRemoval: StoreTestObjects #defaultCatalog stamp: 'DV 6/16/2021 13:22:30'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:33'!
itemSellByTheStore
	
	^ 'validBook'! !

!methodRemoval: StoreTestObjects #itemSellByTheStore stamp: 'DV 6/16/2021 13:22:33'!
itemSellByTheStore
	
	^ 'validBook'!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:36'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects #validCardDate stamp: 'DV 6/16/2021 13:22:36'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:41'!
validCardName
	^ 'Simón Bolívar'! !

!methodRemoval: StoreTestObjects #validCardName stamp: 'DV 6/16/2021 13:22:41'!
validCardName
	^ 'Simón Bolívar'!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:46'!
validCardNumber
	^5555555555554444 ! !

!methodRemoval: StoreTestObjects #validCardNumber stamp: 'DV 6/16/2021 13:22:46'!
validCardNumber
	^5555555555554444 !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:29' prior: 50898245!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:45' prior: 50898258!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:54' prior: 50898275!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:24:06' prior: 50898643!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:24:51' prior: 50898919!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:25:26' prior: 50899071!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashierWith:StoreTestObjects createCart With: self nonExpiredCard On:today.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:26:53'!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: aDate! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 13:27:19'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:27:19' prior: 50899096!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo:OnDate: stamp: 'DV 6/16/2021 13:27:19'!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:27:36'!
ERROR!

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:27:36'!
ERROR!
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:27:52' prior: 50897079!
nonExpiredCard
	^ StoreTestObjects createCard ! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:27:53'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:28:07' prior: 50899083!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:28:10'!
ERROR!
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:28:30' prior: 50898830!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self cannotCheckoutEmptyCart]! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:28:31'!
ERROR!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:29:11' prior: 50899144!
test01CheckOutEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!testRun: #CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:29:15'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:29:42'!
test01CreatingAChashierWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!methodRemoval: CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 13:29:42'!
test01CheckOutEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	!

!methodRemoval: CashierTest #createCashier stamp: 'DV 6/16/2021 13:30:09'!
createCashier
	^ Cashier new!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:30:59' prior: 50899005!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	self assert: 100 equals: (cashier checkout)! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:31:24'!
checkout

	| total |
	total := cart total.
	cart clear.
	^ total
! !

!methodRemoval: Cashier #checkout:withCard: stamp: 'DV 6/16/2021 13:31:33'!
checkout: aCart withCard: aCreditCard
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard.
	total := aCart total.
	aCart clear.
	^ total
!

!methodRemoval: Cashier #checkout:withCard:onDate: stamp: 'DV 6/16/2021 13:31:46'!
checkout: aCart withCard: aCreditCard onDate: today
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	total := aCart total.
	aCart clear.
	^ total
!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 13:32:21'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:32:58'!
test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!methodRemoval: CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:32:58'!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:09'!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!methodRemoval: CashierTest #test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:33:09'!
test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:16'!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!methodRemoval: CashierTest #test01CreatingAChashierWithEmptyCartRaisesError stamp: 'DV 6/16/2021 13:33:16'!
test01CreatingAChashierWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:51' prior: 50899286!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:33:58'!
FAILURE!

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:33:58'!
FAILURE!
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:34:52' prior: 50898842!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:35:04' prior: 50899373!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	(aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:35:10' prior: 50899161!
assertACartIsNotEmpty: aCart

	aCart isEmpty ifTrue:[self error: self cannotCheckoutEmptyCart]! !

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:35:17'!
FAILURE!

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:35:17'!
FAILURE!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:45:25' prior: 50899035!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 13:45:31'!
PASSED!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:46:23'!
createExpiredCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self expiredCardDate ! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:46:40'!
expiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) -5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02'!
nonExpiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898158!
xtest02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898121!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50896099!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: testObjects validCardNumber withExpirationDate: testObjects nonExpiredCardDate 
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50896493!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: testObjects nonExpiredCardDate 
	
	
	
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898398!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 0 withExpirationDate: testObjects nonExpiredCardDate
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898389!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: testObjects nonExpiredCardDate
! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898933!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self nonExpiredCardDate ! !

!methodRemoval: StoreTestObjects class #validCardDate stamp: 'DV 6/16/2021 13:47:02'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!

!testRun: #CashierTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 13:47:24'!
PASSED!

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:47:26'!
FAILURE!

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:47:26'!
FAILURE!
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:47:54' prior: 50895431!
expiredCard
	^ StoreTestObjects createExpiredCard ! !

!testRun: #CashierTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 13:47:55'!
PASSED!

!testRun: #CashierTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 13:47:55'!
PASSED!

!testRun: #CashierTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 13:47:55'!
PASSED!

!testRun: #CashierTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 13:47:55'!
PASSED!

!testRun: #CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 13:47:55'!
ERROR!

!testRun: #CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 13:47:55'!
ERROR!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:29:22' prior: 50898048!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsValid: aName.
	self assertCardNumberDigitsAndLengthAreValid: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:29:25'!
FAILURE!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/16/2021 14:29:25'!
FAILURE!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/16/2021 14:29:25'!
FAILURE!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 14:29:25'!
ERROR!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 14:29:26'!
ERROR!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:30:30'!
assertCardNameIsValid: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/16/2021 14:30:55' prior: 50895776!
invalidNameErrorMessage
	^'El nombre debe contener como máximo 30 caracteres y no ser vacío.'! !

1 numberOfDigitsInBase: 2!

12222 numberOfDigitsInBase: 10!
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:43:44' prior: 50897340!
assertCardNumberSizeis16Digits: aNumber
	'''0000-0000-0000-0000 preguntar'''.
	^ ((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:28'!
assertCardNameIsNotEmpty:aName
	aName withBlanksTrimmed isEmpty 
! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:36' prior: 50896716!
assertCardNameIsNotLongerThan30Characters: aName

	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:51' prior: 50899615!
assertCardNameIsNotEmpty:aName
	(aName withBlanksTrimmed isEmpty) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:46:27' prior: 50896790!
assertCardNumberDigitsAndLengthAreValid: aNumber

	self assertCardNumberSizeis16Digits: aNumber
! !

!methodRemoval: CreditCard class #assertCardNumberOnlyHasDigits: stamp: 'DV 6/16/2021 14:46:33'!
assertCardNumberOnlyHasDigits: aNumber

	^ (aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[]!

!methodRemoval: CreditCard class #assertCardNumberDigitsAndLengthAreValid: stamp: 'DV 6/16/2021 14:46:45'!
assertCardNumberDigitsAndLengthAreValid: aNumber

	self assertCardNumberSizeis16Digits: aNumber
!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:46:51' prior: 50899561!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsValid: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:47:24' prior: 50899607!
assertCardNumberSizeis16Digits: aNumber
	^ ((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !

!methodRemoval: CreditCardTest #setUp stamp: 'DV 6/16/2021 14:47:52'!
setUp 
	testObjects := StoreTestObjects  new!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:48:22' prior: 50899454!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  createCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects nonExpiredCardDate equals: card date.! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:49:16'!
FAILURE!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:49:16'!
FAILURE!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:40' prior: 50899498!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: StoreTestObjects nonExpiredCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:48' prior: 50899467!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:56' prior: 50899479!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: StoreTestObjects nonExpiredCardDate 
	
	
	
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:50:05' prior: 50899489!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 0 withExpirationDate: StoreTestObjects nonExpiredCardDate
! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:50:08'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/16/2021 14:50:08'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/16/2021 14:50:08'!
FAILURE!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 14:50:08'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/16/2021 14:50:08'!
FAILURE!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:50:38' prior: 50896914!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
	raise: Error 
	withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!methodRemoval: CreditCardTest #createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate stamp: 'DV 6/16/2021 14:51:07'!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: StoreTestObjects nonExpiredCardDate 
	
	
	
!

!methodRemoval: CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/16/2021 14:51:15'!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
	raise: Error 
	withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:51:35'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/16/2021 14:51:35'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 14:51:35'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:52:31' prior: 50895752!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCardWithInvalidLongNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage].
		
	self should:[self createCardWithInvalidShortNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]

	! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:52:52'!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !

!methodRemoval: CreditCardTest #createCardWithInvalidNameAndValidNumberAndExpirationDate stamp: 'DV 6/16/2021 14:52:52'!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:53:00'!
createCardWithInvalidShortNameAndValidNumberAndExpirationDate
	^CreditCard withName: '' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 14:53:02'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/16/2021 14:53:02'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 14:53:02'!
PASSED!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:54:20'!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 14:54:20'!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:55:09'!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:55:54'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn:aSalesbook
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard with: aSalesbook.! !

!methodRemoval: Cashier class #forCheckoutWith:chargingTo:onDate: stamp: 'DV 6/16/2021 14:56:02'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 14:56:38'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 14:56:37'!
initializeWith:aCart with: aCreditCard with: aSalesbook

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:58:26' prior: 50899913!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:59:18'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook! !

!methodRemoval: CashierTest #createCashierWith:with:on: stamp: 'DV 6/16/2021 14:59:27'!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate!
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:16:56' prior: 50899665!
assertCardNumberSizeis16Digits: aNumber
	((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:20:42'!
assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:20:42' prior: 50899655!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!methodRemoval: CreditCard class #assertCardNameIsValid: stamp: 'DV 6/16/2021 15:20:42'!
assertCardNameIsValid: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:22:34' prior: 50899321!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !

!classRenamed: #Cashier as: #CashierPerSale stamp: 'DV 6/16/2021 15:24:52'!
Smalltalk renameClassNamed: #Cashier as: #CashierPerSale!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50900028!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50899348!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50899978!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook! !

!classRenamed: #CashierTest as: #CashierPerSaleTest stamp: 'DV 6/16/2021 15:25:06'!
Smalltalk renameClassNamed: #CashierTest as: #CashierPerSaleTest!

!methodRemoval: CashierPerSale #initializeWith:With: stamp: 'DV 6/16/2021 15:26:48'!
initializeWith:aCart With: aCreditCard

	cart := aCart.
	creditCard := aCreditCard !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 15:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 15:27:15'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 15:27:15'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 15:27:15'!
FAILURE!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 15:27:15'!
ERROR!

!testRun: #CashierPerSaleTest #test04CheckOutRegistersASale stamp: 'DV 6/16/2021 15:27:15'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 15:27:15'!
ERROR!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 15:27:39'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:29:38' prior: 50898912 overrides: 16927572!
setUp 
	today  := Date today! !
!CashierPerSale class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 15:30:02' prior: 50899927!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn:aSalesbook
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: aDate.
	
	^ self new initializeWith: aCart with: aCreditCard with: aSalesbook.! !
!CashierPerSale class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:30:41' prior: 50899381!
assertCardDateIsNotExpired: aCard onDate: aDate
	| monthOfYear |
	monthOfYear:= GregorianMonthOfYear yearNumber: (aDate yearNumber) monthNumber: (aDate month monthIndex).
	(aCard isExpiredOn: monthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 15:31:38'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:33:37' prior: 50899214!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	self assert: 100 equals: (cashier checkout).
	self assert: 1 equals: salesBook size.
	self assert: salesBook size includes: StoreTestObjects itemSellByTheStore.
	! !
!CashierPerSale methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:39:30' prior: 50899227!
checkout

	| total |
	total := cart total.
	cart clear.
	
	salesbook add: total.
	^ total
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:40:55' prior: 50900163!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	total := cashier checkout
	self assert: 100 equals: cashier checkout.
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:42:51' prior: 50900187!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	total := cashier checkout
	self assert: 100 equals: cashier checkout.
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:44:07'!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.! !

!methodRemoval: CashierPerSaleTest #test04CheckOutRegistersASale stamp: 'DV 6/16/2021 15:44:07'!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:44:38' prior: 50900205!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	total := cashier checkout
	self assert: 100 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:44:56' prior: 50900222!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:45:33' prior: 50900254!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	total := cashier checkout
	self assert: 100 equals: cashier checkout.
! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:46:20'!
defaultPriceList
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:46:20' prior: 50898947!
createCart
	^Cart acceptingItemsOf: self defaultPriceList! !

!methodRemoval: StoreTestObjects class #defaultCatalog stamp: 'DV 6/16/2021 15:46:20'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:12'!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:12' prior: 50900308!
createCart
	^Cart acceptingItemsOf: self defaultCatalogue! !

!methodRemoval: StoreTestObjects class #defaultPriceList stamp: 'DV 6/16/2021 15:47:12'!
defaultPriceList
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:42'!
itemSellByTheStorePrice
	
	^ 100! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:56' prior: 50900319!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice .
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:59' prior: 50900342!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice.
	^dict! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:48:33' prior: 50900286!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	total := cashier checkout.
	self assert: StoreTestObjects itemSellByTheStorePrice equals: cashier checkout.
! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34'!
createEmptyCart
	^Cart acceptingItemsOf: self defaultCatalogue! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50900048!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createEmptyCart with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897779!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897754!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897741!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50900357!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	total := cashier checkout.
	self assert: StoreTestObjects itemSellByTheStorePrice equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50900064!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897960!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := testObjects createEmptyCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897617!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50899866!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897911!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897578!
test01NewCartsAreCreatedEmpty

	self assert: testObjects createEmptyCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897733!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897763!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50899403!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897583!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50900269!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897917!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := testObjects createEmptyCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !

!methodRemoval: StoreTestObjects class #createCart stamp: 'DV 6/16/2021 15:57:34'!
createCart
	^Cart acceptingItemsOf: self defaultCatalogue!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02'!
createEmptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900522!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900584!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900405!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900395!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900445!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900516!
test01NewCartsAreCreatedEmpty

	self assert: testObjects createEmptyCartWithDefaultCatalogue isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900471!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900531!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900509!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900567!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900428!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	total := cashier checkout.
	self assert: StoreTestObjects itemSellByTheStorePrice equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900485!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900539!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50900553!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:03' prior: 50900414!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:03' prior: 50900379!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createEmptyCartWithDefaultCatalogue with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:03' prior: 50900462!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !

!methodRemoval: StoreTestObjects class #createEmptyCart stamp: 'DV 6/16/2021 15:58:03'!
createEmptyCart
	^Cart acceptingItemsOf: self defaultCatalogue!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:02:55' prior: 50900719!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total newCatalgue |

	newCatalgue :=  StoreTestObjects defaultCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	oneItemCart add: 'anotherBook'.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	total := cashier checkout.
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:03:51' prior: 50900835!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook total newCatalgue |

	newCatalgue :=  StoreTestObjects defaultCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [oneItemCart add: 'anotherBook'].
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook .
	total := cashier checkout.
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:03:56'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:04:04' prior: 50900856!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook newCatalgue |

	newCatalgue :=  StoreTestObjects defaultCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [oneItemCart add: 'anotherBook'].
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:05:08' prior: 50900882!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook newCatalgue |

	newCatalgue :=  StoreTestObjects defaultCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	oneItemCart := (Cart acceptingItemsOf: newCatalgue) add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [oneItemCart add: 'anotherBook'].
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:05:43' prior: 50900903!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalgue |

	newCatalgue :=  StoreTestObjects defaultCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	multipleItemCart := (Cart acceptingItemsOf: newCatalgue) add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:05:59'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:07:07' prior: 50900924!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	multipleItemCart := (Cart acceptingItemsOf: newCatalogue) add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:07:15'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:07:15'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:07:15'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:07:15'!
FAILURE!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:07:15'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:07:15'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:07:15'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:07:52' prior: 50900644!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText]! !

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:07:56'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:08:24' prior: 50900997!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:08:27'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:08:57' prior: 50900761!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:09:06'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:09:06'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:09:06'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:09:06'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:09:06'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:09:06'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:09:06'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:09:25' prior: 50900701!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:09:28'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:09:28'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:09:28'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:11:11'!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierPerSaleTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:11:11'!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:11:46'!
test02CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:11:56'!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !

!methodRemoval: CashierPerSaleTest #test02CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:11:56'!
test02CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:12:53' prior: 50901199!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/16/2021 16:13:20'!
cannotCheckoutTwice
	^'El cajero por venta se puede usar solo una vez'.! !

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:13:29'!
FAILURE!

!classDefinition: #CashierPerSale category: 'TusLibros' stamp: 'DV 6/16/2021 16:14:11'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'initialization' stamp: 'DV 6/16/2021 16:14:09' prior: 50899955!
initializeWith:aCart with: aCreditCard with: aSalesbook

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook.
	used := false.! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:14:46' prior: 50900181!
checkout

	| total |
	self assertCashierPerSaleHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:15:37'!
assertHasNotBeenUsedBefore.
	used ifTrue:[self error: self class cannotCheckoutTwice]! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:15:40'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:15:40'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:15:40'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:15:40'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:15:40'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:15:40'!
ERROR!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:15:44'!
ERROR!
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:16:10' prior: 50901286!
checkout

	| total |
	self assertCashierPerSaleHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:16:17' prior: 50901324!
checkout

	| total |
	self assertHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:16:18'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:16:18'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:16:18'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:16:18'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:16:19'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:16:19'!
FAILURE!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:16:19'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:16:55' prior: 50901239!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText].
	
	self assert: 1 equals: salesBook size! !

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:16:56'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:16:56'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:17:25' prior: 50901131!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:17:35' prior: 50901412!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashier.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:22:22' prior: 50901435!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!classRemoval: #MPSimulatorTest stamp: 'DV 6/16/2021 16:28:25'!
TestCase subclass: #MPSimulatorTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator class methodsFor: 'nil' stamp: 'DV 6/16/2021 16:31:33'!
answerWithStolenCard
	^ self new initializeWithStolenCard! !

!methodRemoval: MPSimulator #addStolenCard: stamp: 'DV 6/16/2021 16:31:50'!
addStolenCard:aCreditCard
	stolenCards add: aCreditCard 
	!

!methodRemoval: MPSimulator #initialize stamp: 'DV 6/16/2021 16:31:56'!
initialize
	stolenCards := OrderedCollection new.!

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/16/2021 16:32:25'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards errorBlock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 16:32:24'!
initializeWithStolenCard
	errorBlock:=[].! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:33:01' prior: 50898375!
charge: anAmount on: aCreditCard
	errorBlock value.
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:33:10' prior: 50901510!
initializeWithStolenCard
	errorBlock:=[].! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:33:41' prior: 50901458!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:34:22' prior: 50901527!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects new createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:34:40' prior: 50901552!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects new createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: CashierPerSale cannotChargeStolenCard equals: anError messageText] ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:34:50'!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects new createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: CashierPerSale cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierPerSaleTest #xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:34:50'!
xtest07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects new createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: CashierPerSale cannotChargeStolenCard equals: anError messageText] !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/16/2021 16:35:31'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:41:23' prior: 50901602!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects new createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierPerSale class #cannotChargeStolenCard stamp: 'DV 6/16/2021 16:43:28'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.!
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:43:50'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:44:14' prior: 50901515!
charge: anAmount on: aCreditCard
	self error: self class cannotChargeStolenCard.
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 16:44:16'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:44:16'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:44:16'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 16:44:27' prior: 50901659!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText] ! !

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:44:28'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 16:44:51'!
PASSED!

----STARTUP---- (16 June 2021 18:12:20) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!

!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 10:28:44' prior: 50898224 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: 'cart'!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: 'cart creditCard'!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:31:13'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:43'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]! !

!methodRemoval: Cashier #assertACartIsNotEmpty: stamp: 'DV 6/16/2021 18:12:23'!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]!
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:58'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !

!methodRemoval: Cashier #assertCardDateIsNotExpired:onDate: stamp: 'DV 6/16/2021 18:12:23'!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:34:28'!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo: stamp: 'DV 6/16/2021 18:12:23'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 10:35:32'!
initializeWith:aCart With: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: ''!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: ''!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:36:28' prior: 50901824!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 10:28:44' prior: 50901773 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects new.
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: 'cart'!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:23'!
Cashier class
	instanceVariableNames: 'cart creditCard'!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:31:13'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:43' prior: 50901796!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self class cannotCheckoutEmptyCart]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 10:31:58' prior: 50901808!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self class cannotCheckoutWithExpiredCard]! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:34:28' prior: 50901868!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo: stamp: 'DV 6/16/2021 18:12:23'!
forCheckoutWith: aCart ChargingTo: aCreditCard

	cart := aCart.
	creditCard := aCreditCard !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:24'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:24'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 10:35:32' prior: 50901854!
initializeWith:aCart With: aCreditCard

	cart := aCart.
	creditCard := aCreditCard ! !

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:24'!
Cashier class
	instanceVariableNames: ''!

!classDefinition: 'Cashier class' category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:24'!
Cashier class
	instanceVariableNames: ''!
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 10:36:28' prior: 50901916!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:21:38' prior: 50901878 overrides: 16927572!
setUp 
	today  := GregorianMonthOfYear yearNumber: (Date today yearNumber) monthNumber: (Date today month monthIndex)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:22:01' prior: 50898502!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout: StoreTestObjects createCart withCard: self nonExpiredCard] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:19'!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self validCardDate ! !

!methodRemoval: StoreTestObjects #createCard stamp: 'DV 6/16/2021 18:12:24'!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self validCardDate !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:24'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog! !

!methodRemoval: StoreTestObjects #createCart stamp: 'DV 6/16/2021 18:12:24'!
createCart
	^Cart acceptingItemsOf: self defaultCatalog!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:30'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !

!methodRemoval: StoreTestObjects #defaultCatalog stamp: 'DV 6/16/2021 18:12:24'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:33'!
itemSellByTheStore
	
	^ 'validBook'! !

!methodRemoval: StoreTestObjects #itemSellByTheStore stamp: 'DV 6/16/2021 18:12:24'!
itemSellByTheStore
	
	^ 'validBook'!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:36'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !

!methodRemoval: StoreTestObjects #validCardDate stamp: 'DV 6/16/2021 18:12:24'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:41'!
validCardName
	^ 'Simón Bolívar'! !

!methodRemoval: StoreTestObjects #validCardName stamp: 'DV 6/16/2021 18:12:24'!
validCardName
	^ 'Simón Bolívar'!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:22:46'!
validCardNumber
	^5555555555554444 ! !

!methodRemoval: StoreTestObjects #validCardNumber stamp: 'DV 6/16/2021 18:12:24'!
validCardNumber
	^5555555555554444 !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:29' prior: 50898245!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	self assert: 100 equals: (cashier checkout: oneItemCart withCard: self nonExpiredCard)! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:45' prior: 50898258!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:23:54' prior: 50898275!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:24:06' prior: 50898643!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:24:51' prior: 50901978!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:25:26' prior: 50902130!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashierWith:StoreTestObjects createCart With: self nonExpiredCard On:today.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:26:53'!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: aDate! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 13:27:19'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:27:19' prior: 50902155!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate! !

!methodRemoval: Cashier class #forCheckoutWith:ChargingTo:OnDate: stamp: 'DV 6/16/2021 18:12:24'!
forCheckoutWith: aCart ChargingTo: aCreditCard OnDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard!
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:27:52' prior: 50897079!
nonExpiredCard
	^ StoreTestObjects createCard ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:28:07' prior: 50902142!
test01CheckOutEmptyCartRaisesError

	| cashier salesBook |
	cashier := self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today.
	salesBook := OrderedCollection new.
	self should: [cashier checkout] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:28:30' prior: 50901901!
assertACartIsNotEmpty: aCart

	^ aCart isEmpty ifTrue:[self error: self cannotCheckoutEmptyCart]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:29:11' prior: 50902194!
test01CheckOutEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:29:42'!
test01CreatingAChashierWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!methodRemoval: CashierTest #test01CheckOutEmptyCartRaisesError stamp: 'DV 6/16/2021 18:12:24'!
test01CheckOutEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	!

!methodRemoval: CashierTest #createCashier stamp: 'DV 6/16/2021 18:12:24'!
createCashier
	^ Cashier new!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:30:59' prior: 50902064!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier oneItemCart salesBook |
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	salesBook := OrderedCollection new.
	self assert: 100 equals: (cashier checkout)! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:31:24'!
checkout

	| total |
	total := cart total.
	cart clear.
	^ total
! !

!methodRemoval: Cashier #checkout:withCard: stamp: 'DV 6/16/2021 18:12:24'!
checkout: aCart withCard: aCreditCard
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard.
	total := aCart total.
	aCart clear.
	^ total
!

!methodRemoval: Cashier #checkout:withCard:onDate: stamp: 'DV 6/16/2021 18:12:24'!
checkout: aCart withCard: aCreditCard onDate: today
	| total |
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	total := aCart total.
	aCart clear.
	^ total
!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:32:58'!
test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!methodRemoval: CashierTest #test03CheckOutWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:12:24'!
test03CheckOutWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:09'!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !

!methodRemoval: CashierTest #test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:12:24'!
test03CreatingaACashierPerSaleWithExpiredCreditCardRaisesError

	| cashier oneItemCart salesBook |
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [cashier checkout: oneItemCart withCard: self expiredCard ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:16'!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	! !

!methodRemoval: CashierTest #test01CreatingAChashierWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:12:24'!
test01CreatingAChashierWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard on:today] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:33:51' prior: 50902324!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: Cashier cannotCheckoutWithExpiredCard equals: anError messageText]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:34:52' prior: 50901908!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	^ (aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:35:04' prior: 50902403!
assertCardDateIsNotExpired: aCard onDate: aMonthOfYear

	(aCard isExpiredOn: aMonthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !
!Cashier class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:35:10' prior: 50902208!
assertACartIsNotEmpty: aCart

	aCart isEmpty ifTrue:[self error: self cannotCheckoutEmptyCart]! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 13:45:25' prior: 50902094!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:46:23'!
createExpiredCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self expiredCardDate ! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:46:40'!
expiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) -5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02'!
nonExpiredCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898158!
xtest02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898121!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50896099!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: testObjects validCardNumber withExpirationDate: testObjects nonExpiredCardDate 
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50896493!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: testObjects nonExpiredCardDate 
	
	
	
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898398!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 0 withExpirationDate: testObjects nonExpiredCardDate
! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50898389!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: testObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: testObjects nonExpiredCardDate
! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 13:47:02' prior: 50901992!
createCard
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self nonExpiredCardDate ! !

!methodRemoval: StoreTestObjects class #validCardDate stamp: 'DV 6/16/2021 18:12:24'!
validCardDate
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)!
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 13:47:54' prior: 50895431!
expiredCard
	^ StoreTestObjects createExpiredCard ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:29:22' prior: 50898048!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsValid: aName.
	self assertCardNumberDigitsAndLengthAreValid: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:30:30'!
assertCardNameIsValid: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/16/2021 14:30:55' prior: 50895776!
invalidNameErrorMessage
	^'El nombre debe contener como máximo 30 caracteres y no ser vacío.'! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:43:44' prior: 50897340!
assertCardNumberSizeis16Digits: aNumber
	'''0000-0000-0000-0000 preguntar'''.
	^ ((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:28'!
assertCardNameIsNotEmpty:aName
	aName withBlanksTrimmed isEmpty 
! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:36' prior: 50896716!
assertCardNameIsNotLongerThan30Characters: aName

	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:51' prior: 50902578!
assertCardNameIsNotEmpty:aName
	(aName withBlanksTrimmed isEmpty) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:46:27' prior: 50896790!
assertCardNumberDigitsAndLengthAreValid: aNumber

	self assertCardNumberSizeis16Digits: aNumber
! !

!methodRemoval: CreditCard class #assertCardNumberOnlyHasDigits: stamp: 'DV 6/16/2021 18:12:24'!
assertCardNumberOnlyHasDigits: aNumber

	^ (aNumber asString) detect:[:c| c isDigit not] ifFound:[:c| self error: self invalidNumberErrorMessage] ifNone:[]!

!methodRemoval: CreditCard class #assertCardNumberDigitsAndLengthAreValid: stamp: 'DV 6/16/2021 18:12:24'!
assertCardNumberDigitsAndLengthAreValid: aNumber

	self assertCardNumberSizeis16Digits: aNumber
!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:46:51' prior: 50902547!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsValid: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:47:24' prior: 50902570!
assertCardNumberSizeis16Digits: aNumber
	^ ((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !

!methodRemoval: CreditCardTest #setUp stamp: 'DV 6/16/2021 18:12:25'!
setUp 
	testObjects := StoreTestObjects  new!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:48:22' prior: 50902474!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  createCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects nonExpiredCardDate equals: card date.! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:40' prior: 50902518!
createCardWithInvalidLongNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 666666666666666666666666 withExpirationDate: StoreTestObjects nonExpiredCardDate
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:48' prior: 50902487!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:49:56' prior: 50902499!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: StoreTestObjects nonExpiredCardDate 
	
	
	
! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:50:05' prior: 50902509!
createCardWithInvalidShortNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: 0 withExpirationDate: StoreTestObjects nonExpiredCardDate
! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:50:38' prior: 50896914!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
	raise: Error 
	withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !

!methodRemoval: CreditCardTest #createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate stamp: 'DV 6/16/2021 18:12:25'!
createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate
	^CreditCard withName: StoreTestObjects validCardName withNumber: '5234-3928-3468AB' withExpirationDate: StoreTestObjects nonExpiredCardDate 
	
	
	
!

!methodRemoval: CreditCardTest #test04CreatingACardWithANumberThatIsNotANumberRaisesError stamp: 'DV 6/16/2021 18:12:25'!
test04CreatingACardWithANumberThatIsNotANumberRaisesError

	self should:[self createCardWithInvalidNonDigitsNumberAndValidNameAndExpirationDate ] 
	raise: Error 
	withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:52:31' prior: 50895752!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCardWithInvalidLongNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage].
		
	self should:[self createCardWithInvalidShortNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]

	! !
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:52:52'!
createCardWithInvalidLongNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !

!methodRemoval: CreditCardTest #createCardWithInvalidNameAndValidNumberAndExpirationDate stamp: 'DV 6/16/2021 18:12:25'!
createCardWithInvalidNameAndValidNumberAndExpirationDate
	^CreditCard withName: 'Simón José Antonio de la Santísima Trinidad Bolívar y Ponte Palacios y Blanco' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
!
!CreditCardTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:53:00'!
createCardWithInvalidShortNameAndValidNumberAndExpirationDate
	^CreditCard withName: '' withNumber: StoreTestObjects validCardNumber withExpirationDate: StoreTestObjects nonExpiredCardDate 
! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:54:20'!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierTest #test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:12:25'!
test05CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:55:09'!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!Cashier class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 14:55:54'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today registeringOn:aSalesbook
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart with: aCreditCard with: aSalesbook.! !

!methodRemoval: Cashier class #forCheckoutWith:chargingTo:onDate: stamp: 'DV 6/16/2021 18:12:25'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: today
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: today.
	
	^ self new initializeWith: aCart With: aCreditCard!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:25'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'DV 6/16/2021 14:56:37'!
initializeWith:aCart with: aCreditCard with: aSalesbook

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 14:58:26' prior: 50902824!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 14:59:18'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook! !

!methodRemoval: CashierTest #createCashierWith:with:on: stamp: 'DV 6/16/2021 18:12:25'!
createCashierWith: aCart with: aCreditCard on: aDate.
	^ Cashier forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate!
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:16:56' prior: 50902628!
assertCardNumberSizeis16Digits: aNumber
	((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:20:42'!
assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:20:42' prior: 50902618!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !

!methodRemoval: CreditCard class #assertCardNameIsValid: stamp: 'DV 6/16/2021 18:12:25'!
assertCardNameIsValid: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 15:22:34' prior: 50902359!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: Cashier cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50902939!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard onDate: today registeringOn: salesBook ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50902386!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard on: today ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:24:52' prior: 50902889!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:46:20'!
defaultPriceList
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:46:20' prior: 50902006!
createCart
	^Cart acceptingItemsOf: self defaultPriceList! !

!methodRemoval: StoreTestObjects class #defaultCatalog stamp: 'DV 6/16/2021 18:12:25'!
defaultCatalog
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:12'!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:12' prior: 50903004!
createCart
	^Cart acceptingItemsOf: self defaultCatalogue! !

!methodRemoval: StoreTestObjects class #defaultPriceList stamp: 'DV 6/16/2021 18:12:25'!
defaultPriceList
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: 100.
	^dict!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:42'!
itemSellByTheStorePrice
	
	^ 100! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:56' prior: 50903015!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice .
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:47:59' prior: 50903038!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice.
	^dict! !
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34'!
createEmptyCart
	^Cart acceptingItemsOf: self defaultCatalogue! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897779!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897754!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897741!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897960!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := testObjects createEmptyCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897617!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897911!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897578!
test01NewCartsAreCreatedEmpty

	self assert: testObjects createEmptyCart isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897733!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897763!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897583!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects createEmptyCart.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:57:34' prior: 50897917!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := testObjects createEmptyCart.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !

!methodRemoval: StoreTestObjects class #createCart stamp: 'DV 6/16/2021 18:12:25'!
createCart
	^Cart acceptingItemsOf: self defaultCatalogue!
!StoreTestObjects class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02'!
createEmptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903127!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903158!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903068!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903058!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903121!
test01NewCartsAreCreatedEmpty

	self assert: testObjects createEmptyCartWithDefaultCatalogue isEmpty! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903100!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903136!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903114!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:02' prior: 50903144!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:03' prior: 50903077!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 15:58:03' prior: 50903091!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := testObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: testObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !

!methodRemoval: StoreTestObjects class #createEmptyCart stamp: 'DV 6/16/2021 18:12:26'!
createEmptyCart
	^Cart acceptingItemsOf: self defaultCatalogue!

!classDefinition: #CashierPerSale category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:26'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'initialization' stamp: 'DV 6/16/2021 16:14:09'!
initializeWith:aCart with: aCreditCard with: aSalesbook

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook.
	used := false.! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:14:46'!
checkout

	| total |
	self assertCashierPerSaleHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:15:37'!
assertHasNotBeenUsedBefore.
	used ifTrue:[self error: self class cannotCheckoutTwice]! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:16:10' prior: 50903315!
checkout

	| total |
	self assertCashierPerSaleHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:16:17' prior: 50903328!
checkout

	| total |
	self assertHasNotBeenUsedBefore.
	total := cart total.
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !

!classRemoval: #MPSimulatorTest stamp: 'DV 6/16/2021 18:12:26'!
TestCase subclass: #MPSimulatorTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator class methodsFor: 'nil' stamp: 'DV 6/16/2021 16:31:33'!
answerWithStolenCard
	^ self new initializeWithStolenCard! !

!methodRemoval: MPSimulator #addStolenCard: stamp: 'DV 6/16/2021 18:12:26'!
addStolenCard:aCreditCard
	stolenCards add: aCreditCard 
	!

!methodRemoval: MPSimulator #initialize stamp: 'DV 6/16/2021 18:12:26'!
initialize
	stolenCards := OrderedCollection new.!

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/16/2021 18:12:26'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards errorBlock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 16:32:24'!
initializeWithStolenCard
	errorBlock:=[].! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:33:01' prior: 50898375!
charge: anAmount on: aCreditCard
	errorBlock value.
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:33:10' prior: 50903370!
initializeWithStolenCard
	errorBlock:=[].! !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/16/2021 16:35:31'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !

!methodRemoval: CashierPerSale class #cannotChargeStolenCard stamp: 'DV 6/16/2021 18:12:26'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.!
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:43:50'!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 16:44:14' prior: 50903375!
charge: anAmount on: aCreditCard
	self error: self class cannotChargeStolenCard.
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:14:47'!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.! !

!methodRemoval: CashierTest #test04CheckOutRegistersASale stamp: 'DV 6/16/2021 18:14:47'!
test04CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createCart add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard on: today registeringOn: salesBook.
	total := cashier checkout.
	
	self assert: salesBook isEmpty not.
	self assert: total  first equals: salesBook.!
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:15:44' prior: 50902777!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:16:30'!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] ! !

!methodRemoval: CashierTest #test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:16:30'!
test06CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	cashier := self createCashier.
	salesBook := OrderedCollection new.
	mps := self createMPSimulator.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier checkout: oneItemCart withCard: self nonExpiredCard.
	
	self assert: oneItemCart isEmpty.
	
	.
	card := StoreTestObjects new createCard.
	
	mps addStolenCard: card.

	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
	      withExceptionDo: [:anError | self assert: self class cannotChargeStolenCard equals: anError messageText] !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:16:44'!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:17:28' prior: 50901971 overrides: 16927572!
setUp 
	today  := Date today! !
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

----End fileIn of /home/duerunner/Desktop/TusLibros.st----!

!classRemoval: #StoreTestObjects stamp: 'DV 6/16/2021 18:21:04'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MPSimulator stamp: 'DV 6/16/2021 18:21:05'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards errorBlock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'DV 6/16/2021 18:21:05'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Consultas stamp: 'DV 6/16/2021 18:21:06'!
Object subclass: #Consultas
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSale stamp: 'DV 6/16/2021 18:21:06'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cashier stamp: 'DV 6/16/2021 18:21:07'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'DV 6/16/2021 18:21:07'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCardTest stamp: 'DV 6/16/2021 18:21:08'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierTest stamp: 'DV 6/16/2021 18:21:09'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSaleTest stamp: 'DV 6/16/2021 18:21:09'!
TestCase subclass: #CashierPerSaleTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'DV 6/16/2021 18:21:10'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/TusLibros.st----!

----End fileIn of /home/duerunner/Desktop/TusLibros.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/16/2021 18:23:18'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/16/2021 18:23:39'!
ERROR!

----End fileIn of /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/TusLibros.st----!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/16/2021 18:24:17'!
ERROR!

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/16/2021 18:24:17'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:24:38' prior: 50906270!
test01NewCartsAreCreatedEmpty

	self assert: StoreTestObjects createEmptyCartWithDefaultCatalogue isEmpty! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:24:44' prior: 50906276!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:24:50' prior: 50906290!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:24:55' prior: 50906299!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:24:59' prior: 50907193!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: StoreTestObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:25:05' prior: 50907184!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: StoreTestObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:25:27' prior: 50906313!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:25:36' prior: 50906327!
test06CartRemembersAddedItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: StoreTestObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:25:40' prior: 50907244!
test06CartRemembersAddedItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: StoreTestObjects itemSellByTheStore.
	self assert: (cart includes: StoreTestObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:25:49' prior: 50906337!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: StoreTestObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:26:02' prior: 50906345!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	cart add: 2 of: StoreTestObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: StoreTestObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:26:08' prior: 50906355!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:26:16' prior: 50906362!
test10EmptyCartTotalIsCorrectForMultipleItems

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	self assert: 5000 equals: cart total. ! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:26:26' prior: 50906372!
test11CartIsEmptyAfterClear

	| cart |
	
	cart := StoreTestObjects createEmptyCartWithDefaultCatalogue.
	50 timesRepeat: [	cart  add: StoreTestObjects itemSellByTheStore].
	cart clear.
	self assert: cart isEmpty ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test10EmptyCartTotalIsCorrectForMultipleItems stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CartTest #test11CartIsEmptyAfterClear stamp: 'DV 6/16/2021 18:26:37'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:26:42'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:26:42'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

!classRemoval: #Cashier stamp: 'DV 6/16/2021 18:28:05'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:28:10'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/16/2021 18:28:14'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/16/2021 18:28:14'!
PASSED!

!testRun: #CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 18:28:14'!
PASSED!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:29:12'!
test02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.! !

!methodRemoval: CreditCardTest #xtest02CreatingACardWithEmptyNameRaisesError stamp: 'DV 6/16/2021 18:29:12'!
xtest02CreatingACardWithEmptyNameRaisesError

	|card|
	
	card := testObjects  createCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects nonExpiredCardDate equals: card date.!
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:29:34' prior: 50906569!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[self createCardWithInvalidLongNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage].
		
	
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:29:49' prior: 50907417!
test02CreatingACardWithEmptyNameRaisesError


	self should:[self createCardWithInvalidShortNameAndValidNumberAndExpirationDate ] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:29:59'!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  createCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects nonExpiredCardDate equals: card date.! !

!methodRemoval: CreditCardTest #test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/16/2021 18:29:59'!
test05CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := StoreTestObjects  createCard.
	
	self assert: StoreTestObjects validCardName equals: card name.
	self assert: StoreTestObjects validCardNumber equals: card number.
	self assert: StoreTestObjects nonExpiredCardDate equals: card date.!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:32:32' prior: 50905577!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:32:33'!
FAILURE!
!CashierPerSale class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 18:37:01'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn:aSalesbook with: aMerchantProcessor 
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: aDate.
	
	^ self new initializeWith: aCart with: aCreditCard with: aSalesbook.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:37:01' prior: 50906520!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:37:01' prior: 50905601!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk! !

!methodRemoval: CashierPerSale class #forCheckoutWith:chargingTo:onDate:registeringOn: stamp: 'DV 6/16/2021 18:37:01'!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn:aSalesbook
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: aDate.
	
	^ self new initializeWith: aCart with: aCreditCard with: aSalesbook.!
!CashierPerSaleTest methodsFor: 'support' stamp: 'DV 6/16/2021 18:38:30'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchanProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk! !
!CashierTest methodsFor: 'support' stamp: 'DV 6/16/2021 18:38:30'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchanProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905505!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50906477!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	self 
		should: [self createCashierWith: oneItemCart with: self expiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText].
	
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905539!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905483!
test02CheckOutWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  StoreTestObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	salesBook := OrderedCollection new.
	multipleItemCart := (Cart acceptingItemsOf: newCatalogue) add: StoreTestObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	cashier := self createCashierWith: multipleItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk .
	self assert: StoreTestObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905524!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.

	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50906402!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905467!
test01CreatingAChashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self createCashierWith:StoreTestObjects createEmptyCartWithDefaultCatalogue with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk ] raise: Error withExceptionDo:[:error| self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50905556!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:38:30' prior: 50907492!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	cashier checkout.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects createCard.
	
	self should: [	mps charge: 100 on: card.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #createCashierWith:with:onDate:registeringOn: stamp: 'DV 6/16/2021 18:38:30'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk!

!methodRemoval: CashierTest #createCashierWith:with:onDate:registeringOn: stamp: 'DV 6/16/2021 18:38:30'!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: MPSimulator answerWithOk!
!CashierPerSaleTest methodsFor: 'support' stamp: 'DV 6/16/2021 18:38:41' prior: 50907568!
createCashierWith: aCart with: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn: aSalesbook with: aMerchantProcessor ! !
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

!classRemoval: #CashierTest stamp: 'DV 6/16/2021 18:39:44'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator class methodsFor: 'nil' stamp: 'DV 6/16/2021 18:40:28'!
answerWithOk
	^ self new initializeWithStolenCard! !
!MPSimulator class methodsFor: 'nil' stamp: 'DV 6/16/2021 18:40:32' prior: 50907814!
answerWithOk
	^ self new initializeWithOk! !
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 18:40:42'!
initializeWithOk
	errorBlock:=[].! !

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:40:50'!
FAILURE!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:40:50'!
FAILURE!
!CashierPerSale class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 18:42:22' prior: 50907524!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn:aSalesbook with: aMerchantProcessor 
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: aDate.
	
	^ self new initializeWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor.! !

!classDefinition: #CashierPerSale category: 'TusLibros' stamp: 'DV 6/16/2021 18:43:13'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSale methodsFor: 'initialization' stamp: 'DV 6/16/2021 18:43:10'!
initializeWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook.
	merchantProcessor := aMerchantProcessor.
	used := false.! !

!methodRemoval: CashierPerSale #initializeWith:with:with: stamp: 'DV 6/16/2021 18:43:20'!
initializeWith:aCart with: aCreditCard with: aSalesbook

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook.
	used := false.!
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 18:44:01' prior: 50906869!
checkout

	| total |
	self assertHasNotBeenUsedBefore.
	total := cart total.
	merchantProcessor.
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 18:44:55' prior: 50907877!
checkout

	| total |
	self assertHasNotBeenUsedBefore.
	total := cart total.
	merchantProcessor charge: total on: creditCard .
	cart clear.
	used := true.
	salesbook add: total.
	^ total
! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:44:58'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:44:58'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:44:58'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:44:58'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:44:58'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:44:58'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:44:58'!
ERROR!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:45:12'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:45:25'!
ERROR!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:45:56' prior: 50907748!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	
	self assert: oneItemCart isEmpty.
	
	card := StoreTestObjects createCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:46:21' prior: 50907928!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook mps card|
	
	salesBook := OrderedCollection new.
	mps := MPSimulator answerWithStolenCard.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithOk.
	
	self assert: oneItemCart isEmpty.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:46:45' prior: 50907955!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithStolenCard.
	
	self assert: oneItemCart isEmpty.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:46:51'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:47:11' prior: 50907981!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:47:12'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:47:16'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:47:16'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:47:16'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:47:16'!
ERROR!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:47:16'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:47:16'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:47:16'!
ERROR!

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/16/2021 18:48:15'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:48:15' prior: 50907823!
initializeWithOk
	answerOk:=[].! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:48:15' prior: 50907014!
initializeWithStolenCard
	answerOk:=[].! !
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 18:48:22' prior: 50908072!
initializeWithOk
	answerOk:=true! !
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 18:48:27' prior: 50908077!
initializeWithStolenCard
	answerOk:=false! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:48:54' prior: 50907006!
charge: anAmount on: aCreditCard
	answerOk ifTrue: [ self error: self class cannotChargeStolenCard].
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:48:56'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:48:56'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:48:56'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:48:56'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:48:56'!
FAILURE!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:48:58'!
ERROR!
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:49:19' prior: 50908090!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: self class cannotChargeStolenCard].
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:49:21'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:49:22'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:49:22'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:51:36'!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:51:50' prior: 50908167!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!MPSimulator class methodsFor: 'error messages' stamp: 'DV 6/16/2021 18:52:26'!
cannotChargeFakeCard
	^'La tarjeta se encuentra reportada como falsa por el MerchantProcessor'.! !

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/16/2021 18:54:01'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 18:54:00'!
initializeWithFakeCard
	answerFake:=true! !
!MPSimulator methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:54:24' prior: 50908129!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: self class cannotChargeStolenCard].
	answerFake ifTrue: [ self error: self class cannotChargeFakeCard].
	"	
		Tarjeta robada
		Fondos Insuficientes
		Tarjeta Falsa
		Ok
	"! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:54:25'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:54:25'!
ERROR!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:54:25'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:54:25'!
ERROR!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:54:25'!
ERROR!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:54:25'!
ERROR!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:54:25'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:54:25'!
ERROR!
!MPSimulator methodsFor: 'nil' stamp: 'DV 6/16/2021 18:55:02' prior: 50908081!
initializeWithOk
	answerOk:=true.
	answerFake:= false! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:04'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:04'!
ERROR!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:04'!
ERROR!
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:55:24'!
answerWithFakeCard
	self shouldBeImplemented.! !
!MPSimulator class methodsFor: 'as yet unclassified' stamp: 'DV 6/16/2021 18:55:41' prior: 50908312!
answerWithFakeCard
	^self new initializeWithFakeCard ! !

!testRun: #CashierPerSaleTest #test01CreatingAChashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutWithNonExpiredCardReturnsTotal stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:43'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:43'!
FAILURE!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/16/2021 18:55:43'!
FAILURE!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/16/2021 18:56:40' prior: 50908190!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := StoreTestObjects createEmptyCartWithDefaultCatalogue add: StoreTestObjects itemSellByTheStore.
	cashier := self createCashierWith: oneItemCart with: self nonExpiredCard onDate: today registeringOn: salesBook with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
Merchant Procesor Simulator!
Simulador del Merchant Procesor!

----QUIT----(16 June 2021 18:57:26) CuisUniversity-4532.image priorSource: 18144480!

----STARTUP---- (16 June 2021 22:20:42) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


----QUIT----(16 June 2021 23:00:42) CuisUniversity-4532.image priorSource: 18455333!

----STARTUP---- (16 June 2021 23:38:33) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


----End fileIn of /home/duerunner/Downloads/TusLibros.st----!

----STARTUP---- (17 June 2021 12:56:15) as /home/duerunner/UBA/Inge1/2021-1c/TUS LIBROS/CuisUniversity-4532.image!


!classDefinition: #CartTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'tests' stamp: 'DV 6/14/2021 14:32:33' prior: 50906266 overrides: 16927572!
setUp 
	testObjects := StoreTestObjects  new! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:03:59' prior: 50907164!
test01NewCartsAreCreatedEmpty

	self assert: testObjects emptyCartWithDefaultCatalogue isEmpty! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:06' prior: 50907170!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:11' prior: 50907221!
test03AfterAddingAnItemTheCartIsNotEmptyAnymore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self deny: cart isEmpty ! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:16' prior: 50907207!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidQuantityErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:21' prior: 50907230!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:27' prior: 50907254!
test06CartRemembersAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: testObjects itemSellByTheStore.
	self assert: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:31' prior: 50907264!
test07CartDoesNotHoldNotAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self deny: (cart includes: testObjects itemSellByTheStore)! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:35' prior: 50907273!
test08CartRemembersTheNumberOfAddedItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	cart add: 2 of: testObjects itemSellByTheStore.
	self assert: (cart occurrencesOf: testObjects itemSellByTheStore) = 2! !
!CartTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:04:41' prior: 50907284!
test09EmptyCartTotalIsZero

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'support' stamp: 'DV 6/14/2021 14:34:34' prior: 50906381!
itemNotSellByTheStore
	
	^ 'InvalidBook'! !

!classDefinition: #CashierPerSaleTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CashierPerSaleTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierPerSaleTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CashierPerSaleTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:53' prior: 50905463 overrides: 16927572!
setUp
	testObjects := StoreTestObjects new.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:38'!
test01CreatingACashierPerSaleWithEmptyCartRaisesError

	| salesBook |
	salesBook := OrderedCollection new.
	self should: [self 
		cashierWith: testObjects emptyCartWithDefaultCatalogue 
		registeringOn: salesBook 
	] raise: Error 
	withExceptionDo:[:error | self assert: error messageText equals: CashierPerSale cannotCheckoutEmptyCart].
	
	self assert: salesBook isEmpty.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:07:25'!
test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal

	| cashier multipleItemCart salesBook newCatalogue |

	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 200.
	
	salesBook := OrderedCollection new.
	multipleItemCart := Cart acceptingItemsOf: newCatalogue.
	
	multipleItemCart add: testObjects itemSellByTheStore.
	2 timesRepeat: [multipleItemCart add: 'anotherBook'].
	
	cashier := self cashierWith: multipleItemCart 
				registeringOn: salesBook.
	self assert: testObjects itemSellByTheStorePrice + 200 + 200 equals: cashier checkout.
! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:06:40' prior: 50907589!
test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError

	| oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	self 
		should: [self 
				cashierWith: oneItemCart 
				chargingTo: self expiredCard 
				registeringOn: salesBook 
				with: MPSimulator answerWithOk 
			]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutWithExpiredCard equals: anError messageText
		].
	self assert: salesBook isEmpty ! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:36' prior: 50907674!
test04CheckOutClearsCart

	| cashier oneItemCart salesBook |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
	cashier checkout.
	
	self assert: oneItemCart isEmpty! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:30:49' prior: 50907631!
test05CheckOutRegistersASale
	| cashier oneItemCart salesBook total |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.

	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
				
	total := cashier checkout.
	
	self assert: 1 equals: salesBook size.
	self assert:  total equals: salesBook first.
	! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:31:00' prior: 50907725!
test06CheckingOutWIthCashierPerSaleTwiceRaisesError

	| oneItemCart salesBook cashier |
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook.
				
	cashier checkout.
	self 
		should: [ cashier checkout ]
		raise: Error 
		withExceptionDo: [ :anError |
			self assert: CashierPerSale cannotCheckoutTwice equals: anError messageText
		].
	
	self assert: 1 equals: salesBook size! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:34:41' prior: 50908010!
test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithStolenCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeStolenCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 21:34:37' prior: 50908357!
test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithFakeCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeFakeCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'UC 6/16/2021 22:28:18'!
test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 21:44:23'!
cashierWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: aCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor ! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:23'!
cashierWith: aCart registeringOn: aSalesbook
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard 
		onDate: Date today 
		registeringOn: aSalesbook 
		with: MPSimulator answerWithOk! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:38'!
cashierWith: aCart registeringOn: aSalesbook with: aMerchantProcessor 
	^ CashierPerSale 
		forCheckoutWith: aCart 
		chargingTo: testObjects validCreditCard
		onDate: Date today 
		registeringOn: aSalesbook 
		with: aMerchantProcessor 
		! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:08:45' prior: 50905614!
expiredCard
	^ CreditCard withName: testObjects validCardName withNumber: testObjects validCardNumber withExpirationDate: testObjects expiredMonthOfYear ! !
!CashierPerSaleTest methodsFor: 'support' stamp: 'UC 6/16/2021 23:07:50'!
oneItemCart

	^ testObjects emptyCartWithDefaultCatalogue add: testObjects itemSellByTheStore! !

!classDefinition: #CreditCardTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCardTest category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:53' overrides: 16927572!
setUp
	testObjects := StoreTestObjects new.! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:45' prior: 50907441!
test01CreatingACardWithANameLongerThan30CharactersRaisesError

	self should:[CreditCard 
				withName:  'ABSAKJHAFSKJASFAJKSHFKJSAHFASKJFHSAFKJHSAFKJH'
				withNumber:  testObjects validCardNumber 
				withExpirationDate: testObjects notExpiredMonthOfYear
			] 
		raise: Error 
		withExceptionDo:[:anError |self assert: CreditCard invalidNameErrorMessage equals: anError messageText].
		
	
	! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:50' prior: 50907453!
test02CreatingACardWithEmptyNameRaisesError


	self should:[
			CreditCard withName:  ''
					    	withNumber: testObjects validCardNumber 
					 	withExpirationDate: testObjects notExpiredMonthOfYear 
		] 
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNameErrorMessage]
! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:06:01' prior: 50906587!
test03CreatingACardWithANumberDifferentThan16DigitsRaisesError

	self should:[ 
			CreditCard withName: testObjects validCardName
				withNumber: 44546
				withExpirationDate: testObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage].
	
	self should:[
			CreditCard withName: testObjects validCardName
				withNumber: 4454666678364872364327846327846324786
				withExpirationDate: testObjects notExpiredMonthOfYear
		] 		
		raise: Error 
		withExceptionDo:[:anError |self assert: anError messageText equals: CreditCard invalidNumberErrorMessage]! !
!CreditCardTest methodsFor: 'tests' stamp: 'UC 6/16/2021 23:05:33' prior: 50907464!
test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect

	|card|
	
	card := testObjects  validCreditCard.
	
	self assert: testObjects validCardName equals: card name.
	self assert: testObjects validCardNumber equals: card number.
	self assert: testObjects notExpiredMonthOfYear equals: card date.! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'error messages' stamp: 'HernanWilkinson 6/17/2013 17:45' prior: 50906688!
invalidItemErrorMessage
	
	^'Item is not in catalog'! !
!Cart methodsFor: 'error messages' stamp: 'HernanWilkinson 6/17/2013 17:45' prior: 50906693!
invalidQuantityErrorMessage
	
	^'Invalid number of items'! !
!Cart methodsFor: 'assertions' stamp: 'DV 6/10/2021 20:45:11' prior: 50906698!
assertIsValidItem: anItem

	(catalog includesKey: anItem) ifFalse: [ self error: self invalidItemErrorMessage ]! !
!Cart methodsFor: 'assertions' stamp: 'HernanWilkinson 6/17/2013 17:51' prior: 50906705!
assertIsValidQuantity: aQuantity

	aQuantity strictlyPositive ifFalse: [ self error: self invalidQuantityErrorMessage ]! !
!Cart methodsFor: 'initialization' stamp: 'HernanWilkinson 6/17/2013 17:48' prior: 50906712!
initializeAcceptingItemsOf: aCatalog

	catalog := aCatalog.
	items := OrderedCollection new.! !
!Cart methodsFor: 'queries' stamp: 'DV 6/13/2021 16:19:42' prior: 50906718!
clear
	^items removeAll! !
!Cart methodsFor: 'queries' stamp: 'HernanWilkinson 6/17/2013 17:45' prior: 50906722!
occurrencesOf: anItem

	^items occurrencesOf: anItem  ! !
!Cart methodsFor: 'queries' stamp: 'DV 6/10/2021 20:42:53' prior: 50906727!
total
	^items sum: [:item| catalog at: item] ifEmpty: 0! !
!Cart methodsFor: 'testing' stamp: 'HernanWilkinson 6/17/2013 17:44' prior: 50906732!
includes: anItem

	^items includes: anItem ! !
!Cart methodsFor: 'testing' stamp: 'HernanWilkinson 6/17/2013 17:44' prior: 50906737!
isEmpty
	
	^items isEmpty ! !
!Cart methodsFor: 'adding' stamp: 'HernanWilkinson 6/17/2013 17:44' prior: 50906741!
add: anItem

	^ self add: 1 of: anItem ! !
!Cart methodsFor: 'adding' stamp: 'HernanWilkinson 6/17/2013 17:51' prior: 50906745!
add: aQuantity of: anItem

	self assertIsValidQuantity: aQuantity.
	self assertIsValidItem: anItem.

	1 to: aQuantity do: [ :aNumber | items add: anItem ]! !

!classDefinition: 'Cart class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Cart class
	instanceVariableNames: ''!

!classDefinition: 'Cart class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Cart class
	instanceVariableNames: ''!
!Cart class methodsFor: 'instance creation' stamp: 'DV 6/10/2021 18:35:11' prior: 50906760!
acceptingItemsOf: aCatalog

	^self new initializeAcceptingItemsOf: aCatalog  ! !
!CashierPerSale methodsFor: 'initialization' stamp: 'DV 6/16/2021 18:43:10' prior: 50907859!
initializeWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor

	cart := aCart.
	creditCard := aCreditCard. 
	salesbook := aSalesbook.
	merchantProcessor := aMerchantProcessor.
	used := false.! !
!CashierPerSale methodsFor: 'checkout' stamp: 'DV 6/16/2021 16:15:37' prior: 50906863!
assertHasNotBeenUsedBefore.
	used ifTrue:[self error: self class cannotCheckoutTwice]! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:47:46' prior: 50907885!
checkout
	self assertHasNotBeenUsedBefore.
	
	total := cart total.
	merchantProcessor charge: total on: creditCard.
	
	^self registerEndOfCheckout.
! !
!CashierPerSale methodsFor: 'checkout' stamp: 'UC 6/16/2021 22:47:46'!
registerEndOfCheckout
	cart clear.
	used := true.
	salesbook add: total.
	^total.! !

!classDefinition: 'CashierPerSale class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
CashierPerSale class
	instanceVariableNames: ''!

!classDefinition: 'CashierPerSale class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
CashierPerSale class
	instanceVariableNames: ''!
!CashierPerSale class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 18:42:22' prior: 50907837!
forCheckoutWith: aCart chargingTo: aCreditCard onDate: aDate registeringOn:aSalesbook with: aMerchantProcessor 
	self assertACartIsNotEmpty: aCart.
	self assertCardDateIsNotExpired: aCreditCard onDate: aDate.
	
	^ self new initializeWith: aCart chargingTo: aCreditCard registeringOn: aSalesbook with: aMerchantProcessor.! !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/10/2021 20:18:19' prior: 50905900!
cannotCheckoutEmptyCart
	^'No se puede facturar un carrito vacio'.! !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/16/2021 16:13:20' prior: 50905905!
cannotCheckoutTwice
	^'El cajero por venta se puede usar solo una vez'.! !
!CashierPerSale class methodsFor: 'error' stamp: 'DV 6/13/2021 14:49:27' prior: 50905910!
cannotCheckoutWithExpiredCard
	^'No se puede facturar una tarjeta vencida'.! !
!CashierPerSale class methodsFor: 'assertions' stamp: 'DV 6/16/2021 13:35:10' prior: 50905915!
assertACartIsNotEmpty: aCart

	aCart isEmpty ifTrue:[self error: self cannotCheckoutEmptyCart]! !
!CashierPerSale class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:30:41' prior: 50905921!
assertCardDateIsNotExpired: aCard onDate: aDate
	| monthOfYear |
	monthOfYear:= GregorianMonthOfYear yearNumber: (aDate yearNumber) monthNumber: (aDate month monthIndex).
	(aCard isExpiredOn: monthOfYear) ifTrue: [self error: self cannotCheckoutWithExpiredCard]! !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'DV 6/14/2021 11:10:19' prior: 50906906!
initializeWithName: aName withNumber: aNumber withDate: aDate 
	name := aName.
	number := aNumber.
	date := aDate.! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:13:13' prior: 50906913!
date
	^date! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 17:46:14' prior: 50906917!
isExpiredOn: aMonthOfYear
	^(date < aMonthOfYear)! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 11:10:49' prior: 50906922 overrides: 16882612!
name 
	^name! !
!CreditCard methodsFor: 'accessing' stamp: 'DV 6/14/2021 12:12:58' prior: 50906926!
number
	^number! !

!classDefinition: 'CreditCard class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
CreditCard class
	instanceVariableNames: ''!

!classDefinition: 'CreditCard class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:21'!
CreditCard class
	instanceVariableNames: ''!
!CreditCard class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 15:20:42' prior: 50906938!
withName: aName withNumber: aNumber withExpirationDate: aDate
	self assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName.
	self assertCardNumberSizeis16Digits: aNumber.
	^self new initializeWithName: aName withNumber: aNumber withDate: aDate.! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/16/2021 14:30:55' prior: 50906949!
invalidNameErrorMessage
	^'El nombre debe contener como máximo 30 caracteres y no ser vacío.'! !
!CreditCard class methodsFor: 'error messages' stamp: 'DV 6/14/2021 11:40:55' prior: 50906955!
invalidNumberErrorMessage
	^'El número de tarjeta debe ser un NÚMERO con 16 dígitos.'! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:51' prior: 50906961!
assertCardNameIsNotEmpty:aName
	(aName withBlanksTrimmed isEmpty) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:20:42' prior: 50906968!
assertCardNameIsNotEmptyAndNotLongerThan30Characters: aName
	self assertCardNameIsNotEmpty:aName.
	self assertCardNameIsNotLongerThan30Characters: aName.! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 14:44:36' prior: 50906976!
assertCardNameIsNotLongerThan30Characters: aName

	(aName size > 30) ifTrue: [self error: self invalidNameErrorMessage]! !
!CreditCard class methodsFor: 'assertions' stamp: 'DV 6/16/2021 15:16:56' prior: 50906983!
assertCardNumberSizeis16Digits: aNumber
	((aNumber numberOfDigitsInBase: 10) ~= 16) ifTrue: [self error: self invalidNumberErrorMessage]! !

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MPSimulator category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MPSimulator commentStamp: '<historical>' prior: 50907002!
Merchant Procesor Simulator!
!MPSimulator methodsFor: 'operations' stamp: 'UC 6/16/2021 22:32:02' prior: 50908231!
charge: anAmount on: aCreditCard
	answerOk ifFalse: [ self error: errorMessage].! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:10' prior: 50908226!
initializeWithFakeCard
	self setUpErrorMessage: self class cannotChargeFakeCard.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:36'!
initializeWithInsolventCard
	self setUpErrorMessage: self class cannotChargeInsolventCard.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 20:27:50' prior: 50908272!
initializeWithOk
	answerOk := true.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:55' prior: 50908085!
initializeWithStolenCard
	self setUpErrorMessage: self class cannotChargeStolenCard.! !
!MPSimulator methodsFor: 'initialization' stamp: 'UC 6/16/2021 22:33:20'!
setUpErrorMessage: anErrorMessage

	errorMessage := anErrorMessage.
	answerOk := false! !

!classDefinition: 'MPSimulator class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
MPSimulator class
	instanceVariableNames: ''!

!classDefinition: 'MPSimulator class' category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
MPSimulator class
	instanceVariableNames: ''!
!MPSimulator class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 18:55:41' prior: 50908317!
answerWithFakeCard
	^self new initializeWithFakeCard ! !
!MPSimulator class methodsFor: 'instance creation' stamp: 'UC 6/16/2021 22:28:18'!
answerWithInsolventCard
	^self new initializeWithInsolventCard! !
!MPSimulator class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 18:40:32' prior: 50907819!
answerWithOk
	^ self new initializeWithOk! !
!MPSimulator class methodsFor: 'instance creation' stamp: 'DV 6/16/2021 16:31:33' prior: 50907026!
answerWithStolenCard
	^ self new initializeWithStolenCard! !
!MPSimulator class methodsFor: 'error messages' stamp: 'DV 6/16/2021 18:52:26' prior: 50908213!
cannotChargeFakeCard
	^'La tarjeta se encuentra reportada como falsa por el MerchantProcessor'.! !
!MPSimulator class methodsFor: 'error messages' stamp: 'UC 6/16/2021 20:34:44'!
cannotChargeInsolventCard
	^'La tarjeta se encuentra reportada como insolvente por el MerchantProcessor'! !
!MPSimulator class methodsFor: 'error messages' stamp: 'DV 6/16/2021 16:43:50' prior: 50907032!
cannotChargeStolenCard
	^'La tarjeta se encuentra reportada como robada por el MerchantProcessor'.! !

!classDefinition: #StoreTestObjects category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #StoreTestObjects category: 'TusLibros' stamp: 'DV 6/17/2021 12:56:22'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!StoreTestObjects commentStamp: '<historical>' prior: 50907049!
Simulador del Merchant Procesor!
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:02:52'!
defaultCatalogue
	| dict |
	dict:=  Dictionary new.
	dict at: self itemSellByTheStore put: self itemSellByTheStorePrice.
	^dict! !
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:06'!
emptyCartWithDefaultCatalogue
	^Cart acceptingItemsOf: self defaultCatalogue! !
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:18'!
itemSellByTheStore
	
	^ 'validBook'! !
!StoreTestObjects methodsFor: 'cart' stamp: 'UC 6/16/2021 23:03:21'!
itemSellByTheStorePrice
	
	^ 100! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:10'!
expiredDate
	^Date fromSeconds: (Date today secondsSinceSqueakEpoch  + 100000000)! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:14'!
expiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) - 5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects methodsFor: 'dates' stamp: 'UC 6/16/2021 23:03:26'!
notExpiredMonthOfYear
	^GregorianMonthOfYear yearNumber: (Date today yearNumber) + 5 monthNumber: (Date today month monthIndex)! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:35'!
validCardName
	^ 'Simón Bolívar'! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:41'!
validCardNumber
	^5555555555554444 ! !
!StoreTestObjects methodsFor: 'card' stamp: 'UC 6/16/2021 23:03:45'!
validCreditCard
	
	^ CreditCard withName: self validCardName withNumber: self validCardNumber withExpirationDate: self notExpiredMonthOfYear ! !

!classRemoval: #StoreTestObjects stamp: 'DV 6/17/2021 12:56:35'!
Object subclass: #StoreTestObjects
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MPSimulator stamp: 'DV 6/17/2021 12:56:36'!
Object subclass: #MPSimulator
	instanceVariableNames: 'stolenCards answerOk answerFake errorMessage'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'DV 6/17/2021 12:56:37'!
Object subclass: #CreditCard
	instanceVariableNames: 'name number date'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Consultas stamp: 'DV 6/17/2021 12:56:37'!
Object subclass: #Consultas
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSale stamp: 'DV 6/17/2021 12:56:38'!
Object subclass: #CashierPerSale
	instanceVariableNames: 'catalog items priceChart cart creditCard salesbook used merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'DV 6/17/2021 12:56:38'!
Object subclass: #Cart
	instanceVariableNames: 'catalog items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCardTest stamp: 'DV 6/17/2021 12:56:39'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierPerSaleTest stamp: 'DV 6/17/2021 12:56:39'!
TestCase subclass: #CashierPerSaleTest
	instanceVariableNames: 'testObjects today'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'DV 6/17/2021 12:56:40'!
TestCase subclass: #CartTest
	instanceVariableNames: 'testObjects'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/duerunner/Downloads/TusLibros.st----!
!MPSimulator methodsFor: 'operations' stamp: 'DV 6/17/2021 12:57:57' prior: 50910895!
charge: anAmount on: aCreditCard
	self assertAmountIsValid: anAmount. 
	answerOk ifFalse: [ self error: errorMessage].! !
!MPSimulator methodsFor: 'operations' stamp: 'DV 6/17/2021 12:59:21'!
assertAmountIsValid: anAmount. 
	(anAmount < 0.01) or:[(anAmount numberOfDigitsInBase: 10) > 15 ]! !
!MPSimulator methodsFor: 'operations' stamp: 'DV 6/17/2021 13:01:21' prior: 50911050!
assertAmountIsValid: anAmount. 
	((anAmount < 0.01) or:[(anAmount numberOfDigitsInBase: 10) > 15 ]) ifTrue:[self error: self class error]! !
!MPSimulator methodsFor: 'operations' stamp: 'DV 6/17/2021 13:01:45' prior: 50911056!
assertAmountIsValid: anAmount. 
	((anAmount < 0.01) or:[(anAmount numberOfDigitsInBase: 10) > 15 ]) ifTrue:[self error: self class cannotChargeInvalidAmount]! !
!MPSimulator class methodsFor: 'nil' stamp: 'DV 6/17/2021 13:02:15'!
cannotChargeInvalidAmount
	^'El monto a cobrar debe ser mayor a 0.01 y tener menos de 15 digitos'.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:11:48'!
test010CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:12:06'!
test10CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #test010CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:12:06'!
test010CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:29:41'!
test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook verySmallPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	verySmallPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	verySmallPriceCart add: 'anotherBook'.


	cashier := self cashierWith: verySmallPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.! !

!methodRemoval: CashierPerSaleTest #test10CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:05'!
test10CheckOutWithInvalidAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook |
	
	salesBook := OrderedCollection new.
	oneItemCart := self oneItemCart.
	cashier := self cashierWith: oneItemCart 
				registeringOn: salesBook 
				with: MPSimulator answerWithInsolventCard.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInsolventCard equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: oneItemCart isEmpty not.!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:30:26' prior: 50911139!
test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier oneItemCart salesBook verySmallPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	verySmallPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	verySmallPriceCart add: 'anotherBook'.


	cashier := self cashierWith: verySmallPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: verySmallPriceCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:30:34' prior: 50911186!
test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook verySmallPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	verySmallPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	verySmallPriceCart add: 'anotherBook'.


	cashier := self cashierWith: verySmallPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: verySmallPriceCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:38'!
PASSED!

!testRun: #CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:30:38'!
PASSED!
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:31:01'!
test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook verySmallPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	verySmallPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	verySmallPriceCart add: 'anotherBook'.


	cashier := self cashierWith: verySmallPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: verySmallPriceCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:31:13' prior: 50911283!
test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook veryBigPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 0.0001.
	
	veryBigPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	veryBigPriceCart add: 'anotherBook'.


	cashier := self cashierWith: veryBigPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: veryBigPriceCart isEmpty not.! !
!CashierPerSaleTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:31:29' prior: 50911309!
test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook

	| cashier salesBook veryBigPriceCart newCatalogue |
	
	salesBook := OrderedCollection new.
	
	newCatalogue :=  testObjects defaultCatalogue. 
	newCatalogue at: 'anotherBook' put: 99999999999999999999.
	
	veryBigPriceCart := Cart acceptingItemsOf: newCatalogue.
	
	veryBigPriceCart add: 'anotherBook'.


	cashier := self cashierWith: veryBigPriceCart
				registeringOn: salesBook 
				with: MPSimulator answerWithOk.
	
	self should: [	cashier checkout.] 
		raise: Error
		      withExceptionDo: [:anError | self assert: MPSimulator cannotChargeInvalidAmount  equals: anError messageText].
		
	self assert: salesBook isEmpty.
	self assert: veryBigPriceCart isEmpty not.! !

!testRun: #CashierPerSaleTest #test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!

!testRun: #CashierPerSaleTest #test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:31:32'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:32:27'!
test11CartCanotUseCatalogueWIthNonPositivePrices

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self assert: 0 equals: cart total.! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:32:44' prior: 50911410!
test11CartCanotUseCatalogueWIthNonPositivePrices

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:33:17'!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!methodRemoval: CartTest #test11CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:33:17'!
test11CartCanotUseCatalogueWIthNonPositivePrices

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:33:51' prior: 50911431!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 dict |
	dict:=  Dictionary new.
	dict at: 'validBook' put: 0.

	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:33:58' prior: 50911459!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:35:40' prior: 50911475!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil .]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:36:22' prior: 50911492!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:36:53'!
FAILURE!
!Cart class methodsFor: 'error messages' stamp: 'DV 6/17/2021 13:37:32'!
invalidItemErrorMessage
	
	^'Item is not in catalog'! !

!methodRemoval: Cart #invalidItemErrorMessage stamp: 'DV 6/17/2021 13:37:32'!
invalidItemErrorMessage
	
	^'Item is not in catalog'!
!Cart class methodsFor: 'error messages' stamp: 'DV 6/17/2021 13:37:39'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'! !

!methodRemoval: Cart #invalidQuantityErrorMessage stamp: 'DV 6/17/2021 13:37:39'!
invalidQuantityErrorMessage
	
	^'Invalid number of items'!
!Cart class methodsFor: 'error messages' stamp: 'DV 6/17/2021 13:38:05'!
invalidCatalogueMessage
	
	^'El catalogo no debe contener precios con valores no positivos.'! !
!Cart class methodsFor: 'instance creation' stamp: 'DV 6/17/2021 13:38:41' prior: 50910684!
acceptingItemsOf: aCatalog
	self assertCatalogueHasOnlyPositivePrices: aCatalog.
	^self new initializeAcceptingItemsOf: aCatalog  ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:38:44'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:38:46'!
ERROR!
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:38:57'!
assertCatalogueHasOnlyPositivePrices: aDictionary 
	self shouldBeImplemented.! !
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:39:50' prior: 50911604!
assertCatalogueHasOnlyPositivePrices: aCatalogue
	aCatalogue isTrue:[self error: self invalidCatalogueMessage ].! !
!Cart methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:40:33' prior: 50910626!
assertIsValidItem: anItem

	(catalog includesKey: anItem) ifFalse: [ self error: self class invalidItemErrorMessage ]! !
!Cart methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:40:39' prior: 50910632!
assertIsValidQuantity: aQuantity

	aQuantity strictlyPositive ifFalse: [ self error: self class invalidQuantityErrorMessage ]! !

1 positive !
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:44:14' prior: 50911610!
assertCatalogueHasOnlyPositivePrices: aCatalogue
	aCatalogue do: [ :value | value positive isFalse:[self error: self invalidCatalogueMessage ]. ]

	 ! !
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:44:17' prior: 50911632!
assertCatalogueHasOnlyPositivePrices: aCatalogue
	aCatalogue do: [ :value | value positive isFalse:[self error: self invalidCatalogueMessage ]]

	 ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:44:18'!
ERROR!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:44:20'!
ERROR!
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:44:27' prior: 50911640!
assertCatalogueHasOnlyPositivePrices: aCatalogue
	aCatalogue do: [ :value | value positive ifFalse:[self error: self invalidCatalogueMessage ]]

	 ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:44:29'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:44:29'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:44:29'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:44:29'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:44:29'!
FAILURE!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:44:31'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:45:43' prior: 50911617!
assertIsValidItem: anItem

	(catalog includesKey: anItem) ifFalse: [ self error: self class invalidItemErrorMessage]! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:46:01'!
ERROR!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:46:01'!
ERROR!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:46:01'!
ERROR!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:46:01'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:46:01'!
FAILURE!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:46:27'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:46:47' prior: 50910226!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = cart class invalidItemErrorMessage.
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:46:50'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:46:51'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:47:24' prior: 50910247!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert:   cart class invalidQuantityErrorMessage equals: anError messageText.
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:47:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:47:27'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:47:51' prior: 50910260!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart self invalidItemErrorMessage equals: anError messageText .
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:47:52'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:48:02' prior: 50911806!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart class invalidItemErrorMessage equals: anError messageText .
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:48:03'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:48:04'!
FAILURE!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:48:20' prior: 50911508!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart class invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: cart class invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:48:22'!
FAILURE!
!Cart class methodsFor: 'assertions' stamp: 'DV 6/17/2021 13:48:54' prior: 50911682!
assertCatalogueHasOnlyPositivePrices: aCatalogue
	aCatalogue do: [ :value | value strictlyPositive ifFalse:[self error: self invalidCatalogueMessage ]]

	 ! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:48:56'!
ERROR!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CashierPerSaleTest #test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/17/2021 13:48:56'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:48:56'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:49:23' prior: 50911845!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart class invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart class invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:49:25'!
ERROR!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:49:41' prior: 50911980!
test10CartCanotUseCatalogueWIthNonPositivePrices

	| cart 	 catalogueWithZero catalogueWithNegativePrice |
	catalogueWithZero:=  Dictionary new.
	catalogueWithZero at: 'validBook' put: 0.

	self 
		should: [ cart := Cart  acceptingItemsOf:  catalogueWithZero. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].
		
	catalogueWithNegativePrice:=  Dictionary new.
	catalogueWithNegativePrice at: 'validBook' put: -1.

	self 
		should: [ cart := Cart  acceptingItemsOf: catalogueWithNegativePrice. ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidCatalogueMessage equals: anError messageText.
			self assert: cart isNil].! !

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:49:42'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test01CreatingACashierPerSaleWithEmptyCartRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test02CheckOutMultipleItemsWithNonExpiredCardReturnsTotal stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test03CreatingACashierPerSaleWithExpiredCreditCardRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test04CheckOutClearsCart stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test05CheckOutRegistersASale stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test06CheckingOutWIthCashierPerSaleTwiceRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test07CheckOutWithStolenCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test08CheckOutWithFakeCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test09CheckOutWithInsolventCardRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test10CheckOutWithInvalidSmallAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CashierPerSaleTest #test11CheckOutWithInvalidBigAmountRaisesErrorAndLeavesUntouchedSalesBook stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CreditCardTest #test01CreatingACardWithANameLongerThan30CharactersRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CreditCardTest #test02CreatingACardWithEmptyNameRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CreditCardTest #test03CreatingACardWithANumberDifferentThan16DigitsRaisesError stamp: 'DV 6/17/2021 13:49:46'!
PASSED!

!testRun: #CreditCardTest #test04CreatingACardWithValidNameAndValidNumberAndValidDateIsCorrect stamp: 'DV 6/17/2021 13:49:46'!
PASSED!
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:50:11' prior: 50911765!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: anError messageText = Cart invalidItemErrorMessage.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:50:27' prior: 50912135!
test02CanNotAddItemsThatDoNotBelongToStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [ cart add: self itemNotSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidItemErrorMessage equals: anError messageText.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:50:43' prior: 50911785!
test04CanNotAddNonPositiveNumberOfItems

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 0 of: testObjects itemSellByTheStore ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert:   Cart invalidQuantityErrorMessage equals: anError messageText.
			self assert: cart isEmpty ]! !
!CartTest methodsFor: 'tests' stamp: 'DV 6/17/2021 13:50:49' prior: 50911824!
test05CanNotAddMoreThanOneItemNotSellByTheStore

	| cart |
	
	cart := testObjects emptyCartWithDefaultCatalogue.
	
	self 
		should: [cart add: 2 of: self itemNotSellByTheStore  ]
		raise: Error - MessageNotUnderstood
		withExceptionDo: [ :anError |
			self assert: Cart invalidItemErrorMessage equals: anError messageText .
			self assert: cart isEmpty ]! !

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test09EmptyCartTotalIsZero stamp: 'DV 6/17/2021 14:08:02'!
PASSED!

!testRun: #CartTest #test10CartCanotUseCatalogueWIthNonPositivePrices stamp: 'DV 6/17/2021 14:08:02'!
PASSED!
Merchant Procesor Simulator!
Simulador del Merchant Procesor!