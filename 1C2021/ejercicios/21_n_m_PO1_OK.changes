----STARTUP---- (20 May 2021 20:18:23) as /Users/ecerdeira/Desktop/Imagen Limpia/CuisUniversity-4532.image!


Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ENC 5/20/2021 20:22:58'!
Object subclass: #Portfolio
	instanceVariableNames: 'accounts portfolios xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'accounts' stamp: 'ENC 5/20/2021 20:24:33' prior: 50901619!
hasRegistered: aTransaction
	
	xxx detect: [ :anXXX | anXXX hasRegistered: aTransaction ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].
	
	accounts detect: [ :anAccount | anAccount hasRegistered: aTransaction ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ 
		portfolios detect: [ :aPortfolio | aPortfolio hasRegistered: aTransaction ] 
		ifFound: [ :foundTransaction | ^ true ] 
		ifNone: [ ^false ].
	]! !
!Portfolio methodsFor: 'initialization' stamp: 'ENC 5/20/2021 20:24:55' prior: 50901536 overrides: 16896425!
initialize

	accounts := OrderedCollection new.
	portfolios := OrderedCollection new.
	xxx := 	OrderedCollection new.! !
!Portfolio methodsFor: 'initialization' stamp: 'ENC 5/20/2021 20:25:01' prior: 50901746 overrides: 16896425!
initialize

	accounts := OrderedCollection new.
	portfolios := OrderedCollection new.
	
	xxx := 	OrderedCollection new.! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:25:39'!
associate: anXXX

	xxx add: anXXX.! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:27:18' prior: 50901673!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	xxx do: [ :anXXX | transactions := transactions, anXXX transactions ].
	
	accounts do: [ :anAccount | transactions := transactions, anAccount transactions ].
	portfolios do: [ :aPortfolio | transactions := transactions, aPortfolio transactions ].
	
	^ transactions .! !
!Portfolio methodsFor: 'balance' stamp: 'ENC 5/20/2021 20:28:07' prior: 50901571!
balance

	| accountsBalance portfolioBalance xxxBalance |
	
	xxxBalance := xxx sum: [ :anXXX | anXXX balance ] ifEmpty: [ 0 ].
	
	accountsBalance := accounts sum: [ :anAccount | anAccount balance ] ifEmpty: [ 0 ].
	portfolioBalance := portfolios sum: [ :aPortfolio | aPortfolio balance ] ifEmpty: [ 0 ].
	
	^ xxxBalance + accountsBalance + portfolioBalance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:29:24' prior: 50900977!
test02

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	Deposit register: 100 on: account.
	portfolio associate: account.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:29:25'!
FAILURE!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:29:25'!
FAILURE!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:29:25'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:29:34'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:29:43' prior: 50900987!
test03

	| portfolio accountA accountB |
	
	portfolio := Portfolio create.
	
	accountA := ReceptiveAccount new.	
	Deposit register: 100 on: accountA.
	portfolio associate: accountA.

	accountB := ReceptiveAccount new.	
	Deposit register: 150 on: accountB.
	portfolio associate: accountB.	
	
	self assert: 250 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:29:46'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:30:11' prior: 50901254!
test05

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio associate: account.
	
	self assert: (portfolio hasRegistered: aTransaction).! !

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:30:39'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:30:58' prior: 50901364!
test07

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio associate: account.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: aTransaction).! !

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:30:59'!
FAILURE!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:30:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:30:59'!
FAILURE!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:31:02'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:31:11' prior: 50901541!
test08

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	Deposit register: 100 on: account.
	subportfolio associate: account.
	
	portfolio associate: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:31:12'!
FAILURE!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:31:12'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:31:12'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:31:14'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:31:24' prior: 50901603!
test09

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: aTransaction.
	subportfolio associate: account.
	
	portfolio associate: subportfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).! !

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:31:26'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:31:33' prior: 50901655!
test10

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: aTransaction.
	subportfolio associate: account.
	
	portfolio associate: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: aTransaction).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:31:34'!
PASSED!

!methodRemoval: Portfolio #associateAccount: stamp: 'ENC 5/20/2021 20:31:40'!
associateAccount: anAccount 
	
	accounts add: anAccount. !

!methodRemoval: Portfolio #associatePortfolio: stamp: 'ENC 5/20/2021 20:31:42'!
associatePortfolio: aPortfolio 
	
	portfolios add: aPortfolio.!
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:31:48' prior: 50901729!
hasRegistered: aTransaction
	
	xxx detect: [ :anXXX | anXXX hasRegistered: aTransaction ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:32:11' prior: 50901764!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	xxx do: [ :anXXX | transactions := transactions, anXXX transactions ].
	
	^ transactions .! !
!Portfolio methodsFor: 'initialization' stamp: 'ENC 5/20/2021 20:32:33' prior: 50901754 overrides: 16896425!
initialize
	
	xxx := 	OrderedCollection new.! !
!Portfolio methodsFor: 'balance' stamp: 'ENC 5/20/2021 20:32:57' prior: 50901778!
balance
	
	^ xxx sum: [ :anXXX | anXXX balance ] ifEmpty: [ 0 ].! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/20/2021 20:33:09'!
PASSED!

Object subclass: #Portfolio
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'ENC 5/20/2021 20:33:18'!
Object subclass: #Portfolio
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:34:31'!
register: anXXX

	xxx add: anXXX.! !

!methodRemoval: Portfolio #associate: stamp: 'ENC 5/20/2021 20:34:31'!
associate: anXXX

	xxx add: anXXX.!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901902!
test08

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	Deposit register: 100 on: account.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901830!
test03

	| portfolio accountA accountB |
	
	portfolio := Portfolio create.
	
	accountA := ReceptiveAccount new.	
	Deposit register: 100 on: accountA.
	portfolio register: accountA.

	accountB := ReceptiveAccount new.	
	Deposit register: 150 on: accountB.
	portfolio register: accountB.	
	
	self assert: 250 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901960!
test10

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: aTransaction.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: aTransaction).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901945!
test09

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: aTransaction.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: (portfolio hasRegistered: aTransaction).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901859!
test07

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: aTransaction).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901846!
test05

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	self assert: (portfolio hasRegistered: aTransaction).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:35:06' prior: 50901792!
test02

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	Deposit register: 100 on: account.
	portfolio register: account.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:41:10'!
test11

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	portfolio register: account.
	
	self assert: (portfolio hasRegistered: aTransaction).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:46:57' prior: 50902166!
test11

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAccountAlreadyRegistered ].
	
	self assert: (portfolio hasRegistered: aTransaction).! !
!Portfolio class methodsFor: 'error descriptions' stamp: 'ENC 5/20/2021 20:47:57'!
errorAlreadyRegistered

	^ 'Ya se encuentra registrado en el portfolio'! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:48:08' prior: 50902177!
test11

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].
	
	self assert: (portfolio hasRegistered: aTransaction).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:48:13' prior: 50902199!
test11

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!classDefinition: #PortfolioTest category: 'Portfolio-Ejercicio' stamp: 'ENC 5/20/2021 20:50:12'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: 'depositOf100'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50902121!
test09

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50902134!
test07

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50902146!
test05

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self assert: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50902215!
test11

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50901177 overrides: 16927572!
setUp

	depositOf100 := Deposit for: 100.! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50901189!
test04

	| portfolio |
	
	portfolio := Portfolio create.
	
	self deny: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'as yet unclassified' stamp: 'ENC 5/20/2021 20:50:12' prior: 50902106!
test10

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!classDefinition: #PortfolioTest category: 'Portfolio-Ejercicio' stamp: 'ENC 5/20/2021 20:50:28'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: 'depositOf100 depositOf150'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:50:26' prior: 50902288 overrides: 16927572!
setUp

	depositOf100 := Deposit for: 100.
	depositOf150 := Deposit for: 150.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:50:42' prior: 50902157!
test02

	| portfolio account |
	
	portfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100 .
	portfolio register: account.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/20/2021 20:51:00' prior: 50902092!
test03

	| portfolio accountA accountB |
	
	portfolio := Portfolio create.
	
	accountA := ReceptiveAccount new.	
	accountA register: depositOf100.
	portfolio register: accountA.

	accountB := ReceptiveAccount new.	
	Deposit register: 150 on: accountB.
	portfolio register: accountB.	
	
	self assert: 250 equals: portfolio balance.! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:56:26' prior: 50902071!
register: anXXX "es una cuenta o un portfolio"

	xxx add: anXXX.! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 20:58:25'!
hasAssociated: anXXX
	
	! !
!Portfolio methodsFor: 'xxxs' stamp: 'ENC 5/20/2021 21:00:29' prior: 50902358!
hasAssociated: anYYY
	
	xxx detect: [ :anXXX | anXXX hasAssociated: anYYY ] ifFound: [ ^true ] ifNone: [ ^false ].! !
!ReceptiveAccount methodsFor: 'testing' stamp: 'ENC 5/20/2021 21:01:23'!
hasAssociated: anYYY

	^ self = anYYY ! !

----QUIT----(21 May 2021 10:25:44) CuisUniversity-4532.image priorSource: 18241899!

----End fileIn of C:\Users\Mart√≠n\Desktop\Portfolio-Ejercicio.st----!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:13:45'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:13:45'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:13:45'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'financial assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:16:22'!
Object subclass: #Portfolio
	instanceVariableNames: 'financial assets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #Portfolio
	instanceVariableNames: 'finantialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:16:40'!
Object subclass: #Portfolio
	instanceVariableNames: 'finantialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #Portfolio
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:16:58'!
Object subclass: #Portfolio
	instanceVariableNames: 'xxx'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:17:06'!
Object subclass: #Portfolio
	instanceVariableNames: 'finantialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342747!
register: anXXX "es una cuenta o un portfolio"

	finantialAssets add: anXXX.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342752!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	finantialAssets do: [ :anXXX | transactions := transactions, anXXX transactions ].
	
	^ transactions .! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342730 overrides: 16896425!
initialize
	
	finantialAssets := 	OrderedCollection new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342734!
hasAssociated: anYYY
	
	finantialAssets detect: [ :anXXX | anXXX hasAssociated: anYYY ] ifFound: [ ^true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342740!
hasRegistered: aTransaction
	
	finantialAssets detect: [ :anXXX | anXXX hasRegistered: aTransaction ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:17:06' prior: 50342724!
balance
	
	^ finantialAssets sum: [ :anXXX | anXXX balance ] ifEmpty: [ 0 ].! !
!Portfolio methodsFor: 'balance' stamp: 'MS 5/23/2021 23:17:21' prior: 50342934!
balance
	
	^ finantialAssets sum: [ :aFinantialAsset | aFinantialAsset balance ] ifEmpty: [ 0 ].! !
!Portfolio methodsFor: 'xxxs' stamp: 'MS 5/23/2021 23:17:36' prior: 50342918!
hasAssociated: anYYY
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anYYY ] ifFound: [ ^true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'xxxs' stamp: 'MS 5/23/2021 23:17:53' prior: 50342946!
hasAssociated: anotherFinantialAsset
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ ^true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'xxxs' stamp: 'MS 5/23/2021 23:18:09' prior: 50342925!
hasRegistered: aTransaction
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasRegistered: aTransaction ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'xxxs' stamp: 'MS 5/23/2021 23:18:20' prior: 50342897!
register: aFinantialAsset "es una cuenta o un portfolio"

	finantialAssets add: aFinantialAsset.! !
!Portfolio methodsFor: 'xxxs' stamp: 'MS 5/23/2021 23:18:26' prior: 50342903!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	finantialAssets do: [ :aFinantialAsset | transactions := transactions, aFinantialAsset transactions ].
	
	^ transactions .! !

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:19:29'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:19:32'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:19:32'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:19:59'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:19:59'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:20:19' prior: 50342972!
register: aFinantialAsset 

	finantialAssets add: aFinantialAsset.! !

Object subclass: #FinantialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #FinantialAsset category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:30:24'!
Object subclass: #FinantialAsset
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:30:36'!
FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinantialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'MS 5/23/2021 23:30:46'!
FinantialAsset subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:30:53'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:30:53'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:30:53'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MS 5/23/2021 23:30:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MS 5/23/2021 23:30:56'!
PASSED!
!FinantialAsset methodsFor: 'nil' stamp: 'MS 5/23/2021 23:32:12'!
balance
	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:32:21'!
hasRegistered
	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:32:50'!
hasAssociated: aFinantialAsset
	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:33:05'!
hasRegistered: aTransaction
	self subclassResponsibility ! !

!methodRemoval: FinantialAsset #hasRegistered stamp: 'MS 5/23/2021 23:33:07'!
hasRegistered
	self subclassResponsibility !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:33:16' overrides: 16896425!
initialize
	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:33:27'!
register: aFinantialAsset
	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'as yet unclassified' stamp: 'MS 5/23/2021 23:33:34'!
transactions
	self subclassResponsibility ! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:35:47'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:35:47'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:35:47'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MS 5/23/2021 23:35:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MS 5/23/2021 23:35:51'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:37:39' prior: 50342999 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets add: aFinantialAsset.! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:37:41'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/23/2021 23:38:35'!
test12

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/23/2021 23:38:51' prior: 50343221!
test12

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:38:53'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/23/2021 23:39:20' prior: 50343236!
test12

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:39:35'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:39:35'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:42:49' prior: 50343187 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets do: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset].
	
	finantialAssets add: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:43:59' prior: 50343277 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	"finantialAssets do: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset]."
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundTransaction | ^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets add: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:44:31' prior: 50343290 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	"finantialAssets do: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset]."
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundTransaction | ^ self error: self class errorAlreadyRegistered ]
	ifNone: [finantialAssets add: aFinantialAsset.].! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:44:35'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:44:35'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:44:35'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:44:35'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:44:35'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:44:36'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:44:36'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:44:36'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:44:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:44:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:44:42'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:44:44'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:44:45'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:45:53' prior: 50343309 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	"finantialAssets do: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset]."
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundTransaction | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:46:01' prior: 50343370 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	"finantialAssets do: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset]."
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:46:07'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:46:07'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:46:07'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:46:52' prior: 50343389 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets do: [ :registeredFinantialAsset | (registeredFinantialAsset hasAssociated: aFinantialAsset) ifTrue: [^ (self error: self class errorAlreadyRegistered)]].
	finantialAssets add: aFinantialAsset.
	
	"finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.]."! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:46:54'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:46:55'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:46:55'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:46:55'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:47:24'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:47:24'!
FAILURE!

 self = anYYY !

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:51:10'!
FAILURE!

finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ ^true ] ifNone: [ ^false ].!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:52:46'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:53:16'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:53:41'!
FAILURE!

(registeredFinantialAsset hasAssociated: aFinantialAsset)!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:56:15'!
FAILURE!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:56:41'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:56:42'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:56:42'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:56:42'!
FAILURE!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:56:44'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/23/2021 23:56:47'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:56:47'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/23/2021 23:56:47'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/23/2021 23:58:09' prior: 50342954 overrides: 50343105!
hasAssociated: anotherFinantialAsset
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ ^true ] ifNone: [ ^false ].! !
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:00:01' prior: 50342813 overrides: 50343105!
hasAssociated: aReceptiveAccount

	^ self = aReceptiveAccount ! !

----QUIT----(24 May 2021 00:00:15) CuisUniversity-4532.image priorSource: 334043!

----STARTUP---- (24 May 2021 00:00:21) as C:\Program Files (x86)\Smalltalk\windows64\CuisUniversity-4532.image!


!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:00:24'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MS 5/24/2021 00:00:24'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:00:24'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:00:38'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:00:38'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:02:22' prior: 50343576 overrides: 50343105!
hasAssociated: anotherFinantialAsset
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ ^true ] ifNone: [ ^false ].
	
	finantialAssets do: [ :aFinantialAsset | (aFinantialAsset hasAssociated: anotherFinantialAsset) ifTrue: [^true]].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:02:36' prior: 50343659 overrides: 50343105!
hasAssociated: anotherFinantialAsset
	
	"finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ ^true ] ifNone: [ ^false ]."
	
	finantialAssets do: [ :aFinantialAsset | (aFinantialAsset hasAssociated: anotherFinantialAsset) ifTrue: [^true]].
	
	^false.! !

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:02:39'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:03:41' prior: 50343672 overrides: 50343105!
hasAssociated: anotherFinantialAsset
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].
	
	"
	finantialAssets do: [ :aFinantialAsset | (aFinantialAsset hasAssociated: anotherFinantialAsset) ifTrue: [^true]].
	
	^false."! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:03:46'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:03:52' prior: 50343688 overrides: 50343105!
hasAssociated: anotherFinantialAsset
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:04:08' prior: 50343438 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	"finantialAssets do: [ :registeredFinantialAsset | (registeredFinantialAsset hasAssociated: aFinantialAsset) ifTrue: [^ (self error: self class errorAlreadyRegistered)]].
	finantialAssets add: aFinantialAsset."
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 00:04:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 00:04:11'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 00:04:11'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 00:04:11'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:04:11'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:04:22' prior: 50343740 overrides: 50343123!
register: aFinantialAsset 

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:05:07'!
test13

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:05:08'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:05:12'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:05:40' prior: 50343804!
test13

	| portfolio subportfolio account subsubportfolio |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	subsubportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	subsubportfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:05:59' prior: 50343825!
test13

	| portfolio subportfolio account subsubportfolio |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	subsubportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	subportfolio register: subsubportfolio.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:06:07' prior: 50343845!
test13

	| portfolio subportfolio account subsubportfolio |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	subsubportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subsubportfolio register: account.
	subportfolio register: subsubportfolio.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:06:25' prior: 50343865!
test13

	| portfolio subportfolio account subsubportfolio |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	subsubportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subsubportfolio register: account.
	subportfolio register: subsubportfolio.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subsubportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:06:28'!
FAILURE!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:06:28'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:06:50' prior: 50343730 overrides: 50343105!
hasAssociated: anotherFinantialAsset

	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:06:51' prior: 50343910 overrides: 50343105!
hasAssociated: anotherFinantialAsset

	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:06:52'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:09:05'!
test14

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 00:09:09'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 00:09:09'!
FAILURE!

Object subclass: #PortfolioState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioState category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:16:57'!
Object subclass: #PortfolioState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

PortfolioState subclass: #PortfolioStateRoot
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioStateRoot category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:17:11'!
PortfolioState subclass: #PortfolioStateRoot
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioStateSubPortfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:17:36'!
PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets portfolioState'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:17:49'!
FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets portfolioState'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets state'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:17:56'!
FinantialAsset subclass: #Portfolio
	instanceVariableNames: 'finantialAssets state'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:18:25' prior: 50342913 overrides: 50343119!
initialize
	
	finantialAssets := 	OrderedCollection new.
	state := PortfolioStateRoot new.! !

PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioStateSubPortfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 00:22:32'!
PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: 'parent'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:37:29' prior: 50343790 overrides: 50343123!
register: aFinantialAsset 

	"has associated chequeo"

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	
	
	aFinantialAsset registerAsParent: self.! !
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:37:51'!
registerAsParent: aPortfolio
	! !
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:38:46' prior: 50344091!
registerAsParent: aPortfolio
	state := PortfolioStateSubPortfolio withParent: aPortfolio.! !
!PortfolioStateSubPortfolio class methodsFor: 'nil' stamp: 'MS 5/24/2021 00:39:22'!
withParent: aPortfolio
	self new initializeWithParent: aPortfolio.! !
!PortfolioStateSubPortfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:39:42'!
initializeWithParent: aPortfolio
	parent := aPortfolio.! !
!ReceptiveAccount methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:40:11'!
registerAsParent: aPortfolio
! !
!FinantialAsset methodsFor: 'initialization' stamp: 'MS 5/24/2021 00:40:21'!
registerAsParent: aPortfolio
	self subclassResponsibility ! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 00:40:29'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 00:40:30'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 00:40:30'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 00:40:30'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:40:30'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 00:40:30'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 00:40:30'!
FAILURE!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 00:40:34'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:41:58' prior: 50344074 overrides: 50343123!
register: aFinantialAsset 

	state portfolioParentHasAssociated: aFinantialAsset.
	"has associated chequeo"

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	
	
	aFinantialAsset registerAsParent: self.! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 00:43:01' prior: 50344158 overrides: 50343123!
register: aFinantialAsset 

	state parentOf: self hasAssociated: aFinantialAsset.
	"has associated chequeo"

	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	
	
	aFinantialAsset registerAsParent: self.! !
!PortfolioState methodsFor: 'nil' stamp: 'MS 5/24/2021 00:43:28'!
parentOf: aPortfolio hasAssociated: aFinantialAsset
! !
!PortfolioState methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:43:30' prior: 50344196!
parentOf: aPortfolio hasAssociated: aFinantialAsset
	self subclassResponsibility ! !
!PortfolioStateRoot methodsFor: 'no messages' stamp: 'MS 5/24/2021 00:44:06' overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset
	^ aPortfolio hasAssociated: aFinantialAsset.! !
!PortfolioStateRoot methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:44:14' prior: 50344207 overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'nil' stamp: 'MS 5/24/2021 00:44:25' overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset
	! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:52:23' prior: 50344221 overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset
	self parentOf: parent hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:52:26' prior: 50344227 overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	self parentOf: parent hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:55:20' prior: 50344235 overrides: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	self shouldBeImplemented ! !
!PortfolioState methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 00:55:40' prior: 50344201!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	self subclassResponsibility ! !

----QUIT----(24 May 2021 01:00:22) CuisUniversity-4532.image priorSource: 382081!

----STARTUP---- (24 May 2021 14:56:50) as C:\Program Files (x86)\Smalltalk\windows64\CuisUniversity-4532.image!


!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:38:23'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:38:23'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 15:38:36' prior: 50344178 overrides: 50343123!
register: aFinantialAsset 

	state parentOf: self hasAssociated: aFinantialAsset.
	"has associated chequeo"
"
	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	"
	
	aFinantialAsset registerAsParent: self.! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 15:39:11' prior: 50344266 overrides: 50343123!
register: aFinantialAsset 

	state parentOf: self hasAssociated: aFinantialAsset.
	"has associated chequeo"
	
"
	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	"
	
	aFinantialAsset registerAsParent: self.! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 15:44:20' prior: 50344243 overrides: 50344249!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	aPortfolio hasAssociated: aFinantialAsset in: parent.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:44:55'!
hasAssociated: aFinantialAsset in: parent
	! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:46:47' prior: 50344313!
hasAssociated: aFinantialAsset in: parent

	parent hasParentAssociatedWith: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:47:29'!
hasParentAssociatedWith: aFinantialAsset

	state parentOf: self hasAssociated: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:47:58' prior: 50344318!
hasAssociated: aFinantialAsset in: parent

	^ parent hasParentAssociatedWith: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:48:03' prior: 50344324!
hasParentAssociatedWith: aFinantialAsset

	^ state parentOf: self hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 15:48:10' prior: 50344306 overrides: 50344249!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset in: parent.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 15:49:30' prior: 50344331!
hasAssociated: aFinantialAsset in: aParent

	^ aParent hasParentAssociatedWith: aFinantialAsset.! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 15:50:35'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 15:50:35'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 15:50:35'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:50:35'!
FAILURE!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 15:50:53'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 15:50:54'!
FAILURE!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 15:50:54'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 15:51:36' prior: 50344286 overrides: 50343123!
register: aFinantialAsset 

	state parentOf: self hasAssociated: aFinantialAsset.
	"has associated chequeo"
	
"
	(finantialAssets includes: aFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :registeredFinantialAsset | registeredFinantialAsset hasAssociated: aFinantialAsset ]
	ifFound: [ :foundAsset | ^ (self error: self class errorAlreadyRegistered) ]
	ifNone: [finantialAssets add: aFinantialAsset.].
	"
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 15:51:38'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:51:38'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:51:38'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:51:44'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:51:44'!
FAILURE!

self parent!
!PortfolioStateSubPortfolio class methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 15:58:02' prior: 50344101!
withParent: aPortfolio
	^ self new initializeWithParent: aPortfolio.! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 15:58:19'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:03:08' prior: 50343966!
test14

	| portfolio account subportfolioA subportfolioB |
	
	portfolio := Portfolio create.
	subportfolioA := Portfolio create.
	subportfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	subportfolioA register: account.
	subportfolioB register: account.
	portfolio register: subportfolioA .
	
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:03:13'!
test15

	| portfolio account subportfolioA subportfolioB |
	
	portfolio := Portfolio create.
	subportfolioA := Portfolio create.
	subportfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	subportfolioA register: account.
	subportfolioB register: account.
	portfolio register: subportfolioA .
	
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:03:08' prior: 50344499!
test14

	| portfolio account subportfolioA subportfolioB |
	
	portfolio := Portfolio create.
	subportfolioA := Portfolio create.
	subportfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	subportfolioA register: account.
	subportfolioB register: account.
	portfolio register: subportfolioA .
	
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:03:33'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:03:33'!
FAILURE!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 00:09:05' prior: 50344537!
test14

	| portfolio subportfolio account |
	
	portfolio := Portfolio create.
	
	subportfolio := Portfolio create.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:03:49'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:03:49'!
FAILURE!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:03:50'!
FAILURE!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:03:56'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 16:03:58'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:04:01'!
FAILURE!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:04:01'!
FAILURE!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:38:17' prior: 50343924 overrides: 50343105!
hasAssociated: anotherFinantialAsset

	anotherFinantialAsset xxx: self.
	
	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:38:28' prior: 50344627 overrides: 50343105!
hasAssociated: anotherFinantialAsset

	anotherFinantialAsset zzz: self.
	
	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:39:59'!
zzz: aPortfolio
	
! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:41:16' prior: 50344656!
zzz: aPortfolio
	
	^ finantialAssets do: [ :aFinantialAsset | aPortfolio hasAssociated: aFinantialAsset].! !
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:43:29'!
zzz: aFinantialAsset

	^ aFinantialAsset hasAssociated: aFinantialAsset! !
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:43:32' prior: 50344666!
zzz: aFinantialAsset

	^ aFinantialAsset hasAssociated: self.! !
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:45:32' prior: 50344672!
zzz: aPortfolio

	^ aPortfolio hasAssociated: self.! !
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:46:21' prior: 50344678!
zzz: aPortfolio! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:47:27'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:49:21' prior: 50344642 overrides: 50343105!
hasAssociated: anotherFinantialAsset

	anotherFinantialAsset checkInnerFinantialAssetsAssociatedWith: self.
	
	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] ifFound: [ :foundAsset | ^ true ] ifNone: [ ^false ].! !
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:49:48'!
checkInnerFinantialAssetsAssociatedWith: aPortfolio
	
	^ finantialAssets do: [ :aFinantialAsset | aPortfolio hasAssociated: aFinantialAsset].! !

!methodRemoval: Portfolio #zzz: stamp: 'MS 5/24/2021 16:49:48'!
zzz: aPortfolio
	
	^ finantialAssets do: [ :aFinantialAsset | aPortfolio hasAssociated: aFinantialAsset].!
!ReceptiveAccount methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:49:56'!
checkInnerFinantialAssetsAssociatedWith: aPortfolio! !

!methodRemoval: ReceptiveAccount #zzz: stamp: 'MS 5/24/2021 16:49:57'!
zzz: aPortfolio!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'MS 5/24/2021 16:50:02'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:50:04'!
PASSED!
!Portfolio methodsFor: 'finantial assets' stamp: 'MS 5/24/2021 16:50:17' prior: 50344400 overrides: 50343123!
register: aFinantialAsset 

	state parentOf: self hasAssociated: aFinantialAsset.
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:53:38'!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio create.
	portfolioA := Portfolio create.
	portfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	subportfolio register: account.
	portfolioA register: subportfolio.
	portfolioB register: subportfolio.
	
	
	self
		should: [ portfolioB register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:53:46'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:53:49'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:54:27' prior: 50344827!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio create.
	portfolioA := Portfolio create.
	portfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	portfolioA register: subportfolio.
	portfolioB register: subportfolio.
	portfolioB register: account.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:28'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:31'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:54:45' prior: 50344851!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio create.
	portfolioA := Portfolio create.
	portfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	portfolioA register: subportfolio.
	portfolioB register: subportfolio.
	portfolioA register: account.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:47'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:47'!
FAILURE!
!PortfolioTest methodsFor: 'testing' stamp: 'MS 5/24/2021 16:54:55' prior: 50344875!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio create.
	portfolioA := Portfolio create.
	portfolioB := Portfolio create.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	portfolioA register: subportfolio.
	portfolioA register: account.
	portfolioB register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:56'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:54:56'!
FAILURE!

PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #PortfolioStateSubPortfolio category: 'Portfolio-Ejercicio' stamp: 'MS 5/24/2021 16:55:07'!
PortfolioState subclass: #PortfolioStateSubPortfolio
	instanceVariableNames: 'parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!PortfolioStateSubPortfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 16:55:21' prior: 50344106!
initializeWithParent: aPortfolio
	parents add: aPortfolio.! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 16:55:30' prior: 50344346 overrides: 50344249!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.! !
!PortfolioStateSubPortfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 16:55:49' prior: 50344937!
initializeWithParent: aPortfolio
	parents := OrderedCollection new.
	parents add: aPortfolio.! !
!PortfolioStateSubPortfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 16:55:51' prior: 50344950!
initializeWithParent: aPortfolio

	parents := OrderedCollection new.
	parents add: aPortfolio.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 16:56:01' prior: 50344353!
hasAssociated: aFinantialAsset in: aParent

	^ 
	aParent hasParentAssociatedWith: aFinantialAsset.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 16:57:08' prior: 50344964!
hasAssociated: aFinantialAsset in: parents

	parents do: [ :aParent | aParent hasParentAssociatedWith: aFinantialAsset ].
	.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'MS 5/24/2021 16:58:26' prior: 50344971!
hasAssociated: aFinantialAsset in: parents

	parents do: [ :aParent | (aParent hasParentAssociatedWith: aFinantialAsset) ifTrue: [^true]].
	
	^false
	! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 16:59:14'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:59:14'!
FAILURE!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 16:59:14'!
FAILURE!
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 17:02:10' prior: 50344095 overrides: 50344115!
registerAsParent: aPortfolio
	"state := PortfolioStateSubPortfolio withParent: aPortfolio."
	state registerNewParent: aPortfolio.! !
!PortfolioStateRoot methodsFor: 'nil' stamp: 'MS 5/24/2021 17:02:36'!
registerNewParent: aPortfolio
	! !
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 17:03:45' prior: 50345027 overrides: 50344115!
registerAsParent: aPortfolio
	"state := PortfolioStateSubPortfolio withParent: aPortfolio."
	state register: aPortfolio asNewParentOf: self.! !

!methodRemoval: PortfolioStateRoot #registerNewParent: stamp: 'MS 5/24/2021 17:03:52'!
registerNewParent: aPortfolio
	!
!PortfolioStateRoot methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 17:04:13'!
register: aParentPortfolio asNewParentOf: aPortfolio
	! !
!PortfolioStateRoot methodsFor: 'as yet unclassified' stamp: 'MS 5/24/2021 17:04:46' prior: 50345050!
register: aParentPortfolio asNewParentOf: aPortfolio
	aPortfolio subportfolioOf: aParentPortfolio! !
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 17:05:23'!
subportfolioOf: aParentPortfolio
	state := PortfolioStateSubPortfolio withParent: aParentPortfolio.
	! !
!PortfolioStateSubPortfolio methodsFor: 'nil' stamp: 'MS 5/24/2021 17:06:19'!
register: aParentPortfolio asNewParentOf: aPortfolio
	parents add: aParentPortfolio.! !
!Portfolio methodsFor: 'initialization' stamp: 'MS 5/24/2021 17:06:50' prior: 50345039 overrides: 50344115!
registerAsParent: aPortfolio
	state register: aPortfolio asNewParentOf: self.! !

!testRun: #PortfolioTest #test01 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'MS 5/24/2021 17:07:34'!
PASSED!

----SNAPSHOT----(24 May 2021 17:08:23) CuisUniversity-4532.image priorSource: 403317!

----STARTUP---- (24 May 2021 22:46:15) as /Users/ecerdeira/Desktop/Imagen Limpia/CuisUniversity-4532.image!


----End fileIn of /Users/ecerdeira/Desktop/Portfolio-Ejercicio.st----!
!Withdraw methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:49:53'!
addValueTo: partialBalance

	^ partialBalance - value! !
!AccountTransaction methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:49:53'!
addValueTo: partialBalance

	self subclassResponsibility.! !
!Deposit methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:49:53' overrides: 50903178!
addValueTo: partialBalance

	^ partialBalance + value! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 22:49:53' prior: 50903071 overrides: 50902869!
balance

	| partialBalance |
	
	partialBalance := 0.
	
	transactions do: [ :aTransaction | 
		partialBalance := aTransaction addValueTo: partialBalance.
	 ].
	
	^ partialBalance! !

!methodRemoval: Withdraw #xxx: stamp: 'ENC 5/24/2021 22:49:53'!
xxx: partialBalance

	^ partialBalance - value!

!methodRemoval: AccountTransaction #xxx: stamp: 'ENC 5/24/2021 22:49:53'!
xxx: partialBalance

	self subclassResponsibility.!

!methodRemoval: Deposit #xxx: stamp: 'ENC 5/24/2021 22:49:53'!
xxx: partialBalance

	^ partialBalance + value!
!Deposit methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:50:07' prior: 50903183 overrides: 50903178!
addValueTo: aPartialBalance

	^ aPartialBalance + value! !
!Withdraw methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:50:14' prior: 50903173 overrides: 50903178!
addValueTo: aPartialBalance

	^ aPartialBalance - value! !
!AccountTransaction methodsFor: 'balance' stamp: 'ENC 5/24/2021 22:50:20' prior: 50903178!
addValueTo: aPartialBalance

	self subclassResponsibility.! !
!Portfolio methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:04:54' prior: 50902933!
subportfolioOf: aParentPortfolio

	state := PortfolioStateSubPortfolio withParent: aParentPortfolio.
	! !
!Portfolio methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:05:01' prior: 50902928 overrides: 50902878!
registerAsParent: aPortfolio

	state register: aPortfolio asNewParentOf: self.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'ENC 5/24/2021 23:05:27' prior: 50902939!
hasAssociated: aFinantialAsset in: parents

	parents do: [ :aParent | (aParent hasParentAssociatedWith: aFinantialAsset) ifTrue: [ ^true ] ].
	
	^ false.
	! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'ENC 5/24/2021 23:06:10' prior: 50903189 overrides: 50902869!
balance

	| partialBalance |
	
	partialBalance := 0.
	
	transactions do: [ :aTransaction | partialBalance := aTransaction addValueTo: partialBalance ].
	
	^ partialBalance! !
!FinantialAsset methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:06:31' prior: 50902874 overrides: 16896425!
initialize

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:06:34' prior: 50902878!
registerAsParent: aPortfolio

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'finantial assets' stamp: 'ENC 5/24/2021 23:06:38' prior: 50902883!
hasAssociated: aFinantialAsset

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'finantial assets' stamp: 'ENC 5/24/2021 23:06:42' prior: 50902888!
hasRegistered: aTransaction

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'finantial assets' stamp: 'ENC 5/24/2021 23:06:45' prior: 50902893!
register: aFinantialAsset

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'finantial assets' stamp: 'ENC 5/24/2021 23:06:49' prior: 50902898!
transactions

	self subclassResponsibility ! !
!FinantialAsset methodsFor: 'balance' stamp: 'ENC 5/24/2021 23:06:53' prior: 50902869!
balance

	self subclassResponsibility ! !
!PortfolioState methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:07:40'!
register: aParentPortfolio asNewParentOf: aPortfolio

	self subclassResponsibility! !
!PortfolioStateRoot methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:08:25' prior: 50903116 overrides: 50903291!
register: aParentPortfolio asNewParentOf: aPortfolio

	aPortfolio subportfolioOf: aParentPortfolio! !
!PortfolioStateSubPortfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:08:32' prior: 50903150 overrides: 50903291!
register: aParentPortfolio asNewParentOf: aPortfolio

	parents add: aParentPortfolio.! !
!PortfolioStateRoot methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:12:24'!
hasAssociated: aPortfolio inParentsOf: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:12:24'!
hasAssociated: aPortfolio inParentsOf: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.! !
!PortfolioState methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:12:24'!
hasAssociated: aPortfolio inParentsOf: aFinantialAsset

	self subclassResponsibility ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:12:24' prior: 50902947!
hasParentAssociatedWith: aFinantialAsset

	^ state hasAssociated: self inParentsOf: aFinantialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:12:24' prior: 50902985 overrides: 50903277!
register: aFinantialAsset 

	state hasAssociated: self inParentsOf: aFinantialAsset.
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !

!methodRemoval: PortfolioStateRoot #parentOf:hasAssociated: stamp: 'ENC 5/24/2021 23:12:24'!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset.!

!methodRemoval: PortfolioStateSubPortfolio #parentOf:hasAssociated: stamp: 'ENC 5/24/2021 23:12:24'!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.!

!methodRemoval: PortfolioState #parentOf:hasAssociated: stamp: 'ENC 5/24/2021 23:12:24'!
parentOf: aPortfolio hasAssociated: aFinantialAsset

	self subclassResponsibility !
!PortfolioState methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:12:40' prior: 50903324!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	self subclassResponsibility ! !
!PortfolioStateRoot methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:12:54' prior: 50903312 overrides: 50903364!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'parenting' stamp: 'ENC 5/24/2021 23:13:06' prior: 50903318 overrides: 50903364!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.! !
!Portfolio methodsFor: 'finantial assets - private' stamp: 'ENC 5/24/2021 23:13:23' prior: 50903330!
hasParentAssociatedWith: aFinantialAsset

	^ state hasAssociated: aFinantialAsset inParentsOf: self.! !
!Portfolio methodsFor: 'finantial assets' stamp: 'ENC 5/24/2021 23:13:45' prior: 50903337 overrides: 50903277!
register: aFinantialAsset 

	state hasAssociated: aFinantialAsset inParentsOf: self.
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:14:02'!
PASSED!
!PortfolioStateSubPortfolio class methodsFor: 'class initialization' stamp: 'ENC 5/24/2021 23:15:29' prior: 50903166!
withParent: aPortfolio

	^ self new initializeWithParent: aPortfolio.! !
!PortfolioStateSubPortfolio class methodsFor: 'class initialization' stamp: 'ENC 5/24/2021 23:15:38' prior: 50903440!
withParent: aParentPortfolio

	^ self new initializeWithParent: aParentPortfolio.! !

!methodRemoval: AccountTransaction #value stamp: 'ENC 5/24/2021 23:17:43'!
value 

	self subclassResponsibility !

!methodRemoval: Deposit #value stamp: 'ENC 5/24/2021 23:17:46'!
value

	^ value!

!methodRemoval: Withdraw #value stamp: 'ENC 5/24/2021 23:17:51'!
value

	^ value!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:17:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:17:57'!
FAILURE!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:17:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:17:57'!
FAILURE!
!Withdraw methodsFor: 'value' stamp: 'ENC 5/24/2021 23:18:45' overrides: 16881508!
value

	^ value! !
!Deposit methodsFor: 'value' stamp: 'ENC 5/24/2021 23:18:52' overrides: 16881508!
value

	^ value! !
!AccountTransaction methodsFor: 'value' stamp: 'ENC 5/24/2021 23:19:02' overrides: 16881508!
value

	self subclassResponsibility ! !
!AccountTransaction methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:20:05'!
initializeFor: aValue

	| value |
	value := aValue ! !
!AccountTransaction methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:20:12' prior: 50903540!
initializeFor: aValue

	| value |
	
	value := aValue ! !

AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Deposit category: 'Portfolio-Ejercicio' stamp: 'ENC 5/24/2021 23:20:23'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Withdraw category: 'Portfolio-Ejercicio' stamp: 'ENC 5/24/2021 23:20:26'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!methodRemoval: Deposit #value stamp: 'ENC 5/24/2021 23:20:51'!
value

	^ value!

!methodRemoval: Withdraw #value stamp: 'ENC 5/24/2021 23:20:57'!
value

	^ value!

Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'ENC 5/24/2021 23:21:12'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:21:35' prior: 50903545!
initializeFor: aValue

	| value2|
	
	value2 := aValue ! !

Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #AccountTransaction category: 'Portfolio-Ejercicio' stamp: 'ENC 5/24/2021 23:21:43'!
Object subclass: #AccountTransaction
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!AccountTransaction methodsFor: 'initialization' stamp: 'ENC 5/24/2021 23:21:52' prior: 50903601!
initializeFor: aValue
	
	value := aValue ! !
!AccountTransaction methodsFor: 'value' stamp: 'ENC 5/24/2021 23:21:59' prior: 50903536 overrides: 16881508!
value

	^ value! !

!methodRemoval: Deposit #initializeFor: stamp: 'ENC 5/24/2021 23:22:03'!
initializeFor: aValue

	value := aValue !

!methodRemoval: Withdraw #initializeFor: stamp: 'ENC 5/24/2021 23:22:09'!
initializeFor: aValue

	value := aValue !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:22:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:22:21'!
PASSED!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'ENC 5/24/2021 23:22:52'!
for: aValue

	^ self new! !
!AccountTransaction class methodsFor: 'instance creation' stamp: 'ENC 5/24/2021 23:23:04' prior: 50903699!
for: aValue

	^ self new initializeFor: aValue ! !

!methodRemoval: Deposit class #for: stamp: 'ENC 5/24/2021 23:23:08'!
for: aValue

	^ self new initializeFor: aValue !

!methodRemoval: Withdraw class #for: stamp: 'ENC 5/24/2021 23:23:13'!
for: aValue

	^ self new initializeFor: aValue !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:23:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:23:24'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:25:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:25:32'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:27:36' prior: 50902456!
test01

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:27:41' prior: 50902462!
test02

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100 .
	portfolio register: account.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:27:46' prior: 50902471!
test03

	| portfolio accountA accountB |
	
	portfolio := Portfolio new.
	
	accountA := ReceptiveAccount new.	
	accountA register: depositOf100.
	portfolio register: accountA.

	accountB := ReceptiveAccount new.	
	Deposit register: 150 on: accountB.
	portfolio register: accountB.	
	
	self assert: 250 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:27:50' prior: 50902484!
test04

	| portfolio |
	
	portfolio := Portfolio new.
	
	self deny: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:27:54' prior: 50902490!
test05

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self assert: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:00' prior: 50902500!
test06

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio transactions isEmpty.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:09' prior: 50902506!
test07

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:14' prior: 50902518!
test08

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	account := ReceptiveAccount new.	
	Deposit register: 100 on: account.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:19' prior: 50902530!
test09

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:25' prior: 50902542!
test10

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:31' prior: 50902556!
test11

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:36' prior: 50902569!
test12

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:43' prior: 50902585!
test13

	| portfolio subportfolio account subsubportfolio |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	subsubportfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subsubportfolio register: account.
	subportfolio register: subsubportfolio.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ portfolio register: subsubportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:49' prior: 50902604!
test14

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	portfolio register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:54' prior: 50902620!
test15

	| portfolio account subportfolioA subportfolioB |
	
	portfolio := Portfolio new.
	subportfolioA := Portfolio new.
	subportfolioB := Portfolio new.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	subportfolioA register: account.
	subportfolioB register: account.
	portfolio register: subportfolioA .
	
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:29:00' prior: 50902639!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio new.
	portfolioA := Portfolio new.
	portfolioB := Portfolio new.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	portfolioA register: subportfolio.
	portfolioA register: account.
	portfolioB register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:29:08'!
PASSED!

!methodRemoval: Portfolio class #create stamp: 'ENC 5/24/2021 23:29:15'!
create

	^ self new initialize.!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:29:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:29:22'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:31:58' prior: 50902961 overrides: 50903266!
hasAssociated: anotherFinantialAsset

	anotherFinantialAsset checkInnerFinantialAssetsAssociatedWith: self.
	
	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	finantialAssets detect: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ] 
	ifFound: [ :foundAsset | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:32:32' prior: 50903393 overrides: 50903277!
register: aFinantialAsset 

	state hasAssociated: aFinantialAsset inParentsOf: self.
	
	aFinantialAsset registerAsParent: self.
	
	finantialAssets add: aFinantialAsset.! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:36:10'!
xxx: aFinantialAsset yyy: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^false ].
	
	finantialAssets detect: [ :finantialAsset | aFinantialAsset hasRegistered: aFinantialAsset ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].
	
	finantialAssets detect: [ :finantialAsset | aFinantialAsset hasAssociated: aFinantialAsset ] 
	ifFound: [ :foundAsset | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:37:50'!
yyy: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:38:35' prior: 50902976 overrides: 50903272!
hasRegistered: aTransaction
	
	^ self yyy: [ :aFinantialAsset | aFinantialAsset hasRegistered: aTransaction ].! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:38:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:38:42'!
PASSED!

!methodRemoval: Portfolio #xxx:yyy: stamp: 'ENC 5/24/2021 23:38:47'!
xxx: aFinantialAsset yyy: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^false ].
	
	finantialAssets detect: [ :finantialAsset | aFinantialAsset hasRegistered: aFinantialAsset ] 
	ifFound: [ :foundTransaction | ^ true ] 
	ifNone: [ ^false ].
	
	finantialAssets detect: [ :finantialAsset | aFinantialAsset hasAssociated: aFinantialAsset ] 
	ifFound: [ :foundAsset | ^ true ] 
	ifNone: [ ^false ].!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:39:28'!
detectIfAny: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^false ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/24/2021 23:39:28' prior: 50904210 overrides: 50903272!
hasRegistered: aTransaction
	
	^ self detectIfAny: [ :aFinantialAsset | aFinantialAsset hasRegistered: aTransaction ].! !

!methodRemoval: Portfolio #yyy: stamp: 'ENC 5/24/2021 23:39:28'!
yyy: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^false ].!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:39:59' prior: 50904159 overrides: 50903266!
hasAssociated: anotherFinantialAsset

	anotherFinantialAsset checkInnerFinantialAssetsAssociatedWith: self.
	
	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].
	
	^ self detectIfAny: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ].! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:40:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:40:04'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:44:05' prior: 50904322 overrides: 50903266!
hasAssociated: anotherFinantialAsset

	(finantialAssets includes: anotherFinantialAsset) ifTrue: [^ self error: self class errorAlreadyRegistered ].

	anotherFinantialAsset checkInnerFinantialAssetsAssociatedWith: self.
	
	
	
	^ self detectIfAny: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ].! !

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:44:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/24/2021 23:44:09'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:44:23' prior: 50904400 overrides: 50903266!
hasAssociated: anotherFinantialAsset

	(finantialAssets includes: anotherFinantialAsset) ifTrue: [ ^ self error: self class errorAlreadyRegistered ].

	anotherFinantialAsset checkInnerFinantialAssetsAssociatedWith: self.
	
	^ self detectIfAny: [ :aFinantialAsset | aFinantialAsset hasAssociated: anotherFinantialAsset ].! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/24/2021 23:46:11' prior: 50902953!
checkInnerFinantialAssetsAssociatedWith: aPortfolio
	
	^ finantialAssets do: [ :aFinantialAsset | aPortfolio hasAssociated: aFinantialAsset ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:50:34' prior: 50903860!
test03

	| portfolio accountA accountB |
	
	portfolio := Portfolio new.
	
	accountA := ReceptiveAccount new.	
	accountA register: depositOf100.
	portfolio register: accountA.

	accountB := ReceptiveAccount new.	
	accountB register: depositOf150.
	portfolio register: accountB.	
	
	self assert: 250 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:51:04' prior: 50903909!
test08

	| portfolio subportfolio account |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	account := ReceptiveAccount new.	
	account register: depositOf100.
	subportfolio register: account.
	
	portfolio register: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:53:18'!
accountWith: aTransaction

	| account |
	
	account := ReceptiveAccount new.	
	account register: aTransaction.
		
	^ account ! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:54:08' prior: 50903850!
test02

	| portfolio account |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:54:10'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:54:15' prior: 50904531!
test02

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:54:50' prior: 50904499!
test03

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:54:52'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:55:12' prior: 50903881!
test05

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:55:14'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:55:45' prior: 50903897!
test07

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:55:48' prior: 50904685!
test07

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:55:48'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:56:08' prior: 50904512!
test08

	| portfolio subportfolio |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	subportfolio register: (self accountWith: depositOf100).
	
	portfolio register: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:56:39' prior: 50904745!
test08

	| portfolio subportfolio |
	
	subportfolio := Portfolio new.
	subportfolio register: (self accountWith: depositOf100).
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:56:40'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:56:52' prior: 50903922!
test09

	| portfolio subportfolio |
	
	portfolio := Portfolio new.
	
	subportfolio := Portfolio new.
	subportfolio register: (self accountWith: depositOf100).
	
	portfolio register: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:56:54'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:57:10' prior: 50904807!
test09

	| portfolio subportfolio |
	
	subportfolio := Portfolio new.
	subportfolio register: (self accountWith: depositOf100).
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:57:11'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:57:32' prior: 50903935!
test10

	| portfolio subportfolio |
	
	subportfolio := Portfolio new.
	subportfolio register: (self accountWith: depositOf100).
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:57:34'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:57:51' prior: 50903950!
test11

	| portfolio account |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:58:00'!
FAILURE!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:57:51' prior: 50904962!
test11

	| portfolio account |
	
	portfolio := Portfolio new.
	portfolio register: (self accountWith: depositOf100).
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:28:31' prior: 50904977!
test11

	| portfolio account |
	
	portfolio := Portfolio new.
	
	account := ReceptiveAccount new.	
	account register: depositOf100.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/24/2021 23:58:53'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:59:59' prior: 50904989!
test11

	| portfolio account |
	
	portfolio := Portfolio new.
	account := self accountWith: depositOf100.
	portfolio register: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/24/2021 23:59:59'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:00:00'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:00:00'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:00:00'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:00:00'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:00:01'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:00:03'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:11'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:12'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:23'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:00:27'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:00:44'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:00:55'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:02:08' prior: 50903964!
test12

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	
	subportfolio := Portfolio new.
	subportfolio register: account.
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:02:10'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:02:57' prior: 50903980!
test13

	| portfolio subportfolio subsubportfolio |
	
	subsubportfolio := Portfolio new.
	subsubportfolio register: (self accountWith: depositOf100).
	
	subportfolio := Portfolio new.
	subportfolio register: subsubportfolio.
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self
		should: [ portfolio register: subsubportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:02:59'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:03:34' prior: 50904000!
test14

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	
	portfolio := Portfolio new.
	portfolio register: account.
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:03:35'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:03:40' prior: 50905373!
test14

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	
	portfolio := Portfolio new.
	portfolio register: account.
	
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:04:18' prior: 50904016!
test15

	| portfolio subportfolioA subportfolioB |
	
	portfolio := Portfolio new.
	subportfolioA := Portfolio new.
	subportfolioB := Portfolio new.
	
	subportfolioA register: (self accountWith: depositOf100).
	subportfolioB register: (self accountWith: depositOf100).
	portfolio register: subportfolioA .
	
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:04:20'!
FAILURE!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:05:09' prior: 50905444!
test15

	| portfolio account subportfolioA subportfolioB |
	
	account := self accountWith: depositOf100.
	
	subportfolioA := Portfolio new.
	subportfolioA register: account.
	
	subportfolioB := Portfolio new.
	subportfolioB register: account.
	
	portfolio := Portfolio new.
	portfolio register: subportfolioA .
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:05:34'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:06:48' prior: 50904035!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	
	portfolioA := Portfolio new.	
	subportfolio := Portfolio new.
	portfolioA register: subportfolio.
	portfolioA register: account.
	
	portfolioB := Portfolio new.
	portfolioB register: subportfolio.
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:06:51'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:07:28'!
portfolioWith: aFinantialAsset

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio register: aFinantialAsset .
	
	^ portfolio ! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:07:51' prior: 50904579!
test02

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:07:52'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:06' prior: 50904587!
test03

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.! !

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:07'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:20' prior: 50904637!
test05

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:20'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:23'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:34' prior: 50904695!
test07

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:34'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:47' prior: 50904756!
test08

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWith: subportfolio.
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:47'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:56' prior: 50904858!
test09

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	
	portfolio := self portfolioWith: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:08:59' prior: 50905871!
test09

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWith: subportfolio.
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:08:59'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:09:09' prior: 50904909!
test10

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	
	portfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:09:09'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:09:16' prior: 50905931!
test10

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	
	portfolio := self portfolioWith: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:09:17'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:09:19' prior: 50905983!
test10

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWith: subportfolio.
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:09:20'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:09:45' prior: 50905043!
test11

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:09:46'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:09:59' prior: 50905260!
test12

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	subportfolio := self portfolioWith: account.
	portfolio := self portfolioWith: subportfolio.
	
	self
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:10:00'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:10:18' prior: 50905315!
test13

	| portfolio subportfolio subsubportfolio |
	
	subsubportfolio := self portfolioWith: (self accountWith: depositOf100).
	subportfolio := self portfolioWith: subsubportfolio.
	portfolio := self portfolioWith: subportfolio.
	
	self
		should: [ portfolio register: subsubportfolio. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:10:19'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:10:56' prior: 50905428!
test14

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:10:56'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:11:12' prior: 50905465!
test15

	| portfolio account subportfolioA subportfolioB |
	
	account := self accountWith: depositOf100.
	subportfolioA := self portfolioWith: account.
	subportfolioB := self portfolioWith: account.
	portfolio := self portfolioWith: subportfolioA .
	
	self
		should: [ portfolio register: subportfolioB. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:11:13'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:12:01' prior: 50905523!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	portfolioA := self portfolioWith: subportfolio.
	portfolioB := self portfolioWith: subportfolio.
	portfolioA register: account.
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:12:10'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:13:49'!
shouldRaiseErrorAlreadyRegisteredFor: aBlock
	
	self
		should: aBlock 
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:14:11' prior: 50906087!
test11

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.
	self 
		should: [ portfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:14:12'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:14:18' prior: 50906425!
test11

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.! !

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:14:18'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:14:49' prior: 50906139!
test12

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	subportfolio := self portfolioWith: account.
	portfolio := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].! !

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:14:49'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:15:01' prior: 50906193!
test13

	| portfolio subportfolio subsubportfolio |
	
	subsubportfolio := self portfolioWith: (self accountWith: depositOf100).
	subportfolio := self portfolioWith: subsubportfolio.
	portfolio := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subsubportfolio. ].! !

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:15:01'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:15:01'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:15:02'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:15:12' prior: 50906249!
test14

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:15:13'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:15:39' prior: 50906304!
test15

	| portfolio account subportfolioA subportfolioB |
	
	account := self accountWith: depositOf100.
	subportfolioA := self portfolioWith: account.
	subportfolioB := self portfolioWith: account.
	portfolio := self portfolioWith: subportfolioA .
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subportfolioB. ]! !

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:15:40'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:15:48' prior: 50906360!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	portfolioA := self portfolioWith: subportfolio.
	portfolioB := self portfolioWith: subportfolio.
	portfolioA register: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/24/2021 23:29:00' prior: 50906739!
test16

	| subportfolio account portfolioA portfolioB |
	
	subportfolio := Portfolio new.
	portfolioA := Portfolio new.
	portfolioB := Portfolio new.
	account := ReceptiveAccount new.	
	
	account register: depositOf100.
	portfolioA register: subportfolio.
	portfolioA register: account.
	portfolioB register: subportfolio.
	
	
	self
		should: [ subportfolio register: account. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: anError messageText = Portfolio errorAlreadyRegistered ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:16:58' prior: 50906753!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	
	subportfolio := Portfolio new.
	portfolioA := Portfolio new.
	portfolioB := Portfolio new.
	
	portfolioA register: subportfolio.
	portfolioA register: account.
	portfolioB register: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:16:59'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:17:17' prior: 50906772!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := Portfolio new.
	portfolioA register: subportfolio.
	portfolioA register: account.
	
	portfolioB := Portfolio new.
	portfolioB register: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:17:18'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:17:36' prior: 50906827!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:18:19'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 00:18:35' prior: 50906882!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 00:18:41'!
PASSED!

----QUIT----(25 May 2021 00:19:39) CuisUniversity-4532.image priorSource: 18264970!

----STARTUP---- (25 May 2021 15:16:19) as /Users/ecerdeira/Desktop/ST limpio/CuisUniversity-4532.image!

!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:21:31'!
portfolioWithSubportofolioWith: aFinantialAsset

	| portfolio subportfolio |
	
	subportfolio := self portfolioWith: aFinantialAsset.
	portfolio := self portfolioWith: subportfolio.
	
	^ portfolio! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:22:13' prior: 50905822!
test08

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 100 equals: portfolio balance.! !

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:22:14'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:22:28' prior: 50905881!
test09

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:22:30'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:22:39' prior: 50906035!
test10

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:22:40'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:23:10' prior: 50906529!
test12

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].! !

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:23:16'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:24:00' prior: 50906580!
test13

	| portfolio subsubportfolio |
	
	subsubportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWithSubportofolioWith: subsubportfolio. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subsubportfolio. ].! !

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:24:03'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:24:54' prior: 50906685!
test15

	| portfolio account subportfolio |
	
	account := self accountWith: depositOf100.
	subportfolio := self portfolioWith: account.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subportfolio. ]! !

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:24:55'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:25:20' prior: 50906936!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:25:36' prior: 50907304!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:25:38'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/25/2021 15:29:48' prior: 50904175 overrides: 50903277!
register: aFinantialAsset 

	state hasAssociated: aFinantialAsset inParentsOf: self.
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !
!PortfolioStateSubPortfolio methodsFor: 'parenting' stamp: 'ENC 5/25/2021 15:31:16'!
checkIf: aFinantialAsset isAssociatedInParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.! !
!PortfolioState methodsFor: 'parenting' stamp: 'ENC 5/25/2021 15:31:16'!
checkIf: aFinantialAsset isAssociatedInParentsOf: aPortfolio

	self subclassResponsibility ! !
!PortfolioStateRoot methodsFor: 'parenting' stamp: 'ENC 5/25/2021 15:31:16' overrides: 50907388!
checkIf: aFinantialAsset isAssociatedInParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/25/2021 15:31:16' prior: 50907373 overrides: 50903277!
register: aFinantialAsset 

	state checkIf: aFinantialAsset isAssociatedInParentsOf: self.
	
	aFinantialAsset registerAsParent: self.
	finantialAssets add: aFinantialAsset.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'ENC 5/25/2021 15:31:16' prior: 50903386!
hasParentAssociatedWith: aFinantialAsset

	^ state checkIf: aFinantialAsset isAssociatedInParentsOf: self.! !

!methodRemoval: PortfolioStateSubPortfolio #hasAssociated:inParentsOf: stamp: 'ENC 5/25/2021 15:31:16'!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset in: parents.!

!methodRemoval: PortfolioState #hasAssociated:inParentsOf: stamp: 'ENC 5/25/2021 15:31:16'!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	self subclassResponsibility !

!methodRemoval: PortfolioStateRoot #hasAssociated:inParentsOf: stamp: 'ENC 5/25/2021 15:31:17'!
hasAssociated: aFinantialAsset inParentsOf: aPortfolio

	^ aPortfolio hasAssociated: aFinantialAsset.!
!Portfolio methodsFor: 'operations - private' stamp: 'ENC 5/25/2021 15:32:04' prior: 50904298!
detectIfAny: aBlock
	
	finantialAssets detect: [ :finantialAsset | aBlock value: finantialAsset ] 
	ifFound: [ :foundFinantialAsset | ^ true ] 
	ifNone: [ ^ false ].! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:36:23'!
test01BalanceOfEmptyPortfolioIsZero

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:36:58'!
test02BalanceOfAPortfolioWithAnAccountWithDepositOf100Is100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:37:38'!
test03BalanceOfAPortfolioWithMultipleAccountsIsTheAdditionOfTheirBalances

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test03 stamp: 'ENC 5/25/2021 15:37:45'!
test03

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.!

!methodRemoval: PortfolioTest #test01 stamp: 'ENC 5/25/2021 15:37:49'!
test01

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: 0 equals: portfolio balance.!

!methodRemoval: PortfolioTest #test02 stamp: 'ENC 5/25/2021 15:37:51'!
test02

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:40:16'!
test04AnEmptyPortfolioDoesNotHasRegisteredAnyTransaction

	| portfolio |
	
	portfolio := Portfolio new.
	
	self deny: (portfolio hasRegistered: depositOf100).! !

!methodRemoval: PortfolioTest #test04 stamp: 'ENC 5/25/2021 15:40:19'!
test04

	| portfolio |
	
	portfolio := Portfolio new.
	
	self deny: (portfolio hasRegistered: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:40:46'!
test05APortfolioWithADepositOf100HasRegisteredTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!methodRemoval: PortfolioTest #test05 stamp: 'ENC 5/25/2021 15:40:52'!
test05

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: (portfolio hasRegistered: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:41:14'!
test06AnEmptyPortfolioReturnEmptyCollectionOfTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio transactions isEmpty.! !

!methodRemoval: PortfolioTest #test06 stamp: 'ENC 5/25/2021 15:41:18'!
test06

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio transactions isEmpty.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:41:49'!
test07APortfolioWithADepositOf100HasOneElementInTransactionsAndIncludesTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!methodRemoval: PortfolioTest #test07 stamp: 'ENC 5/25/2021 15:41:51'!
test07

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:44:01'!
test08BalanceOfAPortfolioWithASubportfolioWithADepositOf100Is100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 100 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test08 stamp: 'ENC 5/25/2021 15:44:04'!
test08

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 100 equals: portfolio balance.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:44:54'!
test09APortfolioWithASubportfolioWithADepositOf100HasRegisteredTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!methodRemoval: PortfolioTest #test09 stamp: 'ENC 5/25/2021 15:44:57'!
test09

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: (portfolio hasRegistered: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:45:32'!
test10APortfolioWithASubportfolioWithADepositOf100HasOneTransactionAndIsTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!methodRemoval: PortfolioTest #test10 stamp: 'ENC 5/25/2021 15:45:35'!
test10

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:46:25'!
test11RaiseErrorTryingToRegisterTwiceTheSameTransaction

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.! !
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:46:35'!
test11RaiseErrorTryingToRegisterTwiceTheSameAccount

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.! !

!methodRemoval: PortfolioTest #test11RaiseErrorTryingToRegisterTwiceTheSameTransaction stamp: 'ENC 5/25/2021 15:46:38'!
test11RaiseErrorTryingToRegisterTwiceTheSameTransaction

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.!

!methodRemoval: PortfolioTest #test11 stamp: 'ENC 5/25/2021 15:46:40'!
test11

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:46:53'!
test11RaiseErrorWhenRegisteringTwiceTheSameAccount

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.! !

!methodRemoval: PortfolioTest #test11RaiseErrorTryingToRegisterTwiceTheSameAccount stamp: 'ENC 5/25/2021 15:46:56'!
test11RaiseErrorTryingToRegisterTwiceTheSameAccount

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ]	.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:47:49'!
test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndRegisteringOnPortfolio

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].! !

!methodRemoval: PortfolioTest #test12 stamp: 'ENC 5/25/2021 15:47:51'!
test12

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:48:24'!
test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndPortfolio

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].! !

!methodRemoval: PortfolioTest #test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndRegisteringOnPortfolio stamp: 'ENC 5/25/2021 15:48:30'!
test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndRegisteringOnPortfolio

	| portfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: account. ].!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:49:25'!
test13RaiseErrorWhenRegisteringTwiceASubsubportfolio

	| portfolio subsubportfolio |
	
	subsubportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWithSubportofolioWith: subsubportfolio. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subsubportfolio. ].! !

!methodRemoval: PortfolioTest #test13 stamp: 'ENC 5/25/2021 15:49:28'!
test13

	| portfolio subsubportfolio |
	
	subsubportfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio := self portfolioWithSubportofolioWith: subsubportfolio. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subsubportfolio. ].!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:50:09'!
test14RaiseErrorWhenRegisteringAccountOnPortfolioAndSubportfolio

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!methodRemoval: PortfolioTest #test14 stamp: 'ENC 5/25/2021 15:50:12'!
test14

	| portfolio subportfolio account |
	
	account := self accountWith: depositOf100.
	portfolio := self portfolioWith: account.
	subportfolio := Portfolio new.
	portfolio register: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:51:18'!
test15RaiseErrorWhenRegisteringASubportfolioWithAnAccountAlreadyRegisteredInPortfolio

	| portfolio account subportfolio |
	
	account := self accountWith: depositOf100.
	subportfolio := self portfolioWith: account.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subportfolio. ]! !

!methodRemoval: PortfolioTest #test15 stamp: 'ENC 5/25/2021 15:51:21'!
test15

	| portfolio account subportfolio |
	
	account := self accountWith: depositOf100.
	subportfolio := self portfolioWith: account.
	portfolio := self portfolioWithSubportofolioWith: account. 
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ portfolio register: subportfolio. ]!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:52:10'!
test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!methodRemoval: PortfolioTest #test16 stamp: 'ENC 5/25/2021 15:52:16'!
test16

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:52:34' prior: 50907794!
test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent

	| subportfolio account portfolioA |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfEmptyPortfolioIsZero stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfAPortfolioWithAnAccountWithDepositOf100Is100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfAPortfolioWithMultipleAccountsIsTheAdditionOfTheirBalances stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test04AnEmptyPortfolioDoesNotHasRegisteredAnyTransaction stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioReturnEmptyCollectionOfTransactions stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test07APortfolioWithADepositOf100HasOneElementInTransactionsAndIncludesTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test08BalanceOfAPortfolioWithASubportfolioWithADepositOf100Is100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithASubportfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test10APortfolioWithASubportfolioWithADepositOf100HasOneTransactionAndIsTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test11RaiseErrorWhenRegisteringTwiceTheSameAccount stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndPortfolio stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test13RaiseErrorWhenRegisteringTwiceASubsubportfolio stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test14RaiseErrorWhenRegisteringAccountOnPortfolioAndSubportfolio stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test15RaiseErrorWhenRegisteringASubportfolioWithAnAccountAlreadyRegisteredInPortfolio stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!

!testRun: #PortfolioTest #test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent stamp: 'ENC 5/25/2021 15:52:35'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:52:52' prior: 50907823!
test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent

	| subportfolio account portfolioA portfolioB |
	
	account := self accountWith: depositOf100.
	subportfolio := Portfolio new.
	
	portfolioA := self portfolioWith: subportfolio.
	portfolioA register: account.
	portfolioB := self portfolioWith: subportfolio.
	
	self shouldRaiseErrorAlreadyRegisteredFor: [ subportfolio register: account. ]! !

!testRun: #PortfolioTest #test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfEmptyPortfolioIsZero stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfAPortfolioWithAnAccountWithDepositOf100Is100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfAPortfolioWithMultipleAccountsIsTheAdditionOfTheirBalances stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test04AnEmptyPortfolioDoesNotHasRegisteredAnyTransaction stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioReturnEmptyCollectionOfTransactions stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test07APortfolioWithADepositOf100HasOneElementInTransactionsAndIncludesTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test08BalanceOfAPortfolioWithASubportfolioWithADepositOf100Is100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioWithASubportfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test10APortfolioWithASubportfolioWithADepositOf100HasOneTransactionAndIsTheDepositOf100 stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test11RaiseErrorWhenRegisteringTwiceTheSameAccount stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndPortfolio stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test13RaiseErrorWhenRegisteringTwiceASubsubportfolio stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test14RaiseErrorWhenRegisteringAccountOnPortfolioAndSubportfolio stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test15RaiseErrorWhenRegisteringASubportfolioWithAnAccountAlreadyRegisteredInPortfolio stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!

!testRun: #PortfolioTest #test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent stamp: 'ENC 5/25/2021 15:52:55'!
PASSED!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:53:49'!
test02BalanceOfAPortfolioWithADepositOf100Is100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test02BalanceOfAPortfolioWithAnAccountWithDepositOf100Is100 stamp: 'ENC 5/25/2021 15:53:53'!
test02BalanceOfAPortfolioWithAnAccountWithDepositOf100Is100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	
	self assert: 100 equals: portfolio balance.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:54:13'!
test03BalanceOfAPortfolioWithMultipleAccountsIsTheSumOfTheirBalances

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test03BalanceOfAPortfolioWithMultipleAccountsIsTheAdditionOfTheirBalances stamp: 'ENC 5/25/2021 15:54:16'!
test03BalanceOfAPortfolioWithMultipleAccountsIsTheAdditionOfTheirBalances

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).
	portfolio register: (self accountWith: depositOf150).
	
	self assert: 250 equals: portfolio balance.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:57:53'!
test07APortfolioWithADepositOf100IncludesOnlyTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!methodRemoval: PortfolioTest #test07APortfolioWithADepositOf100HasOneElementInTransactionsAndIncludesTheDepositOf100 stamp: 'ENC 5/25/2021 15:57:56'!
test07APortfolioWithADepositOf100HasOneElementInTransactionsAndIncludesTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWith: (self accountWith: depositOf100).	
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 15:58:50'!
test08BalanceOfAPortfolioIncludesBalanceOfSubportfolios

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 100 equals: portfolio balance.! !

!methodRemoval: PortfolioTest #test08BalanceOfAPortfolioWithASubportfolioWithADepositOf100Is100 stamp: 'ENC 5/25/2021 15:58:54'!
test08BalanceOfAPortfolioWithASubportfolioWithADepositOf100Is100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 100 equals: portfolio balance.!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 16:00:42'!
test10TransactionsOfAPortfolioIncludesTransactionsOfSubportfolio

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).! !

!methodRemoval: PortfolioTest #test10APortfolioWithASubportfolioWithADepositOf100HasOneTransactionAndIsTheDepositOf100 stamp: 'ENC 5/25/2021 16:00:44'!
test10APortfolioWithASubportfolioWithADepositOf100HasOneTransactionAndIsTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: 1 equals: portfolio transactions size.
	self assert: (portfolio transactions includes: depositOf100).!
!PortfolioTest methodsFor: 'testing' stamp: 'ENC 5/25/2021 16:01:07'!
test09APortfolioHasRegisteredTheTransactionsOfSubporfolio

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: (portfolio hasRegistered: depositOf100).! !

!methodRemoval: PortfolioTest #test09APortfolioWithASubportfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 16:01:10'!
test09APortfolioWithASubportfolioWithADepositOf100HasRegisteredTheDepositOf100

	| portfolio |
	
	portfolio := self portfolioWithSubportofolioWith: (self accountWith: depositOf100). 
	
	self assert: (portfolio hasRegistered: depositOf100).!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/25/2021 16:01:39' prior: 50902994 overrides: 50903282!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	finantialAssets do: [ :aFinantialAsset | transactions := transactions, aFinantialAsset transactionsForPortfolio ].
	
	^ transactions .! !
!ReceptiveAccount methodsFor: 'operations' stamp: 'ENC 5/25/2021 16:01:56'!
transactionsForPortfolio 

	^ transactions! !
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/25/2021 16:02:32'!
transactionsForPortfolio
	
	^ self transactions! !

!testRun: #PortfolioTest #test01BalanceOfEmptyPortfolioIsZero stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfAPortfolioWithADepositOf100Is100 stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfAPortfolioWithMultipleAccountsIsTheSumOfTheirBalances stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test04AnEmptyPortfolioDoesNotHasRegisteredAnyTransaction stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test05APortfolioWithADepositOf100HasRegisteredTheDepositOf100 stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test06AnEmptyPortfolioReturnEmptyCollectionOfTransactions stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test07APortfolioWithADepositOf100IncludesOnlyTheDepositOf100 stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test08BalanceOfAPortfolioIncludesBalanceOfSubportfolios stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test09APortfolioHasRegisteredTheTransactionsOfSubporfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test10TransactionsOfAPortfolioIncludesTransactionsOfSubportfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test11RaiseErrorWhenRegisteringTwiceTheSameAccount stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test12RaiseErrorWhenRegisteringAccountOnSubportfolioAndPortfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test13RaiseErrorWhenRegisteringTwiceASubsubportfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test14RaiseErrorWhenRegisteringAccountOnPortfolioAndSubportfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test15RaiseErrorWhenRegisteringASubportfolioWithAnAccountAlreadyRegisteredInPortfolio stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #PortfolioTest #test16RaiseErrorWhenRegisteringAccountAlreadyRegisteredOnAParent stamp: 'ENC 5/25/2021 16:02:51'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'ENC 5/25/2021 16:02:53'!
PASSED!
!Portfolio methodsFor: 'operations' stamp: 'ENC 5/25/2021 16:04:54' prior: 50908130 overrides: 50903282!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.	
	
	finantialAssets do: [ :aFinantialAsset | transactions := transactions, aFinantialAsset transactionsForPortfolio ].
	
	^ transactions.! !

----QUIT----(25 May 2021 16:09:07) CuisUniversity-4532.image priorSource: 18410838!